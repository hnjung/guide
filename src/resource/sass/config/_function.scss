/*
	파일정보 : 환경설정 > 함수선언(@mixin, @function)
	업데이트 : 2024-08-01
*/

@use 'variable' as config;

/* 분기점 */
/** 특정 분기점의 최소 너비 */
@function breakpoint-min($name) {
	$min: map-get(config.$breakpoint, $name);
	@return if($min != 0, $min, null);
}
/** 특정 분기점의 최대 너비 */
@function breakpoint-max($name) {
	$breakpoint-name: map-keys(config.$breakpoint);
	$index: index($breakpoint-name, $name);
	$next-breakpoint: nth($breakpoint-name, $index + 1);

	/* 다음 분기점의 최소값에서 0.02px을 뺀 값을 최대값으로 반환 */
	$max: map-get(config.$breakpoint, $next-breakpoint) - 0.02;
	@return if($max > 0, $max, null);
}
/** 특정 분기점 이상 적용 */
@mixin media-up($name) {
	@media screen and (min-width: breakpoint-min($name)) {
		@content;
	}
}
/** 특정 분기점 이하 적용 */
@mixin media-down($name) {
	@media screen and (max-width: breakpoint-max($name)) {
		@content;
	}
}
/** 분기점과 분기점 내에서 적용 */
@mixin media-between($name-min, $name-max) {
	@media screen and (min-width: breakpoint-min($name-min)) and (max-width: breakpoint-max($name-max)) {
		@content;
	}
}
/** 특정 분기점 에서만 적용 */
@mixin media-only($name) {
	$min: breakpoint-min($name);
	$max: breakpoint-max($name);

	@media screen and (min-width: $min) and (max-width: $max) {
		@content;
	}
}

/* 색상 */
@function tint-color($color, $weight) {
	@return mix(white, $color, $weight);
}
@function shade-color($color, $weight) {
	@return mix(black, $color, $weight);
}
@function invert-color($color) {
	@return rgb(255 - red($color), 255 - green($color), 255 - blue($color));
}

/* 아이콘 - $size = $icon-group */
@mixin icon-block($size) {
	$var: var(--#{config.$prefix}icon-#{$size});

	width: $var;
	height: $var;
}

@mixin icon-common($size, $x: 0, $y: 0) {
	$var: var(--#{config.$prefix}icon-#{$size});

	@include icon-block($size);
	background-image: url('#{config.$path-image}/common/icon-#{$size}.svg');
	background-repeat: no-repeat;
	background-position: calc($var * -#{$x}) calc($var * -#{$y});
	background-size: calc($var * 10) auto;
}

/* 말줄임 */
@mixin ellipsis($max-width, $line: 1) {
	overflow: hidden;
	text-overflow: ellipsis;
	max-width: $max-width;
	@if ($line == 1) {
		display: inline-block;
		white-space: nowrap;
	} @else {
		display: -webkit-box;
		-webkit-box-orient: vertical;
		-webkit-line-clamp: $line;
	}
}

@mixin full-block {
	display: block;
	width: 100%;
	height: 100%;
}

@mixin full-fix($position: fixed) {
	position: $position;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
}