{"version":3,"file":"main.js","sources":["../../../src/resource/js/main.js"],"sourcesContent":["/* 공통 전역변수 */\r\nconst commUiVar = {\r\n\tactiveClass : 'is-active', /* 활성화 클래스명 */\r\n\topenClass : 'is-open', /* 오픈 클래스명 */\r\n\tanimationSpeed : .3 * 1000, /* 애니메이션 시간 */\r\n\tfocusElements : 'a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled], .btn-clear, .btn-popup-drag), [tabindex=\"0\"], [data-focus-on=\"true\"]', /* 웹접근성 포커스 요소 */\r\n\tactiveTF : { /* 히든요소 활성화 체크 */\r\n\t\tinputBtnClear : false,\r\n\t\tinputSearch : false,\r\n\t\tinputCalendar : false,\r\n\t\tselect : false,\r\n\t\tpopup : false,\r\n\t\tpopover : false,\r\n\t\ttoast : false\r\n\t},\r\n\tpopupZIndex : 20,\r\n\telement : {\r\n\t\tpage : document.querySelector('#page'),\r\n\t\tmain : document.querySelector('#main'),\r\n\t}\r\n};\r\n\r\n/* 웹접근성 포커스 연결 및 해제 */\r\nconst commUiFnFocus = {\r\n\t/* 단일 요소 포커스 연결 */\r\n\tfocus : (_element) => {\r\n\t\tcommUiFnFocus.set(_element, 0);\r\n\t},\r\n\t/* 히든 영역 포커스 연결 */\r\n\tonFocus : (_element) => {\r\n\t\tconst findFocusElement = _element.querySelectorAll(commUiVar.focusElements);\r\n\t\tfindFocusElement.forEach(function(_this) {\r\n\t\t\tcommUiFnFocus.set(_this, 0);\r\n\t\t});\r\n\t},\r\n\t/* 단일 요소 포커스 해제 */\r\n\tblur : (_element) => {\r\n\t\tcommUiFnFocus.set(_element, -1);\r\n\t},\r\n\t/* 히든 영역 포커스 해제 */\r\n\tonBlur : (_element) => {\r\n\t\tconst findFocusElement = _element.querySelectorAll(commUiVar.focusElements);\r\n\t\tfindFocusElement.forEach(function(_this) {\r\n\t\t\tcommUiFnFocus.set(_this, -1);\r\n\t\t});\r\n\t},\r\n\t/* 반영 */\r\n\tset : (_target, _tabIndex) => {\r\n\t\tif (_target.classList.contains('select-data')) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\t_target.setAttribute('tabindex', _tabIndex);\r\n\t\tif (_tabIndex === 0) {\r\n\t\t\t_target.setAttribute('aria-hidden', false);\r\n\t\t} else {\r\n\t\t\t_target.setAttribute('aria-hidden', true);\r\n\t\t}\r\n\t}\r\n};\r\n\r\n/* 웹접근성 리더기 연결 및 해제 */\r\nconst commUiFnAriaHide = {\r\n\tset : (_element) => {\r\n\t\t_element.setAttribute('aria-hidden', true);\r\n\t},\r\n\tclear : (_element) => {\r\n\t\t_element.setAttribute('aria-hidden', false);\r\n\t}\r\n};\r\n\r\n/* 이미지 다운로드 금지 */\r\nconst commUiDisableContextMenu = {\r\n\tinit : () => {\r\n\t\tdocument.addEventListener('contextmenu', (e) => {\r\n\t\t\te.preventDefault();\r\n\t\t});\r\n\t} \r\n};\r\n/* commUiDisableContextMenu.init(); */ /* 테스트를 위한 주석처리로 운영 배포 시 주석 해제 후 반영 */\r\n\r\n/* 레이아웃-메뉴 */\r\nconst commUiFnGNB = {\r\n\t/* 초기실행 */\r\n\tinit : () => {\r\n\t\tcommUiFnGNB.event();\r\n\t},\r\n\t/* 앵커 메뉴 이벤트 연결 */\r\n\tanchor : () => {\r\n\t\tconst gnb = document.querySelector('#gnb');\r\n\t\tconst gnbScroll = gnb.querySelector('.gnb-inner');\r\n\t\tif (gnbScroll) {\r\n\t\t\t/* 스크롤 이벤트 */\r\n\t\t\tgnbScroll.addEventListener('scroll', commUiFnGNB.anchorScroll);\r\n\r\n\t\t\t/* 클릭 이벤트 */\r\n\t\t\tconst anchorMenu = gnb.querySelectorAll('.anchor .anchor-item > .link');\r\n\t\t\tanchorMenu.forEach(function(_this) {\r\n\t\t\t\t_this.addEventListener('click', commUiFnGNB.anchorClick);\r\n\t\t\t});\r\n\t\t}\r\n\t},\r\n\t/* 스크롤 시 앵커 메뉴 활성화 */\r\n\tanchorScroll : (_event) => {\r\n\t\tconst gnb = document.querySelector('#gnb');\r\n\t\tconst utilY = gnb.querySelector('.util').scrollHeight;\r\n\t\tconst anchorY = gnb.querySelector('.anchor').scrollHeight;\r\n\t\t\r\n\t\tconst element = _event.target;\r\n\t\tconst gnbTop = element.querySelector('.gnb-wrap').offsetTop;\r\n\t\tconst scrollTop = element.scrollTop;\r\n\r\n\t\t/* 앵커 활성화 */\r\n\t\tif (scrollTop > (gnbTop - utilY - anchorY - 1)) {\r\n\t\t\tgnb.classList.add('is-scroll');\r\n\t\t} else {\r\n\t\t\tgnb.classList.remove('is-scroll');\r\n\t\t}\r\n\r\n\t\t/* 해당 영역의 앵커 메뉴 활성화 */\r\n\t\tgnb.querySelectorAll('.anchor .anchor-item > .link').forEach(function(_this) {\r\n\t\t\tconst thisTarget = _this.getAttribute('href');\r\n\t\t\tconst menuId = document.querySelector(thisTarget);\r\n\t\t\tconst menuTop = menuId.offsetTop;\r\n\t\t\tconst menuTopGap = menuTop - utilY - anchorY - 1;\r\n\t\t\tconst scrollBottom = scrollTop + gnb.scrollHeight;\r\n\r\n\t\t\t/* console.log('scrolll', scrollTop, '>', menuTopGap, ' else ', scrollBottom, '>=', ' (', menuTop, ' + ', menuId.scrollHeight, ')', menuTop + menuId.scrollHeight);\r\n\t\t\tdocument.querySelector('#consolelog').innerHTML = `scroll== ${scrollTop} > ${menuTopGap} else ${scrollBottom} >= (${menuTop} + ${menuId.scrollHeight}) ${menuTop + menuId.scrollHeight}`; */\r\n\r\n\t\t\tif (scrollTop > menuTopGap) {\r\n\t\t\t\tcommUiFnGNB.anchorActive(_this);\r\n\t\t\t} else if (scrollBottom >= (menuTop + menuId.scrollHeight)) {\r\n\t\t\t\tcommUiFnGNB.anchorActive(_this);\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\t/* 앵커 메뉴 활성화 */\r\n\tanchorActive : (_element) => {\r\n\t\tconst thisWrap =_element.closest('.anchor-wrap');\r\n\t\tconst thisMenu = _element.closest('.anchor-item');\r\n\t\tconst thisList = thisWrap.querySelector('.anchor-list');\r\n\r\n\t\t/* 활성화 */\r\n\t\t_element.closest('.anchor').querySelectorAll('.anchor-item').forEach(function(_this) {\r\n\t\t\t_this.classList.remove(commUiVar.activeClass);\r\n\t\t})\r\n\t\tthisMenu.classList.add(commUiVar.activeClass);\r\n\r\n\t\t/* 가로 스크롤 가운데 위치 이동 */\r\n\t\tthisWrap.scrollLeft = thisMenu.offsetLeft + (thisMenu.offsetWidth / 2) - (thisList.offsetWidth / 2);\r\n\t},\r\n\t/* 앵커 메뉴 클릭 시 스크롤 이동 */\r\n\tanchorClick : (_event) => {\r\n\t\t_event.preventDefault();\r\n\r\n\t\tconst gnb = document.querySelector('#gnb');\r\n\t\tconst gnbScroll = gnb.querySelector('.gnb-inner');\r\n\t\tconst utilY = gnb.querySelector('.util').scrollHeight;\r\n\t\tconst anchorY = gnb.querySelector('.anchor').scrollHeight;\r\n\r\n\t\tlet element = _event.target;\r\n\t\tif (element.classList.contains('txt')) {\r\n\t\t\telement = element.parentElement;\r\n\t\t}\r\n\t\tconst thisWrap = element.closest('.anchor-wrap');\r\n\t\tconst thisList = thisWrap.querySelector('.anchor-list');\r\n\r\n\t\tthisList.querySelectorAll('.anchor-item').forEach(function(_this) {\r\n\t\t\t_this.classList.remove(commUiVar.activeClass);\r\n\t\t});\r\n\t\telement.parentElement.classList.add(commUiVar.activeClass);\r\n\r\n\t\tconst thisLink = element.getAttribute('href');\r\n\t\tlet targetTop = document.querySelector(thisLink).offsetTop;\r\n\r\n\t\t/* console.log('thisLink', thisLink, gnbScroll.scrollHeight, document.querySelector('#wrap').scrollHeight, (document.querySelector('.menu-2nd-item').scrollHeight * 4), gnbScroll.scrollHeight - document.querySelector('#wrap').scrollHeight - (document.querySelector('.menu-2nd-item').scrollHeight * 4), 'ddd'); */\r\n\r\n\t\tif (thisLink === '#menu-gnb-company') { /* 수동 위치 조절 */\r\n\t\t\ttargetTop = gnbScroll.scrollHeight - document.querySelector('#wrap').scrollHeight - (document.querySelector('.menu-2nd-item').scrollHeight * 4) + utilY + anchorY;\r\n\t\t}\r\n\r\n\t\t/* 가로 세로 스크롤 위치 이동 */\r\n\t\tgnbScroll.scrollTop = `${targetTop - utilY - anchorY}`;\r\n\t\tthisWrap.scrollLeft = element.offsetLeft + (element.offsetWidth / 2) - (thisList.offsetWidth / 2);\r\n\t},\r\n\t/* 웹접근성 대응 : 포커스 처리 */\r\n\tfocusEvent : () => {\r\n\t\tconst gnb = document.querySelector('#gnb');\r\n\t\tif (gnb) {\r\n\t\t\tconst focusElement = gnb.querySelectorAll(commUiVar.focusElements);\r\n\t\t\tconst firstFocus = focusElement[0];\r\n\t\t\tconst lastFocus = focusElement[focusElement.length - 1];\r\n\t\r\n\t\t\tif (lastFocus) {\r\n\t\t\t\tlastFocus.addEventListener('blur', function() {\r\n\t\t\t\t\tfirstFocus.focus();\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tif (firstFocus) {\r\n\t\t\t\tfirstFocus.addEventListener('blur', function() {\r\n\t\t\t\t\tfocusElement[0 + 1].focus();\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t/* 열기 */\r\n\topen : () => {\r\n\t\tconst header = document.querySelector('#header');\r\n\t\tconst gnb = header.querySelector('#gnb');\r\n\r\n\t\tgnb.classList.add(commUiVar.openClass);\r\n\t\tgnb.setAttribute('aria-hidden', false);\r\n\t\tgnb.setAttribute('tabindex', 0);\r\n\t\tgnb.querySelector('.gnb-inner').scrollTop = 0;\r\n\r\n\t\tsetTimeout(() => {\r\n\t\t\tconst headerClass = header.classList;\r\n\t\t\theaderClass.add('gnb-open');\r\n\t\t\theader.querySelectorAll('#gnb .menu-2nd-item.fn-fold-wrap > .link.option-fold.fn-fold-btn').forEach(function(_this) {\r\n\t\t\t\tcommUiFnFold.set(_this, true);\r\n\t\t\t});\r\n\t\t\tgnb.focus();\r\n\t\t}, 10);\r\n\r\n\t\t/* 웹접근성 대응 - 초점 이탈 방지 - 2024-04-18 : 수정 */\r\n\t\tcommUiFnAriaHide.set(commUiVar.element.main);\r\n\t\tcommUiFnAriaHide.set(header.querySelector('.btn-menu'));\r\n\t\tcommUiFnAriaHide.set(header.querySelector('.header-title'));\r\n\t\tcommUiFnAriaHide.set(header.querySelector('.header-util'));\r\n\t\tcommUiFnAriaHide.set(document.querySelector('#skip'));\r\n\r\n\t\t/* 앵커 메뉴 이벤트 연결 */\r\n\t\tcommUiFnGNB.anchor();\r\n\t},\r\n\t/* 닫기 */\r\n\tclose : () => {\r\n\t\tconst header = document.querySelector('#header');\r\n\t\tconst gnb = header.querySelector('#gnb');\r\n\r\n\t\tconst headerClass = header.classList;\r\n\t\theaderClass.remove('gnb-open');\r\n\t\tgnb.classList.remove('is-scroll');\r\n\r\n\t\tgnb.classList.remove(commUiVar.openClass);\r\n\t\tgnb.setAttribute('aria-hidden', true);\r\n\t\tgnb.setAttribute('tabindex', -1);\r\n\r\n\t\t/* 웹접근성 대응 - 초점 이탈 방지 - 2024-04-18 : 수정 */\r\n\t\tcommUiFnAriaHide.clear(commUiVar.element.main);\r\n\t\tcommUiFnAriaHide.clear(header.querySelector('.btn-menu'));\r\n\t\tcommUiFnAriaHide.clear(header.querySelector('.header-title'));\r\n\t\tcommUiFnAriaHide.clear(header.querySelector('.header-util'));\r\n\t\tcommUiFnAriaHide.clear(document.querySelector('#skip'));\r\n\r\n\t\theader.querySelector('.btn-menu').focus();\r\n\t},\r\n\t/* 이벤트 연결 */\r\n\tevent : () => {\r\n\t\tconst header = document.querySelector('#header');\r\n\t\tif (header) {\r\n\t\t\t/* 메뉴 열기 */\r\n\t\t\tconst gnbMenu = header.querySelector('.btn-menu');\r\n\t\t\tif (gnbMenu) gnbMenu.addEventListener('click', commUiFnGNB.open);\r\n\t\t\tcommUiFnGNB.focusEvent();\r\n\t\t\t/* 메뉴 닫기 */\r\n\t\t\tconst gnbMenuClose = header.querySelector('.btn-menu-close');\r\n\t\t\tif (gnbMenuClose) gnbMenuClose.addEventListener('click', commUiFnGNB.close);\r\n\t\t}\r\n\t}\r\n};\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n\tcommUiFnGNB.init();\r\n});\r\n\r\n/* 페이지 검색 */\r\nconst commUiFnPageSearch = {\r\n\t/* 검색창 오픈한 버튼 저장, 닫기 시 포커스 이동에 필요 */\r\n\topenId : '',\r\n\t/* 초기실행 */\r\n\tinit : () => {\r\n\t\tcommUiFnPageSearch.event();\r\n\t},\r\n\t/* 웹접근성 대응 : 포커스 처리 */\r\n\tfocusEvent : () => {\r\n\t\tconst header = document.querySelector('#header');\r\n\t\tconst search = header.querySelector('#search');\r\n\t\tconst focusElement = search.querySelectorAll(commUiVar.focusElements);\r\n\t\tconst firstFocus = focusElement[0];\r\n\t\tconst lastFocus = focusElement[focusElement.length - 1];\r\n\r\n\t\tlastFocus.addEventListener('blur', function() {\r\n\t\t\tfirstFocus.focus();\r\n\t\t});\r\n\t\tfirstFocus.addEventListener('blur', function() {\r\n\t\t\tfocusElement[0 + 1].focus();\r\n\t\t});\r\n\t},\r\n\t/* 열기 */\r\n\topen : (_event) => {\r\n\t\tconst header = document.querySelector('#header');\r\n\t\tconst search = header.querySelector('#search');\r\n\r\n\t\tsearch.classList.add(commUiVar.openClass);\r\n\t\tsearch.setAttribute('aria-hidden', false);\r\n\t\tsearch.setAttribute('tabindex', 0);\r\n\t\tconst headerClass = header.classList;\r\n\t\theaderClass.add('search-open');\r\n\t\tsearch.focus();\r\n\r\n\t\t/* 웹접근성 대응 - 초점 이탈 방지 - 2024-04-18 : 수정 */\r\n\t\tcommUiFnAriaHide.set(commUiVar.element.main);\r\n\t\tcommUiFnAriaHide.set(header.querySelector('.btn-menu'));\r\n\t\tcommUiFnAriaHide.set(header.querySelector('.header-title'));\r\n\t\tcommUiFnAriaHide.set(header.querySelector('.header-util'));\r\n\t\tcommUiFnAriaHide.set(document.querySelector('#skip'));\r\n\t\tcommUiFnAriaHide.set(document.querySelector('#gnb'));\r\n\r\n\t\t/* 검색창 오픈한 버튼 저장 */\r\n\t\tif(!commUiFnPageSearch.openId) {\r\n\t\t\tcommUiFnPageSearch.openId = _event.target;\r\n\t\t}\r\n\t},\r\n\t/* 닫기 */\r\n\tclose : () => {\r\n\t\tconst header = document.querySelector('#header');\r\n\t\tconst search = header.querySelector('#search');\r\n\r\n\t\tsearch.classList.remove(commUiVar.openClass);\r\n\t\tsearch.setAttribute('aria-hidden', true);\r\n\t\tsearch.setAttribute('tabindex', -1);\r\n\t\tconst headerClass = header.classList;\r\n\t\theaderClass.remove('search-open');\r\n\r\n\t\t/* 웹접근성 대응 - 초점 이탈 방지 - 2024-04-18 : 수정 */\r\n\t\tif (!header.classList.contains('gnb-open')) {\r\n\t\t\tcommUiFnAriaHide.clear(commUiVar.element.main);\r\n\t\t\tcommUiFnAriaHide.clear(header.querySelector('.btn-menu'));\r\n\t\t\tcommUiFnAriaHide.clear(header.querySelector('.header-title'));\r\n\t\t\tcommUiFnAriaHide.clear(header.querySelector('.header-util'));\r\n\t\t\tcommUiFnAriaHide.clear(document.querySelector('#skip'));\r\n\t\t}\r\n\t\tcommUiFnAriaHide.clear(document.querySelector('#gnb'));\r\n\r\n\t\t/* 검색창 오픈한 버튼 포커스 */\r\n\t\tcommUiFnPageSearch.openId.focus();\r\n\t\tcommUiFnPageSearch.openId = '';\r\n\t},\r\n\t/* 이벤트 연결 */\r\n\tevent : () => {\r\n\t\tconst header = document.querySelector('#header');\r\n\t\tif (header) {\r\n\t\t\t/* 메뉴 열기 */\r\n\t\t\tconst btnSearch = header.querySelector('.btn-search');\r\n\t\t\tif (btnSearch) {\r\n\t\t\t\tbtnSearch.addEventListener('click', commUiFnPageSearch.open);\r\n\t\t\t\tcommUiFnPageSearch.focusEvent();\r\n\r\n\t\t\t\t/* 링크 이벤트 연결 */\r\n\t\t\t\theader.querySelector('.util-item.search > .link').addEventListener('click', function() {\r\n\t\t\t\t\tbtnSearch.click();\r\n\r\n\t\t\t\t\t/* 검색창 오픈한 버튼 저장 */\r\n\t\t\t\t\tcommUiFnPageSearch.openId = this;\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\r\n\t\t\t/* 메뉴 닫기 */\r\n\t\t\tconst btnClose = header.querySelector('.btn-search-close');\r\n\t\t\tif (btnClose) btnClose.addEventListener('click', commUiFnPageSearch.close);\r\n\t\t}\r\n\t}\r\n};\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n\tcommUiFnPageSearch.init();\r\n});\r\n\r\n/* 탭 */\r\nconst commUiFnTab = {\r\n\t/* 초기실행 */\r\n\tinit : () => {\r\n\t\tcommUiFnTab.load();\r\n\t\tcommUiFnTab.keyEvent();\r\n\t},\r\n\t/* 로드 시 */\r\n\tload : () => {\r\n\t\tconst tabMenu = document.querySelectorAll('.tab-head .tab-menu');\r\n\t\ttabMenu.forEach(function(_this) {\r\n\t\t\t/* 스크립트 예외형인 경우 */\r\n\t\t\tif (_this.closest('.tab').classList.contains('option-manual')) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\t/* 로드 시 값 세팅 */\r\n\t\t\tif (_this.classList.contains(commUiVar.activeClass)) {\r\n\t\t\t\tcommUiFnTab.set(_this);\r\n\t\t\t}\r\n\t\t\t/* 클릭 이벤트 바인딩 */\r\n\t\t\t_this.addEventListener('click', commUiFnTab.select);\r\n\t\t});\r\n\t},\r\n\t/* 로드 시 값 세팅 */\r\n\tset : (_element) => {\r\n\t\tconst element = _element;\r\n\t\tconst thisTab = element.closest('.tab');\r\n\r\n\t\t/* 부모 탭 체크 */\r\n\t\tlet parentTF = false;\r\n\t\tif (thisTab.querySelectorAll('.tab').length) {\r\n\t\t\tparentTF = true;\r\n\t\t}\r\n\r\n\t\t/* 스크롤 유형일 경우 선택 탭 가운데 위치 */\r\n\t\tif (element.closest('.tab-scroll')) {\r\n\t\t\telement.closest('.tab-scroll').scrollLeft = element.offsetLeft + (element.offsetWidth / 2) - (thisTab.offsetWidth / 2);\r\n\t\t}\r\n\r\n\t\t/* 형제 탭 비활성화 */\r\n\t\tthisTab.querySelectorAll('.tab-head .tab-menu').forEach(function(_item) {\r\n\t\t\t/* 부모 탭일 경우 : 자식 요소 리턴 */\r\n\t\t\tif (parentTF) {\r\n\t\t\t\tif (!_item.closest('.tab').querySelectorAll('.tab').length) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (_item.classList.contains(commUiVar.activeClass)) {\r\n\t\t\t\tcommUiFnTab.menuSet(_item, true);\r\n\t\t\t} else {\r\n\t\t\t\tcommUiFnTab.menuSet(_item, false);\r\n\t\t\t}\r\n\t\t});\r\n\t\t/* 형제 탭 내용 비활성화 */\r\n\t\tthisTab.querySelectorAll('.tab-list .tab-item').forEach(function(_item) {\r\n\t\t\t/* 부모 탭일 경우 : 자식 요소 리턴 */\r\n\t\t\tif (parentTF) {\r\n\t\t\t\tif (!_item.closest('.tab').querySelectorAll('.tab').length) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (_item.classList.contains(commUiVar.activeClass)) {\r\n\t\t\t\tcommUiFnTab.contentSet(_item, true);\r\n\r\n\t\t\t\t/* 자식 탭 비활성화 */\r\n\t\t\t\tif (_item.querySelectorAll('.tab')) {\r\n\t\t\t\t\t_item.querySelectorAll('.tab').forEach(function(_item2) {\r\n\t\t\t\t\t\t/* 자식 형제 탭 비활성화 */\r\n\t\t\t\t\t\t_item2.querySelectorAll('.tab-head .tab-menu').forEach(function(_item3) {\r\n\t\t\t\t\t\t\tif (_item3.classList.contains(commUiVar.activeClass)) {\r\n\t\t\t\t\t\t\t\tcommUiFnTab.menuSet(_item3, true);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tcommUiFnTab.menuSet(_item3, false);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t/* 자식 형제 탭 내용 비활성화 */\r\n\t\t\t\t\t\t_item2.querySelectorAll('.tab-list .tab-item').forEach(function(_item3) {\r\n\t\t\t\t\t\t\tif (_item3.classList.contains(commUiVar.activeClass)) {\r\n\t\t\t\t\t\t\t\tcommUiFnTab.contentSet(_item3, true);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tcommUiFnTab.contentSet(_item3, false);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tcommUiFnTab.contentSet(_item, false);\r\n\r\n\t\t\t\t/* 자식 탭 비활성화 */\r\n\t\t\t\tif (_item.querySelectorAll('.tab')) {\r\n\t\t\t\t\t_item.querySelectorAll('.tab').forEach(function(_item2) {\r\n\t\t\t\t\t\t/* 자식 형제 탭 비활성화 */\r\n\t\t\t\t\t\t_item2.querySelectorAll('.tab-head .tab-menu').forEach(function(_item3) {\r\n\t\t\t\t\t\t\tcommUiFnTab.menuSet(_item3, false);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t/* 자식 형제 탭 내용 비활성화 */\r\n\t\t\t\t\t\t_item2.querySelectorAll('.tab-list .tab-item').forEach(function(_item3) {\r\n\t\t\t\t\t\t\tcommUiFnTab.contentSet(_item3, false);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\t/* 탭 메뉴 선택 시 */\r\n\tselect : (_event) => {\r\n\t\tconst element =  _event.target.closest('.tab-menu');\r\n\t\tconst thisTab = element.closest('.tab');\r\n\t\tconst thisItem = thisTab.querySelector(`#${element.getAttribute('aria-controls')}`);\r\n\r\n\t\t/* 부모 탭 체크 */\r\n\t\tlet parentTF = false;\r\n\t\tif (thisTab.querySelectorAll('.tab').length) {\r\n\t\t\tparentTF = true;\r\n\t\t}\r\n\r\n\t\t/* 스크롤 유형일 경우 선택 탭 가운데 위치 */\r\n\t\tif (element.closest('.tab-scroll')) {\r\n\t\t\telement.closest('.tab-scroll').scrollLeft = element.offsetLeft + (element.offsetWidth / 2) - (thisTab.offsetWidth / 2);\r\n\t\t}\r\n\r\n\t\t/* 형제 탭 비활성화 */\r\n\t\tthisTab.querySelectorAll('.tab-head .tab-menu').forEach(function(_item) {\r\n\t\t\t/* 부모 탭일 경우 : 자식 요소 리턴 */\r\n\t\t\tif (parentTF) {\r\n\t\t\t\tif (!_item.closest('.tab').querySelectorAll('.tab').length) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tcommUiFnTab.menuSet(_item, false);\r\n\t\t});\r\n\t\t/* 형제 탭 내용 비활성화 */\r\n\t\tthisTab.querySelectorAll('.tab-list .tab-item').forEach(function(_item) {\r\n\t\t\t/* 부모 탭일 경우 : 자식 요소 리턴 */\r\n\t\t\tif (parentTF) {\r\n\t\t\t\tif (!_item.closest('.tab').querySelectorAll('.tab').length) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tcommUiFnTab.contentSet(_item, false);\r\n\r\n\t\t\t/* 자식 탭 비활성화 */\r\n\t\t\tif (_item.querySelectorAll('.tab')) {\r\n\t\t\t\t_item.querySelectorAll('.tab').forEach(function(_item2) {\r\n\t\t\t\t\t/* 자식 형제 탭 비활성화 */\r\n\t\t\t\t\t_item2.querySelectorAll('.tab-head .tab-menu').forEach(function(_item3) {\r\n\t\t\t\t\t\tcommUiFnTab.menuSet(_item3, false);\r\n\t\t\t\t\t});\r\n\t\t\t\t\t/* 자식 형제 탭 내용 비활성화 */\r\n\t\t\t\t\t_item2.querySelectorAll('.tab-list .tab-item').forEach(function(_item3) {\r\n\t\t\t\t\t\tcommUiFnTab.contentSet(_item3, false);\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t/* 선택 탭 활성화 */\r\n\t\tcommUiFnTab.menuSet(element, true);\r\n\r\n\t\t/* 선택 탭 내용 활성화 */\r\n\t\tcommUiFnTab.contentSet(thisItem, true);\r\n\r\n\t\t/* 부모 탭일 경우 : 자식 요소 첫번빼 탭 선택 초기화 */\r\n\t\tif (parentTF) {\r\n\t\t\tif (thisItem.querySelectorAll('.tab').length) {\r\n\t\t\t\tcommUiFnTab.menuSet(thisItem.querySelector('.tab .tab-head > .tab-menu:first-child'), true);\r\n\t\t\t\tcommUiFnTab.contentSet(thisItem.querySelector('.tab .tab-list > .tab-item:first-child'), true);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t/* 메뉴 값 세팅 */\r\n\tmenuSet : (_element, _openTF) => {\r\n\t\tif (_openTF) {\r\n\t\t\t/* 열기 */\r\n\t\t\t_element.classList.add(commUiVar.activeClass);\r\n\t\t\t_element.setAttribute('aria-selected', true);\r\n\t\t\t_element.querySelector('a').setAttribute('tabindex', 0);\r\n\t\t} else {\r\n\t\t\t/* 닫기 */\r\n\t\t\t_element.classList.remove(commUiVar.activeClass);\r\n\t\t\t_element.setAttribute('aria-selected', false);\r\n\t\t\t_element.querySelector('a').setAttribute('tabindex', -1);\r\n\t\t}\r\n\t},\r\n\t/* 콘텐츠 값 세팅 */\r\n\tcontentSet : (_element, _openTF) => {\r\n\t\tif (_openTF) {\r\n\t\t\t/* 열기 */\r\n\t\t\t_element.classList.add(commUiVar.activeClass);\r\n\t\t\t_element.setAttribute('aria-hidden', false);\r\n\t\t\t_element.setAttribute('tabindex', 0);\r\n\t\t} else {\r\n\t\t\t/* 닫기 */\r\n\t\t\t_element.classList.remove(commUiVar.activeClass);\r\n\t\t\t_element.setAttribute('aria-hidden', true);\r\n\t\t\t_element.setAttribute('tabindex', -1);\r\n\t\t}\r\n\t},\r\n\t/* 웹접근성 대응 : 키 이벤트 추가 */\r\n\tkeyEvent : () => {\r\n\t\tconst tabWrap = document.querySelectorAll('.tab-head');\r\n\t\ttabWrap.forEach(function(_this) {\r\n\t\t\t/* 스크립트 예외형인 경우 */\r\n\t\t\tif (_this.closest('.tab').classList.contains('option-manual')) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\tconst tabMenu = _this.querySelectorAll('.tab-menu');\r\n\t\t\ttabMenu.forEach(function(_element, _index) {\r\n\t\t\t\t_element.addEventListener('keydown', function(_event) {\r\n\t\t\t\t\t/* 엔터키 OR 스페이스바 입력 시 클릭 이벤트 연결 */\r\n\t\t\t\t\tif (_event.keyCode === 13 || _event.keyCode === 32) {\r\n\t\t\t\t\t\t_event.preventDefault();\r\n\t\t\t\t\t\t_element.click();\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t/* 왼쪽 방향키 입력 시 탭 포커스 이동 */\r\n\t\t\t\t\tif (_event.keyCode === 37) {\r\n\t\t\t\t\t\t_event.preventDefault();\r\n\t\t\t\t\t\tif (_index === 0) {\r\n\t\t\t\t\t\t\ttabMenu[tabMenu.length - 1].querySelector('a').focus();\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\ttabMenu[_index - 1].querySelector('a').focus();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t/* 오른쪽 방향키 입력 시 탭 포커스 이동 */\r\n\t\t\t\t\tif (_event.keyCode === 39) {\r\n\t\t\t\t\t\t_event.preventDefault();\r\n\t\t\t\t\t\tif (_index === tabMenu.length - 1) {\r\n\t\t\t\t\t\t\ttabMenu[0].querySelector('a').focus();\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\ttabMenu[_index + 1].querySelector('a').focus();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n};\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n\tcommUiFnTab.init();\r\n});\r\n\r\n/* 텍스트 필드 */\r\nconst commUiFnInput = {\r\n\t/* 초기실행 */\r\n\tinit : () => {\r\n\t\tcommUiFnInput.create();\r\n\t\tcommUiFnInput.events();\r\n\t},\r\n\t/* 내용 체크, 포커스, 아웃 이벤트 */\r\n\tevents : () => {\r\n\t\tconst inputData = document.querySelectorAll('.input-data');\r\n\t\tinputData.forEach(function(_this) {\r\n\t\t\tif (_this.readOnly || _this.disabled) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\t/* 인풋 내용 체크 */\r\n\t\t\t_this.addEventListener('input', function() {\r\n\t\t\t\t/* 인풋 내용 체크 후 삭제 아이콘 노출 */\r\n\t\t\t\tif (this.value === '') {\r\n\t\t\t\t\tthis.classList.remove(commUiVar.activeClass);\r\n\t\t\t\t\tcommUiVar.activeTF.inputBtnClear = false; /* 히든요소 활성화 체크 */\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.classList.add(commUiVar.activeClass);\r\n\t\t\t\t\tcommUiVar.activeTF.inputBtnClear = true; /* 히든요소 활성화 체크 */\r\n\r\n\t\t\t\t\t/* 검색 옵션 체크 후 검색어 오픈 */\r\n\t\t\t\t\tconst optSearch = commUiFnSearch.check(this);\r\n\t\t\t\t\tif (optSearch) commUiFnSearch.open(this);\r\n\t\t\t\t}\r\n\t\t\t\t/* 이메일 옵션 체크 후 이벤트 호출 */\r\n\t\t\t\tconst optEmail = commUiFnEmail.check(this);\r\n\t\t\t\tif (optEmail) commUiFnEmail.events(this);\r\n\t\t\t});\r\n\r\n\t\t\t/* 인풋 포커스 */\r\n\t\t\t_this.addEventListener('focus', function() {\r\n\t\t\t\t/* 오픈되어 있는 옵션 레이어 닫기 */\r\n\t\t\t\tcommUiFnSearch.closeAll();\r\n\r\n\t\t\t\t/* 인풋 내용 체크 후 삭제 아이콘 노출 */\r\n\t\t\t\tcommUiFnInput.hideClearButton();\r\n\t\t\t\tif (this.value !== '') {\r\n\t\t\t\t\tthis.classList.add(commUiVar.activeClass);\r\n\t\t\t\t\tcommUiVar.activeTF.inputBtnClear = true; /* 히든요소 활성화 체크 */\r\n\r\n\t\t\t\t\t/* 검색 옵션일 경우 */\r\n\t\t\t\t\tconst optSearch = commUiFnSearch.check(this);\r\n\t\t\t\t\tif (optSearch) commUiFnSearch.open(this);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t/* 혼합형일 경우 포커스 */\r\n\t\t\t\tif (this.closest('.input-button')) this.closest('.input-button').classList.add('is-text-focus');\r\n\t\t\t\tif (this.closest('.input-mixed')) this.closest('.input-mixed').classList.add('is-text-focus');\r\n\t\t\t});\r\n\r\n\t\t\t/* 인풋 포커스 아웃 */\r\n\t\t\t_this.addEventListener('blur', function() {\r\n\t\t\t\t/* 혼합형일 경우 포커스 아웃 */\r\n\t\t\t\tif (this.closest('.input-button')) this.closest('.input-button').classList.remove('is-text-focus');\r\n\t\t\t\tif (this.closest('.input-mixed')) this.closest('.input-mixed').classList.remove('is-text-focus');\r\n\t\t\t});\r\n\t\t});\r\n\t},\r\n\t/* 삭제 버튼 엘리먼트 생성 */\r\n\tcreate : () => {\r\n\t\tconst inputData = document.querySelectorAll('.input-data');\r\n\t\tinputData.forEach(function(_this) {\r\n\t\t\t/* 인풋이 비활성화가 아닐 경우 */\r\n\t\t\tif (!_this.disabled && (_this.readOnly || !_this.readOnly)) {\r\n\t\t\t\t/* 삭제 버튼 엘리먼트 생성 */\r\n\t\t\t\tconst thisGroup = _this.closest('.input');\r\n\t\t\t\tconst addButton = document.createElement('button');\r\n\t\t\t\taddButton.setAttribute('type', 'button');\r\n\t\t\t\taddButton.setAttribute('class', 'btn-clear');\r\n\t\t\t\tthisGroup.append(addButton);\r\n\r\n\t\t\t\t/* 삭제 버튼 텍스트 엘리먼트 생성 */\r\n\t\t\t\tconst btnClear = thisGroup.querySelector('.btn-clear');\r\n\t\t\t\tconst addBtnText = document.createElement('span');\r\n\t\t\t\taddBtnText.setAttribute('class', 'sr-only')\r\n\t\t\t\tbtnClear.append(addBtnText);\r\n\t\t\t\tbtnClear.querySelector('.sr-only').innerHTML = '입력 내용 삭제';\r\n\t\t\t}\r\n\t\t});\r\n\t\tcommUiFnInput.clearContent();\r\n\t},\r\n\t/* 삭제 버튼 클릭 시 */\r\n\tclearContent : () => {\r\n\t\tconst inpBtnClear = document.querySelectorAll('.input .btn-clear');\r\n\t\tinpBtnClear.forEach(function(_this) {\r\n\t\t\t_this.addEventListener('click', function() {\r\n\t\t\t\tconst thisParentChild = this.closest('.input').querySelector('.input-data');\r\n\r\n\t\t\t\t/* 검색 옵션 체크 */\r\n\t\t\t\tconst optSearch = commUiFnSearch.check(this);\r\n\t\t\t\tif (optSearch) commUiFnSearch.closeAll();\r\n\r\n\t\t\t\t/* 인풋 내용 지우기 */\r\n\t\t\t\tthisParentChild.value = '';\r\n\t\t\t\tthisParentChild.focus();\r\n\r\n\t\t\t\tcommUiVar.activeTF.inputBtnClear = false; /* 히든요소 활성화 체크 */\r\n\t\t\t\tthisParentChild.classList.remove(commUiVar.activeClass);\r\n\t\t\t});\r\n\t\t});\r\n\t},\r\n\t/* 삭제 버튼 일괄 숨김 */\r\n\thideClearButton : () => {\r\n\t\tconst inputData = document.querySelectorAll('.input-data');\r\n\t\tinputData.forEach(function(_this) {\r\n\t\t\tcommUiVar.activeTF.inputBtnClear = false; /* 히든요소 활성화 체크 */\r\n\t\t\t_this.classList.remove(commUiVar.activeClass);\r\n\t\t});\r\n\t}\r\n};\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n\tcommUiFnInput.init();\r\n});\r\n\r\n/* 텍스트 필드 - 검색형 */\r\nconst commUiFnSearch = {\r\n\t/* 검색형 유형 체크 */\r\n\tcheck : (_element) => {\r\n\t\tlet checkTF = false;\r\n\t\tif (_element.closest('.input').classList.contains('option-search') && _element.closest('.input').querySelector('.words')) checkTF = true;\r\n\t\treturn checkTF;\r\n\t},\r\n\t/* 검색어 목록 열기 */\r\n\topen : (_element) => {\r\n\t\tconst thisParent = _element.closest('.input');\r\n\t\tthisParent.querySelector('.words').setAttribute('aria-hidden', false);\r\n\t\tif (_element.getBoundingClientRect().top > (window.innerHeight / 2)) {\r\n\t\t\tthisParent.querySelector('.words').classList.add('show-up');\r\n\t\t} else {\r\n\t\t\tthisParent.querySelector('.words').classList.add('show-down');\r\n\t\t}\r\n\r\n\t\t/* 검색어 목록 항목 선택 이벤트 연결 */\r\n\t\tconst inpOptSearch = thisParent.querySelectorAll('.words .word-item > a');\r\n\t\tinpOptSearch.forEach(function(_item) {\r\n\t\t\t_item.addEventListener('click', commUiFnSearch.select);\r\n\t\t});\r\n\r\n\t\t/* 키 이벤트 연결 */\r\n\t\tcommUiFnSearch.keyEvent(_element);\r\n\r\n\t\t/* 히든요소 활성화 체크 */\r\n\t\tcommUiVar.activeTF.inputSearch = true;\r\n\t},\r\n\t/* 검색어 목록 항목 선택 */\r\n\tselect : (_event) => {\r\n\t\tconst element = _event.target;\r\n\t\telement.closest('.input.option-search').querySelector('.input-data').focus();\r\n\t\telement.closest('.input.option-search').querySelector('.input-data').value = element.text || element.closest('.word-item > a').text;\r\n\t\tcommUiFnSearch.closeAll();\r\n\t},\r\n\t/* 검색어 목록 일괄 닫기 */\r\n\tcloseAll : () => {\r\n\t\tconst inpOptSearch = document.querySelectorAll('.input.option-search .words');\r\n\t\tinpOptSearch.forEach(function(_this) {\r\n\t\t\t_this.setAttribute('aria-hidden', true);\r\n\t\t\t_this.classList.remove('show-up', 'show-down');\r\n\t\t});\r\n\r\n\t\t/* 히든요소 활성화 체크 */\r\n\t\tcommUiVar.activeTF.inputSearch = false;\r\n\t},\r\n\t/* 웹접근성 대응 : 키 이벤트 연결 */\r\n\tkeyEvent : (_element) => {\r\n\t\t_element.addEventListener('keydown', commUiFnSearch.keyInputDataFn);\r\n\t\t\r\n\t\tconst inpOptSearch = _element.closest('.input').querySelectorAll('.words .word-item');\r\n\t\tinpOptSearch.forEach(function(_element, _index) {\r\n\t\t\t_element.addEventListener('keydown', commUiFnSearch.keyOptionsFn);\r\n\t\t});\r\n\t},\r\n\t/* 웹접근성 대응 : 텍스트 필드 키 입력 시 */\r\n\tkeyInputDataFn : (_event) => {\r\n\t\tconst element = _event.target;\r\n\t\tconst keyCode = _event.keyCode;\r\n\t\tconst inpOptSearch = element.closest('.input').querySelectorAll('.words .word-item');\r\n\t\t/* 위 아래 방향키 입력 시 검색어 목록의 첫번째 항목으로 포커스 */\r\n\t\tif (keyCode === 40 || keyCode === 38) {\r\n\t\t\t_event.preventDefault();\r\n\t\t\tif (!element.closest('.input').querySelector('.words').classList.contains('show-down') && !element.closest('.input').querySelector('.words').classList.contains('show-up')) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tinpOptSearch[0].querySelector('a').focus();\r\n\t\t}\r\n\t\t/* ESC키 입력 시 닫기 */\r\n\t\tif (keyCode === 27) {\r\n\t\t\tcommUiFnSearch.closeAll();\r\n\t\t}\r\n\t},\r\n\t/* 웹접근성 대응 : 검색어 목록에서 키 입력 시 */\r\n\tkeyOptionsFn : (_event) => {\r\n\t\tconst element = _event.target;\r\n\t\tconst keyCode = _event.keyCode;\r\n\t\tconst inpOptSearch = element.closest('.input').querySelectorAll('.words .word-item');\r\n\t\tconst selectIdx = [..._event.target.closest('.input').querySelectorAll('.words .word-item')].indexOf(_event.target.parentElement);\r\n\r\n\t\t/* 엔터키 OR 스페이스바 입력 시 클릭 이벤트 연결 */\r\n\t\tif (keyCode === 13 || keyCode === 32) {\r\n\t\t\t_event.preventDefault();\r\n\t\t\telement.click();\r\n\t\t}\r\n\t\t/* 아래 방향키 입력 시 탭 포커스 이동 */\r\n\t\tif (keyCode === 40) {\r\n\t\t\t_event.preventDefault();\r\n\t\t\tif (selectIdx === inpOptSearch.length - 1) {\r\n\t\t\t\tinpOptSearch[0].querySelector('a').focus();\r\n\t\t\t} else {\r\n\t\t\t\tinpOptSearch[selectIdx + 1].querySelector('a').focus();\r\n\t\t\t}\r\n\t\t}\r\n\t\t/* 위 방향키 입력 시 탭 포커스 이동 */\r\n\t\tif (keyCode === 38) {\r\n\t\t\t_event.preventDefault();\r\n\t\t\tif (selectIdx === 0) {\r\n\t\t\t\tinpOptSearch[inpOptSearch.length - 1].querySelector('a').focus();\r\n\t\t\t} else {\r\n\t\t\t\tinpOptSearch[selectIdx - 1].querySelector('a').focus();\r\n\t\t\t}\r\n\t\t}\r\n\t\t/* ESC키 입력 시 닫기 */\r\n\t\tif (keyCode === 27) {\r\n\t\t\tcommUiFnSearch.closeAll();\r\n\t\t}\r\n\t}\r\n};\r\n\r\n/* 텍스트 필드 - 이메일형 */\r\nconst commUiFnEmail = {\r\n\t/* 이메일형 유형 체크 */\r\n\tcheck : (_element) => {\r\n\t\tlet checkTF = false;\r\n\t\tif (_element.closest('.input').classList.contains('option-email')) checkTF = true;\r\n\t\treturn checkTF;\r\n\t},\r\n\t/* 이벤트 */\r\n\tevents : (_element) => {\r\n\t\tconst regExpSymbol = new RegExp('[`~!#$%^&*()+=|<>?/:;{},]');\r\n\t\tconst regExpKor = new RegExp('[ㄱ-ㅎ|ㅏ-ㅣ|가-힣]');\r\n\t\tconst regExpAt = new RegExp('@');\r\n\r\n\t\tconst _this = _element;\r\n\t\tconst thisParent = _this.closest('.input');\r\n\t\tconst inpOptSearch = thisParent.querySelectorAll('.words .word-item');\r\n\r\n\t\t_this.value = (_this.value).split(' ').join('');\r\n\t\tconst thisValue = _this.value;\r\n\r\n\t\t/* 특수문자와 한글 입력 시 리턴 */\r\n\t\tif (regExpSymbol.test(_this.value) || regExpKor.test(_this.value)) {\r\n\t\t\t_this.value = _this.value.substring(0, _this.value.length - 1);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t/* @입력 후 */\r\n\t\tif (regExpAt.test(_this.value)) {\r\n\t\t\t/* @중복 입력 시 리턴 */\r\n\t\t\tif (_this.value.split('@').length - 1 > 1) {\r\n\t\t\t\t_this.value = _this.value.substring(0, _this.value.length - 1);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t/* 2글자 이하 시 리턴 */\r\n\t\t\tif (_this.value.length < 3) {\r\n\t\t\t\t_this.value = _this.value.substring(0, _this.value.length - 1);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t/* 입력 값 + 목록 값 비교 */\r\n\t\t\tconst insertWord = _this.value.substring(_this.value.indexOf('@') + 1, _this.value.length);\r\n\t\t\tlet listCount = inpOptSearch.length;\r\n\r\n\t\t\tinpOptSearch.forEach(function(_item) {\r\n\t\t\t\tconst itemLink = _item.querySelector('a');\r\n\t\t\t\tconst listWord = itemLink.innerHTML.substring(itemLink.innerHTML.indexOf('@') + 1, itemLink.innerHTML.length);\r\n\r\n\t\t\t\tif (listWord.indexOf(insertWord) === -1) {\r\n\t\t\t\t\tlistCount--;\r\n\t\t\t\t\t_item.classList.add('is-hide');\r\n\t\t\t\t} else {\r\n\t\t\t\t\t_item.classList.remove('is-hide');\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\t/* 검색 결과가 목록에 없을 경우 */\r\n\t\t\tif (listCount === 0) {\r\n\t\t\t\tcommUiFnSearch.closeAll();\r\n\t\t\t}\r\n\r\n\t\t/* @입력 전 */\r\n\t\t} else {\r\n\t\t\t/* 입력 값 목록에 출력 */\r\n\t\t\tinpOptSearch.forEach(function(_item) {\r\n\t\t\t\tconst itemLink = _item.querySelector('a');\r\n\t\t\t\tlet itemHtml = itemLink.innerHTML.substring(itemLink.innerHTML.indexOf('@'), itemLink.innerHTML.length);\r\n\t\t\t\titemLink.innerHTML = '<em>' + thisValue + '</em>' + itemHtml;\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n};\r\n\r\n/* 텍스트 필드 - 날짜형 */\r\nconst commUiFnCalendar = {\r\n\t/* 전역변수 */\r\n\tcomm : {\r\n\t\topenId : '', /* 팝업 오픈한 버튼 저장, 닫기 시 포커스 이동에 필요 */\r\n\t\tpopupId : '#calendarPopup', /* 팝업 최상위 아이디 */\r\n\t\ttitleId : '#calendarTitle' /* 팝업 타이틀 아이디 */\r\n\t},\r\n\t/* 초기실행 */\r\n\tinit : () => {\r\n\t\t/* 캘린더 팝업이 있을 경우 이벤트 바인딩 */\r\n\t\tconst popup = document.querySelector(commUiFnCalendar.comm.popupId);\r\n\t\tif (popup) {\r\n\t\t\tcommUiFnFocus.onBlur(popup);\r\n\t\t\tcommUiFnCalendar.button();\r\n\t\t\tcommUiFnCalendar.select();\r\n\t\t\tcommUiFnCalendar.selectMonth(); /* 2023-11-29 : 기능 추가 */\r\n\t\t\tcommUiFnCalendar.closeSet();\r\n\t\t\tcommUiFnCalendar.keyEvent();\r\n\t\t}\r\n\t},\r\n\t/* 캘린더 오픈 */\r\n\topen : (_element) => {\r\n\t\t/* 오픈 */\r\n\t\tconst popup = document.querySelector(commUiFnCalendar.comm.popupId);\r\n\t\tcommUiVar.popupZIndex++;\r\n\t\tpopup.style.zIndex = commUiVar.popupZIndex;\r\n\t\tpopup.classList.add(commUiVar.openClass);\r\n\r\n\t\t/* 웹접근성 대응 */\r\n\t\t_element.setAttribute('aria-expanded', true);\r\n\t\tpopup.setAttribute('aria-hidden', false);\r\n\r\n\t\t/* 포커스 연결 */\r\n\t\tcommUiFnFocus.onFocus(popup);\r\n\t\tcommUiFnAriaHide.set(commUiVar.element.page); /* 웹접근성 대응 */\r\n\r\n\t\tconst selectData = popup.querySelectorAll('.select-data');\r\n\t\tselectData.forEach(function(_this) {\r\n\t\t\t_this.setAttribute('tabindex', -1);\r\n\t\t});\r\n\r\n\t\t/* 오픈한 버튼 요소 저장 */\r\n\t\tcommUiFnCalendar.comm.openId = _element;\r\n\r\n\t\t/* 히든요소 활성화 체크 */\r\n\t\tcommUiVar.activeTF.inputCalendar = true;\r\n\r\n\t\t/* 타이틀 부여 */\r\n\t\tconst labelTextA = _element.getAttribute('aria-label') || _element.getAttribute('title');\r\n\t\tconst labelId = _element.getAttribute('aria-labelledby');\r\n\t\tconst labelElement = document.querySelector(`#${labelId}`);\r\n\t\tconst labelTextB = labelElement ? labelElement.innerHTML : null;\r\n\t\tconst thisLabel = labelTextA || labelTextB || 'NoTitle';\r\n\t\tpopup.querySelector(`${commUiFnCalendar.comm.titleId} > span`).innerHTML = thisLabel;\r\n\r\n\t\t/* 오픈 시 포커스 */ /* 2024-01-23 : 선택자 수정 */\r\n\t\tconst popupBody = popup.querySelector('.calendar-body');\r\n\t\tif (popupBody.querySelector('.day.today')) {\r\n\t\t\tpopupBody.querySelector('.day.today').focus();\r\n\t\t}\r\n\t\tif (popupBody.querySelector('.is-active')) {\r\n\t\t\tpopupBody.querySelector('.is-active').focus();\r\n\t\t}\r\n\t},\r\n\t/* 캘린더 아이콘 클릭 시 */\r\n\tbutton : () => {\r\n\t\tconst calendarBtn = document.querySelectorAll('.input.option-date .btn-calendar');\r\n\t\tcalendarBtn.forEach(function(_this) {\r\n\t\t\t_this.addEventListener('click', function() {\r\n\t\t\t\tconst thisParent = this.closest('.input');\r\n\t\t\t\t/* 인풋 비활성화 제외 */\r\n\t\t\t\tif (!thisParent.querySelector('.input-data').disabled) {\r\n\t\t\t\t\tcommUiFnCalendar.open(this);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t},\r\n\t/* 닫기 아이콘 클릭 시 */\r\n\tcloseSet : () => {\r\n\t\tconst popup = document.querySelector(commUiFnCalendar.comm.popupId);\r\n\t\tconst closeButton = popup.querySelector('.btn-popup-close');\r\n\t\tcloseButton.addEventListener('click', commUiFnCalendar.close);\r\n\t},\r\n\t/* 캘린더의 날짜 선택 */\r\n\tselect : () => {\r\n\t\tconst popup = document.querySelector(commUiFnCalendar.comm.popupId);\r\n\t\tconst inpOptCalendar = popup.querySelectorAll('.calendar .day-group .day');\r\n\t\tinpOptCalendar.forEach(function(_this) {\r\n\t\t\t_this.addEventListener('click', function() {\r\n\t\t\t\t/* 선택한 날짜 활성화 */\r\n\t\t\t\tthis.closest('.day-group').querySelectorAll('.day').forEach(function(_item) {\r\n\t\t\t\t\t_item.classList.remove(commUiVar.activeClass);\r\n\t\t\t\t});\r\n\t\t\t\tthis.classList.add(commUiVar.activeClass);\r\n\r\n\t\t\t\t/* 인풋에 선택한 날짜 전달 */\r\n\t\t\t\tlet pickYear, pickMonth, pickDay;\r\n\t\t\t\tconst head = popup.querySelector('.calendar-group .calendar-head');\r\n\t\t\t\tpickYear = head.querySelector('.fn-year').value;\r\n\t\t\t\tpickMonth = head.querySelector('.fn-month').value;\r\n\r\n\t\t\t\tif (this.classList.contains('prev')) {\r\n\t\t\t\t\tif (Number(pickMonth) === 1) {\r\n\t\t\t\t\t\tpickYear--;\r\n\t\t\t\t\t\tpickMonth = 12;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tpickMonth--;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (this.classList.contains('next')) {\r\n\t\t\t\t\tif (Number(pickMonth) === 12) {\r\n\t\t\t\t\t\tpickYear++;\r\n\t\t\t\t\t\tpickMonth = 1;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tpickMonth++;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tpickMonth = (pickMonth + '').padStart(2, '0');\r\n\t\t\t\tpickDay = (this.innerHTML).padStart(2, '0');\r\n\r\n\t\t\t\tconst openCalendar = commUiFnCalendar.comm.openId.closest('.input.option-date');\r\n\t\t\t\topenCalendar.querySelector('.input-data').value = `${pickYear}.${pickMonth}.${pickDay}`;\r\n\t\t\t\tcommUiFnCalendar.close();\r\n\t\t\t});\r\n\t\t});\r\n\t},\r\n\t/* 캘린더의 월 선택 */ /* 2023-11-29 : 기능 추가 */\r\n\tselectMonth : () => {\r\n\t\tconst popup = document.querySelector(commUiFnCalendar.comm.popupId);\r\n\t\tconst inpOptCalendar = popup.querySelectorAll('.calendar .month-group .month');\r\n\t\tinpOptCalendar.forEach(function(_this) {\r\n\t\t\t_this.addEventListener('click', function() {\r\n\t\t\t\t/* 선택한 날짜 활성화 */\r\n\t\t\t\tthis.closest('.month-group').querySelectorAll('.month').forEach(function(_item) {\r\n\t\t\t\t\t_item.classList.remove(commUiVar.activeClass);\r\n\t\t\t\t});\r\n\t\t\t\tthis.classList.add(commUiVar.activeClass);\r\n\r\n\t\t\t\t/* 인풋에 선택한 날짜 전달 */\r\n\t\t\t\tlet pickYear, pickMonth;\r\n\t\t\t\tconst head = popup.querySelector('.calendar-group .calendar-head');\r\n\t\t\t\tpickYear = head.querySelector('.year').innerHTML;\r\n\t\t\t\tpickMonth = (this.querySelector('em').innerHTML).padStart(2, '0');\r\n\r\n\t\t\t\tconst openCalendar = commUiFnCalendar.comm.openId.closest('.input.option-date');\r\n\t\t\t\topenCalendar.querySelector('.input-data').value = `${pickYear}.${pickMonth}`;\r\n\t\t\t\tcommUiFnCalendar.close();\r\n\t\t\t});\r\n\t\t});\r\n\t},\r\n\t/* 캘린더 닫기 */\r\n\tclose : () => {\r\n\t\tcommUiVar.popupZIndex--;\r\n\r\n\t\tconst popup = document.querySelector(commUiFnCalendar.comm.popupId);\r\n\t\tpopup.setAttribute('aria-hidden', true);\r\n\t\tpopup.classList.remove(commUiVar.openClass);\r\n\t\t\r\n\t\t/* 포커스 해제 */\r\n\t\tcommUiFnFocus.onBlur(popup);\r\n\t\tcommUiFnAriaHide.clear(commUiVar.element.page); /* 웹접근성 대응 */\r\n\r\n\t\t/* 히든요소 활성화 체크 */\r\n\t\tcommUiVar.activeTF.inputCalendar = false;\r\n\r\n\t\t/* 오픈한 버튼 요소로 포커스 이동 */\r\n\t\tcommUiFnCalendar.comm.openId.focus();\r\n\t\tcommUiFnCalendar.comm.openId = '';\r\n\t},\r\n\t/* 웹접근성 대응 : 키 이벤트 연결 */\r\n\tkeyEvent : () => {\r\n\t\tconst popup = document.querySelector(commUiFnCalendar.comm.popupId);\r\n\r\n\t\t/* ESC키 입력 시 닫기 */\r\n\t\tpopup.addEventListener('keydown', function(_event) {\r\n\t\t\tif (_event.keyCode === 27) commUiFnCalendar.close();\r\n\t\t});\r\n\r\n\t\t/* 팝업 내부에 포커스 가두기 */\r\n\t\tconst focusElement = popup.querySelectorAll(commUiVar.focusElements);\r\n\t\tconst firstFocus = focusElement[0];\r\n\t\tconst lastFocus = focusElement[focusElement.length - 1];\r\n\r\n\t\t/* 첫번째 요소에서 탭+쉬프트키 */\r\n\t\tfirstFocus.addEventListener('keydown', function(_event) {\r\n\t\t\tif (_event.keyCode === 9 && _event.shiftKey && _event.target === firstFocus) {\r\n\t\t\t\t_event.preventDefault();\r\n\t\t\t\tlastFocus.focus();\r\n\t\t\t}\r\n\t\t});\r\n\t\t/* 마지막 요소에서 탭키 */\r\n\t\tlastFocus.addEventListener('keydown', function(_event) {\r\n\t\t\tif (_event.keyCode === 9 && !_event.shiftKey && _event.target === lastFocus) {\r\n\t\t\t\t_event.preventDefault();\r\n\t\t\t\tfirstFocus.focus();\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n};\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n\tcommUiFnCalendar.init();\r\n});\r\n\r\n/* 셀렉트박스 팝업형 - 단일 오픈 처리 */\r\nconst commUiFnSelectPopup = {\r\n\t/* 전역변수 */\r\n\tcomm : {\r\n\t\topenId : '', /* 팝업 오픈한 버튼 저장, 닫기 시 포커스 이동에 필요 */\r\n\t\tpopupId : '#selectPopup', /* 팝업 최상위 아이디 */\r\n\t\ttitleId : '#selectTitle' /* 팝업 타이틀 아이디 */\r\n\t},\r\n\t/* 초기실행 */\r\n\tinit : () => {\r\n\t\tcommUiFnSelectPopup.create();\r\n\t},\r\n\t/* 엘리먼트 생성 */\r\n\tcreate : () => {\r\n\t\tconst selectData = document.querySelectorAll('.select > .select-data');\r\n\t\tif (selectData.length) {\r\n\t\t\t/* 팝업 레이아웃 생성 */\r\n\t\t\tcommUiFnSelectPopup.createPopup();\r\n\r\n\t\t\t/* 셀렉트박스 버튼 생성 */\r\n\t\t\tcommUiFnSelectPopup.createButton(selectData);\r\n\t\t}\r\n\t},\r\n\t/* 팝업 레이아웃 생성 */\r\n\tcreatePopup : () => {\r\n\t\tconst addPopup = document.querySelector('#popup').insertAdjacentHTML('beforeend', `\r\n\t\t\t<!-- .select-popup -->\r\n\t\t\t<div class=\"select-popup\" id=\"selectPopup\" role=\"dialog\" aria-modal=\"true\" aria-hidden=\"true\" aria-labelledby=\"selectTitle\">\r\n\t\t\t\t<!-- .select-content -->\r\n\t\t\t\t<div class=\"select-content\">\r\n\t\t\t\t\t<!-- .select-title -->\r\n\t\t\t\t\t<h2 class=\"select-title\" id=\"selectTitle\"><span></span></h2>\r\n\t\t\t\t\t<!--// .select-title -->\r\n\t\t\t\t\t<!-- .options -->\r\n\t\t\t\t\t<ul class=\"options\" id=\"\" role=\"listbox\" tabindex=\"0\" data-focus-on=\"true\" aria-labelledby=\"selectTitle\">\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t\t<!--// .options -->\r\n\t\t\t\t\t<!-- .btn-popup-close -->\r\n\t\t\t\t\t<button type=\"button\" class=\"btn-popup-close\">\r\n\t\t\t\t\t\t<span class=\"icon\"></span>\r\n\t\t\t\t\t\t<span class=\"sr-only\">닫기</span>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<!--// .btn-popup-close -->\r\n\t\t\t\t</div>\r\n\t\t\t\t<!--// .select-content -->\r\n\t\t\t</div>\r\n\t\t\t<!--// .select-popup -->\r\n\t\t`);\r\n\r\n\t\t/* 포커스 해제 */\r\n\t\tconst popup = document.querySelector(commUiFnSelectPopup.comm.popupId);\r\n\t\tcommUiFnFocus.onBlur(popup);\r\n\r\n\t\t/* 닫기 버튼 클릭 이벤트 */\r\n\t\tconst closeButton = popup.querySelector('.btn-popup-close');\r\n\t\tcloseButton.addEventListener('click', commUiFnSelectPopup.close);\r\n\t},\r\n\t/* 셀렉트박스 버튼 생성 */\r\n\tcreateButton : (_elements) => { /* _element = 모든 셀렉트박스 데이터(.select > .select-data) */\r\n\t\t_elements.forEach(function(_this) {\r\n\t\t\t/* 셀렉트박스 속성 가져오기 */\r\n\t\t\tconst thisSelect = _this.closest('.select');\r\n\t\t\tconst thisOption = _this.querySelectorAll('option');\r\n\r\n\t\t\t/* 셀렉트박스 속성 가져오기 */\r\n\t\t\tconst thisId = _this.getAttribute('id');\r\n\t\t\tconst labelTextA = _this.getAttribute('aria-label') || _this.getAttribute('title');\r\n\t\t\tconst labelId = _this.getAttribute('aria-labelledby');\r\n\t\t\tconst labelElement = document.querySelector(`#${labelId}`);\r\n\t\t\tconst labelTextB = labelElement ? labelElement.innerHTML : null;\r\n\t\t\tconst thisLabel = labelTextA || labelTextB || 'NoTitle';\r\n\r\n\t\t\t/* 버튼 속성 세팅 및 생성 */\r\n\t\t\tconst addButton = document.createElement('button');\r\n\t\t\taddButton.setAttribute('type', 'button');\r\n\r\n\t\t\tif (_this.classList.contains('is-readonly')) {\r\n\t\t\t\taddButton.setAttribute('class', 'select-button is-readonly');\r\n\t\t\t\taddButton.setAttribute('tabindex', -1);\r\n\t\t\t} else {\r\n\t\t\t\taddButton.setAttribute('class', 'select-button');\r\n\t\t\t}\r\n\t\t\tif (_this.disabled) {\r\n\t\t\t\taddButton.setAttribute('disabled', '');\r\n\t\t\t}\r\n\r\n\t\t\t/* 웹접근성 대응 : 속성 추가 */\r\n\t\t\taddButton.setAttribute('role', 'combobox');\r\n\t\t\taddButton.setAttribute('aria-controls', `${thisId}Option`);\r\n\t\t\tif (labelTextA) {\r\n\t\t\t\taddButton.setAttribute('aria-label', labelTextA);\r\n\t\t\t} else if (labelTextB) {\r\n\t\t\t\taddButton.setAttribute('aria-labelledby', labelId);\r\n\t\t\t} else {\r\n\t\t\t\taddButton.setAttribute('aria-label', '');\r\n\t\t\t}\r\n\t\t\taddButton.setAttribute('aria-expanded', 'false');\r\n\t\t\taddButton.setAttribute('aria-haspopup', 'listbox');\r\n\r\n\t\t\t/* 생성 */\r\n\t\t\tthisSelect.append(addButton);\r\n\r\n\t\t\t/* 버튼명 세팅 및 생성 */\r\n\t\t\tlet selectTitle = '';\r\n\t\t\tconst addSelectText = document.createElement('span');\r\n\t\t\tif (thisOption.length) {\r\n\t\t\t\t/* 옵션이 있는 경우 */\r\n\t\t\t\tthisOption.forEach(function(_option, _index) {\r\n\t\t\t\t\tif (_option.selected === true) {\r\n\t\t\t\t\t\tselectTitle = _option.innerHTML;\r\n\t\t\t\t\t\tif (_option.disabled === true) {\r\n\t\t\t\t\t\t\taddSelectText.setAttribute('class', 'is-placeholder');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\t/* 옵션이 없는 경우 */\r\n\t\t\t\tselectTitle = thisLabel;\r\n\t\t\t}\r\n\r\n\t\t\t/* 버튼명 생성 */\r\n\t\t\tthisSelect.querySelector('.select-button').append(addSelectText);\r\n\t\t\tthisSelect.querySelector('.select-button > span').innerHTML = selectTitle;\r\n\r\n\t\t\t/* 버튼 클릭 이벤트 연결 */\r\n\t\t\tcommUiFnSelectPopup.eventSelectButton(addButton);\r\n\t\t});\r\n\t},\r\n\t/* 셀렉트박스 버튼 클릭 이벤트 */\r\n\teventSelectButton : (_element) => { /* _element = 모든 셀렉트박스 버튼(.select > .select-button) */\r\n\t\tif (!_element.classList.contains('is-readonly') && !_element.disabled) {\r\n\t\t\t_element.addEventListener('click', function() {\r\n\t\t\t\tcommUiFnSelectPopup.open(this);\r\n\t\t\t});\r\n\t\t}\r\n\t},\r\n\t/* 옵션 추가 및 속성 부여 */\r\n\tcreateOption : (_element) => { /* _element = 클릭한 버튼(.select > .select-button) */\r\n\t\tconst thisData = _element.closest('.select').querySelector('.select-data');\r\n\t\tconst thisOption = thisData.querySelectorAll('option');\r\n\r\n\t\tconst labelTextA = thisData.getAttribute('aria-label') || thisData.getAttribute('title');\r\n\t\tconst labelId = thisData.getAttribute('aria-labelledby');\r\n\t\tconst labelElement = document.querySelector(`#${labelId}`);\r\n\t\tconst labelTextB = labelElement ? labelElement.innerHTML : null;\r\n\t\tconst thisLabel = labelTextA || labelTextB || 'NoTitle';\r\n\r\n\t\tconst popup = document.querySelector(commUiFnSelectPopup.comm.popupId);\r\n\t\t\r\n\t\t/* 타이틀 부여 */\r\n\t\tpopup.querySelector(`${commUiFnSelectPopup.comm.titleId} > span`).innerHTML = thisLabel;\r\n\t\t\r\n\t\t/* 옵션 속성 부여 및 목록 초기화 */\r\n\t\tconst options = popup.querySelector('.options');\r\n\t\toptions.setAttribute('id', `${thisData.getAttribute('id')}Option`);\r\n\t\toptions.innerHTML = '';\r\n\r\n\t\tif (thisOption.length) {\r\n\t\t\t/* 옵션 추가 */\r\n\t\t\tthisOption.forEach(function(_option, _index) {\r\n\t\t\t\tconst addOptionList = document.createElement('li');\r\n\t\t\t\tlet setClassName = `item`;\r\n\t\t\t\tlet setAriaSelected = false;\r\n\t\t\t\tlet setTabIndex = 0;\r\n\r\n\t\t\t\tif (_option.selected === true) {\r\n\t\t\t\t\tsetClassName = `item ${commUiVar.activeClass}`;\r\n\t\t\t\t\tsetAriaSelected = true;\r\n\t\t\t\t}\r\n\t\t\t\tif (_option.disabled === true) {\r\n\t\t\t\t\tsetClassName = `item is-placeholder`;\r\n\t\t\t\t\tsetTabIndex = -1;\r\n\t\t\t\t\taddOptionList.setAttribute('aria-hidden', 'true');\r\n\t\t\t\t}\r\n\t\t\t\taddOptionList.setAttribute('class', setClassName);\r\n\t\t\t\taddOptionList.setAttribute('role', 'option');\r\n\t\t\t\taddOptionList.setAttribute('aria-selected', setAriaSelected);\r\n\t\t\t\taddOptionList.setAttribute('tabindex', setTabIndex);\r\n\t\t\t\toptions.append(addOptionList);\r\n\t\t\t\toptions.children[_index].innerHTML = _option.innerHTML;\r\n\t\t\t});\r\n\t\t}\r\n\t},\r\n\t/* 옵션 열기 */\r\n\topen : (_element) => { /* _element = 클릭한 버튼(.select > .select-button) */\r\n\t\t/* 옵션 추가 및 속성 부여 실행 */\r\n\t\tcommUiFnSelectPopup.createOption(_element);\r\n\t\t\r\n\t\t/* 오픈 */\r\n\t\tconst popup = document.querySelector(commUiFnSelectPopup.comm.popupId);\r\n\t\tcommUiVar.popupZIndex++;\r\n\t\tpopup.style.zIndex = commUiVar.popupZIndex;\r\n\t\tpopup.classList.add(commUiVar.openClass);\r\n\r\n\t\t/* 웹접근성 대응 */\r\n\t\t_element.setAttribute('aria-expanded', true);\r\n\t\tpopup.setAttribute('aria-hidden', false);\r\n\r\n\t\t/* 포커스 연결 */\r\n\t\tcommUiFnFocus.onFocus(popup);\r\n\t\tcommUiFnAriaHide.set(commUiVar.element.page); /* 웹접근성 대응 */\r\n\r\n\t\t/* 오픈한 버튼 요소 저장 */\r\n\t\tcommUiFnSelectPopup.comm.openId = _element;\r\n\r\n\t\t/* 히든요소 활성화 체크 */\r\n\t\tcommUiVar.activeTF.select = true;\r\n\r\n\t\t/* 옵션 선택 이벤트 연결 및 오픈 시 활성화 OR 포커스 항목 인덱스 구하기 */\r\n\t\tconst options = popup.querySelector('.options');\r\n\t\tconst item = options.querySelectorAll('.item');\r\n\t\titem.forEach(function(_this, _index) {\r\n\t\t\t/* 옵션 선택 이벤트 연결 */\r\n\t\t\t_this.addEventListener('click', commUiFnSelectPopup.select);\r\n\t\t});\r\n\r\n\t\t/* 오픈 시 포커스 */\r\n\t\tpopup.querySelector('.select-content .options').focus();\r\n\r\n\t\t/* 키 이벤트 연결 */\r\n\t\tcommUiFnSelectPopup.keyEvent();\r\n\t},\r\n\t/* 옵션 닫기 */\r\n\tclose : () => {\r\n\t\tcommUiVar.popupZIndex--;\r\n\r\n\t\tconst popup = document.querySelector(commUiFnSelectPopup.comm.popupId);\r\n\t\tpopup.setAttribute('aria-hidden', true);\r\n\t\tpopup.classList.remove(commUiVar.openClass);\r\n\t\t\r\n\t\t/* 포커스 해제 */\r\n\t\tcommUiFnFocus.onBlur(popup);\r\n\t\tcommUiFnAriaHide.clear(commUiVar.element.page); /* 웹접근성 대응 */\r\n\r\n\t\t/* 히든요소 활성화 체크 */\r\n\t\tcommUiVar.activeTF.select = false;\r\n\r\n\t\t/* 오픈한 버튼 요소로 포커스 이동 */\r\n\t\tcommUiFnSelectPopup.comm.openId.focus();\r\n\t\tcommUiFnSelectPopup.comm.openId = '';\r\n\t},\r\n\t/* 옵션 선택 시 */\r\n\tselect : (_event) => { /* _event = 셀렉트박스 팝업 > 옵션 항목 클릭 이벤트 */\r\n\t\tconst element = _event.target;\r\n\t\tconst openSelect = commUiFnSelectPopup.comm.openId.closest('.select');\r\n\r\n\t\t/* 셀렉트에 옵션값 전달 */\r\n\t\tconst selectIdx = [...element.parentElement.children].indexOf(element);\r\n\t\tconst selectData = openSelect.querySelector('.select-data');\r\n\t\tselectData.children[selectIdx].selected = true;\r\n\r\n\t\t/* 라벨 텍스트 변경 */\r\n\t\tconst selectButton = openSelect.querySelector('.select-button');\r\n\t\tselectButton.setAttribute('aria-expanded', false);\r\n\t\tselectButton.querySelector('span').classList.remove('is-placeholder');\r\n\t\tselectButton.querySelector('span').innerHTML = element.innerHTML;\r\n\r\n\t\t/* 닫기 */\r\n\t\tcommUiFnSelectPopup.close();\r\n\t},\r\n\t/* 웹접근성 대응 : 키 이벤트 연결 */\r\n\tkeyEvent : () => {\r\n\t\tconst popup = document.querySelector(commUiFnSelectPopup.comm.popupId);\r\n\r\n\t\t/* 팝업 내 키 입력 시 */\r\n\t\tpopup.addEventListener('keydown', commUiFnSelectPopup.keyPopupFn);\r\n\r\n\t\t/* 옵션 목록에서 키 입력 시 */\r\n\t\tconst item = popup.querySelectorAll('.options > .item');\r\n\t\titem.forEach(function(_element, _index) {\r\n\t\t\t_element.addEventListener('keydown', commUiFnSelectPopup.keyOptionsFn);\r\n\t\t});\r\n\t},\r\n\t/* 웹접근성 대응 : 팝업 내 키 입력 시 */\r\n\tkeyPopupFn : (_event) => {\r\n\t\tconst element = _event.target;\r\n\t\tconst keyCode = _event.keyCode;\r\n\t\tconst shiftKey = _event.shiftKey;\r\n\t\tconst popup = document.querySelector(commUiFnSelectPopup.comm.popupId);\r\n\t\tconst options = popup.querySelector('.options');\r\n\t\tconst item = options.querySelectorAll('.item');\r\n\r\n\t\t/* 첫번째 옵션이 placeholder 속성일 경우 첫번째 옵션 Index값 변경 */\r\n\t\tlet firstIndex = 0;\r\n\t\titem.forEach(function(_this) {\r\n\t\t\tif (_this.classList.contains('is-placeholder')) firstIndex = 1;\r\n\t\t});\r\n\t\t/* 방향키 입력 시 옵션으로 포커스 이동 */\r\n\t\tif (keyCode === 40 && !element.classList.contains('item')) {\r\n\t\t\t_event.preventDefault();\r\n\t\t\titem[firstIndex].focus();\r\n\t\t}\r\n\t\tif (keyCode === 38 && !element.classList.contains('item')) {\r\n\t\t\t_event.preventDefault();\r\n\t\t\titem[item.length - 1].focus();\r\n\t\t}\r\n\r\n\t\t/* ESC키 입력 시 닫기 */\r\n\t\tif (keyCode === 27) commUiFnSelectPopup.close();\r\n\r\n\t\t/* 탭키 입력 시 포커스 이동 삭제 */\r\n\t\tif (((keyCode === 9 && !shiftKey) || (keyCode === 9 && shiftKey)) && element.classList.contains('btn-popup-close')) _event.preventDefault();\r\n\t},\r\n\t/* 웹접근성 대응 : 옵션 목록에서 키 입력 시 */\r\n\tkeyOptionsFn : (_event) => {\r\n\t\tconst element = _event.target;\r\n\t\tconst keyCode = _event.keyCode;\r\n\t\tconst popup = document.querySelector(commUiFnSelectPopup.comm.popupId);\r\n\t\tconst options = popup.querySelector('.options');\r\n\t\tconst item = options.querySelectorAll('.item');\r\n\r\n\t\t/* 첫번째 옵션이 placeholder 속성일 경우 첫번째 옵션 Index값 변경 */\r\n\t\tlet firstIndex = 0;\r\n\t\titem.forEach(function(_this) {\r\n\t\t\tif (_this.classList.contains('is-placeholder')) firstIndex = 1;\r\n\t\t});\r\n\r\n\t\t/* 포커스된 옵션 Index값 */\r\n\t\tconst selectIdx = [...item].indexOf(_event.target);\r\n\r\n\t\t/* 엔터키 OR 스페이스바 입력 시 클릭 이벤트 연결 */\r\n\t\tif (keyCode === 13 || keyCode === 32) {\r\n\t\t\t_event.preventDefault();\r\n\t\t\telement.click();\r\n\t\t}\r\n\r\n\t\t/* 방향키 입력 시 탭 포커스 이동 */\r\n\t\tif (keyCode === 40) { /* 아래 */\r\n\t\t\t_event.preventDefault();\r\n\t\t\tif (selectIdx === item.length - 1) {\r\n\t\t\t\titem[firstIndex].focus();\r\n\t\t\t} else {\r\n\t\t\t\titem[selectIdx + 1].focus();\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (keyCode === 38) { /* 위 */\r\n\t\t\t_event.preventDefault();\r\n\t\t\tif (selectIdx === firstIndex) {\r\n\t\t\t\titem[item.length - 1].focus();\r\n\t\t\t} else {\r\n\t\t\t\titem[selectIdx - 1].focus();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t/* 탭키 입력 시 닫기 버튼으로 포커스 이동 */\r\n\t\tif ((keyCode === 9 && _event.shiftKey) || (keyCode === 9 && !_event.shiftKey)) {\r\n\t\t\t_event.preventDefault();\r\n\t\t\tpopup.querySelector('.btn-popup-close').focus();\r\n\t\t}\r\n\t}\r\n};\r\ncommUiFnSelectPopup.init();\r\n\r\n/* 셀렉트박스 버튼 커스텀형 *//* 2024-02-02 : 요건 변경으로 신규 생성, 기존(commUiFnSelectBtn) */\r\nconst commUiFnSelectCustom = {\r\n\t/* 전역변수 */\r\n\tcomm : {\r\n\t\topenId : ''\r\n\t},\r\n\t/* 초기실행 */\r\n\tinit : () => {\r\n\t\t/* 목록 오픈 시 이벤트 바인딩 */\r\n\t\tconst selectBtn = document.querySelectorAll('.fn-select-btn');\r\n\t\tselectBtn.forEach(function(_this) {\r\n\t\t\t_this.addEventListener('click', commUiFnSelectCustom.open);\r\n\t\t});\r\n\r\n\t\t/* 목록 아이템 선택 시 이벤트 바인딩 */\r\n\t\tconst selectWrap = document.querySelectorAll('.fn-select-wrap');\r\n\t\tselectWrap.forEach(function(_this) {\r\n\t\t\tconst selectItem = _this.querySelectorAll('.fn-select-item');\r\n\t\t\tselectItem.forEach(function(_this) {\r\n\t\t\t\t_this.addEventListener('click', commUiFnSelectCustom.select);\r\n\t\t\t\t_this.addEventListener('focus', commUiFnSelectCustom.itemFocus);\r\n\t\t\t\t_this.addEventListener('blur', commUiFnSelectCustom.itemBlur);\r\n\t\t\t});\r\n\t\t});\r\n\t},\r\n\t/* 선택 값 체크 */\r\n\tcheck : (_element) => {\r\n\t\tconst element = _element.closest('.fn-select-item');\r\n\t\tconst getValue = element.dataset.selectValue;\r\n\t\tconst getText = element.querySelector('.fn-select-title').innerHTML;\r\n\r\n\t\t/* 선택 값 리턴 */\r\n\t\tif (getValue) return [getValue, getText];\r\n\t},\r\n\t/* 목록 아이템 선택 */\r\n\tselect : (_event) => {\r\n\t\tconst element = _event.target.closest('.fn-select-item');\r\n\t\tconst itemList = element.closest('.fn-select-list');\r\n\t\titemList.querySelectorAll('.fn-select-item').forEach(function(_this) {\r\n\t\t\t_this.setAttribute('aria-selected', false);\r\n\t\t\t_this.classList.remove(commUiVar.activeClass);\r\n\t\t});\r\n\t\telement.setAttribute('aria-selected', true);\r\n\t\telement.classList.add(commUiVar.activeClass);\r\n\r\n\t\tconst popup = document.querySelector(commUiFnSelectCustom.comm.openId.dataset.popupId);\r\n\t\tpopup.removeEventListener('keydown', commUiFnSelectCustom.keyPopupFn);\r\n\r\n\t\tconst selectBtn = commUiFnSelectCustom.comm.openId.querySelector('.fn-select-value');\r\n\t\tconst getValue = commUiFnSelectCustom.check(element)[0];\r\n\t\tconst getText = commUiFnSelectCustom.check(element)[1];\r\n\r\n\t\tselectBtn.classList.remove('is-placeholder');\r\n\t\tselectBtn.innerHTML = getText;\r\n\t\tselectBtn.dataset.selectValue = getValue;\r\n\t\tcommUiFnSelectCustom.comm.openId = '';\r\n\r\n\t\tconst popupId = element.closest('.popup-wrap.option-bottom-sheet').getAttribute('id');\r\n\t\tcommUiFnPopup.close(`#${popupId}`);\r\n\t},\r\n\t/* 목록 오픈 */\r\n\topen : (_event) => {\r\n\t\tconst element = _event.target.closest('.fn-select-btn');\r\n\t\tcommUiFnSelectCustom.comm.openId = element;\r\n\r\n\t\t/* 키 이벤트 연결 */\r\n\t\tcommUiFnSelectCustom.keyEvent();\r\n\t},\r\n\t/* 목록 아이템 포커스 연결 시 */\r\n\titemFocus : (_event) => {\r\n\t\t/* const element = _event.target.closest('.fn-select-item');\r\n\t\telement.classList.add(commUiVar.activeClass); */\r\n\t},\r\n\t/* 목록 아이템 포커스 해제 시 */\r\n\titemBlur : (_event) => {\r\n\t\t/* const element = _event.target.closest('.fn-select-item');\r\n\t\telement.classList.remove(commUiVar.activeClass); */\r\n\t},\r\n\t/* 웹접근성 대응 : 키 이벤트 연결 */\r\n\tkeyEvent : () => {\r\n\t\tconst popup = document.querySelector(commUiFnSelectCustom.comm.openId.dataset.popupId);\r\n\t\tif(popup) {\r\n\t\t\t/* 팝업 내 키 입력 시 */\r\n\t\t\tpopup.addEventListener('keydown', commUiFnSelectCustom.keyPopupFn);\r\n\t\r\n\t\t\t/* 옵션 목록에서 키 입력 시 */\r\n\t\t\tconst item = popup.querySelectorAll('.fn-select-list > .fn-select-item');\r\n\t\t\titem.forEach(function(_element, _index) {\r\n\t\t\t\t_element.addEventListener('keydown', commUiFnSelectCustom.keyOptionsFn);\r\n\t\t\t});\r\n\t\t}\r\n\t},\r\n\t/* 웹접근성 대응 : 팝업 내 키 입력 시 */\r\n\tkeyPopupFn : (_event) => {\r\n\t\tconst element = _event.target;\r\n\t\tconst keyCode = _event.keyCode;\r\n\t\tconst shiftKey = _event.shiftKey;\r\n\t\tconst popup = document.querySelector(commUiFnSelectCustom.comm.openId.dataset.popupId);\r\n\t\tconst options = popup.querySelector('.fn-select-list');\r\n\t\tconst item = options.querySelectorAll('.fn-select-item');\r\n\r\n\t\t/* 방향키 입력 시 옵션으로 포커스 이동 */\t\r\n\t\tif (keyCode === 40 && !element.classList.contains('fn-select-item')) {\r\n\t\t\t_event.preventDefault();\r\n\t\t\titem[0].focus();\r\n\t\t}\r\n\t\tif (keyCode === 38 && !element.classList.contains('fn-select-item')) {\r\n\t\t\t_event.preventDefault();\r\n\t\t\titem[item.length - 1].focus();\r\n\t\t}\r\n\r\n\t\t/* ESC키 입력 시 닫기 */\r\n\t\tif (keyCode === 27) popup.querySelector('.btn-popup-close').click();\r\n\r\n\t\t/* 탭키 입력 시 포커스 이동 삭제 */\r\n\t\tif (((keyCode === 9 && !shiftKey) || (keyCode === 9 && shiftKey)) && element.classList.contains('btn-popup-close')) _event.preventDefault();\r\n\t},\r\n\t/* 웹접근성 대응 : 옵션 목록에서 키 입력 시 */\r\n\tkeyOptionsFn : (_event) => {\r\n\t\tconst element = _event.target;\r\n\t\tconst keyCode = _event.keyCode;\r\n\t\tconst popup = document.querySelector(commUiFnSelectCustom.comm.openId.dataset.popupId);\r\n\t\tconst options = popup.querySelector('.fn-select-list');\r\n\t\tconst item = options.querySelectorAll('.fn-select-item');\r\n\r\n\t\t/* 포커스된 옵션 Index값 */\r\n\t\tconst selectIdx = [...item].indexOf(_event.target);\r\n\r\n\t\t/* 엔터키 OR 스페이스바 입력 시 클릭 이벤트 연결 */\r\n\t\tif (keyCode === 13 || keyCode === 32) {\r\n\t\t\t_event.preventDefault();\r\n\t\t\telement.click();\r\n\t\t}\r\n\r\n\t\t/* 방향키 입력 시 탭 포커스 이동 */\r\n\t\tif (keyCode === 40) { /* 아래 */\r\n\t\t\t_event.preventDefault();\r\n\t\t\tif (selectIdx === item.length - 1) {\r\n\t\t\t\titem[0].focus();\r\n\t\t\t} else {\r\n\t\t\t\titem[selectIdx + 1].focus();\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (keyCode === 38) { /* 위 */\r\n\t\t\t_event.preventDefault();\r\n\t\t\tif (selectIdx === 0) {\r\n\t\t\t\titem[item.length - 1].focus();\r\n\t\t\t} else {\r\n\t\t\t\titem[selectIdx - 1].focus();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t/* 탭키 입력 시 닫기 버튼으로 포커스 이동 */\r\n\t\tif ((keyCode === 9 && _event.shiftKey) || (keyCode === 9 && !_event.shiftKey)) {\r\n\t\t\t_event.preventDefault();\r\n\t\t\tpopup.querySelector('.btn-popup-close').focus();\r\n\t\t}\r\n\t}\r\n};\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n\tcommUiFnSelectCustom.init();\r\n});\r\n\r\n/* 텍스트에어리어 */\r\nconst commUiFnTextarea = {\r\n\t/* 초기실행 */\r\n\tinit : () => {\r\n\t\tcommUiFnTextarea.setStrLength();\r\n\t},\r\n\t/* 글자수 반영 */\r\n\tsetStrLength : () => {\r\n\t\tconst countWarp = document.querySelectorAll('.textarea-count');\r\n\t\tcountWarp.forEach(function(_this) {\r\n\t\t\tconst maxByte = _this.querySelector('.count-max').innerHTML;\r\n\t\t\tconst countStr = _this.querySelector('.count-char');\r\n\t\t\tconst textareaData = _this.closest('.textarea').querySelector('.textarea-data');\r\n\t\t\tlet textareaValue = textareaData.value;\r\n\t\t\tlet nowByte = 0;\r\n\r\n\t\t\t/* 로딩 시 반영 */\r\n\t\t\tnowByte = commUiFnTextarea.getByte(textareaValue);\r\n\t\t\tcountStr.innerHTML = nowByte;\r\n\r\n\t\t\tif (textareaData.readOnly || textareaData.disabled) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\t/* 인풋 내용 체크 이벤트 */\r\n\t\t\ttextareaData.addEventListener('input', function() {\r\n\t\t\t\ttextareaValue = textareaData.value;\r\n\t\t\t\tnowByte = commUiFnTextarea.getByte(textareaValue);\r\n\r\n\t\t\t\t/* 입력 글자수 초과할 경우 */\r\n\t\t\t\tif (nowByte > maxByte) {\r\n\t\t\t\t\ttextareaData.value = commUiFnTextarea.checkStrLimited(textareaValue, maxByte);\r\n\t\t\t\t\tnowByte = maxByte;\r\n\t\t\t\t\talert(`한글 ${maxByte/2}자, 영문 ${maxByte}자 이하로 작성해 주세요.`);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tcountStr.innerHTML = nowByte;\r\n\t\t\t});\r\n\t\t});\r\n\t},\r\n\t/* 입력 글자수 체크, 최대값 넘으면 잘라서 반환 */\r\n\tcheckStrLimited : (_textareaValue, _maxByte) => {\r\n\t\tconst textareaValue = _textareaValue.split('');\r\n\t\tlet getValue = '';\r\n\t\tlet nowByte = 0;\r\n\r\n\t\tfor (let i = 0; i < textareaValue.length; i += 1) {\r\n\t\t\tconst char = textareaValue[i];\r\n\t\t\tconst decimal = char.charCodeAt(0);\r\n\t\t\tconst byte = commUiFnTextarea.getCharByte(decimal);\r\n\r\n\t\t\tif (nowByte + byte <= _maxByte) { \r\n\t\t\t\tnowByte += byte;\r\n\t\t\t\tgetValue += char;\r\n\t\t\t} else {\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn getValue;\r\n\t},\r\n\t/* 입력 전체 글자수 Byte 반환 */\r\n\tgetByte : (_str) => {\r\n\t\treturn _str.split('').map((s) => s.charCodeAt(0)).reduce((prev, unicodeDecimalValue) => prev + commUiFnTextarea.getCharByte(unicodeDecimalValue), 0);\r\n\t},\r\n\t/* 입력 한글자 Byte 반환 */\r\n\tgetCharByte : (_decimal) => {\r\n\t\treturn (_decimal >> 7) || (10 === _decimal) ? 2 : 1;\r\n\t}\r\n};\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n\tcommUiFnTextarea.init();\r\n});\r\n\r\n/* 파일첨부 */\r\nconst commUiFnFile = {\r\n\t/* 초기실행, 이벤트 연결 */\r\n\tinit : () => {\r\n\t\tconst fileItem = document.querySelectorAll('.file');\r\n\t\tfileItem.forEach(function(_this) {\r\n\t\t\t_this.querySelector('.file-data').addEventListener('change', commUiFnFile.attach);\r\n\t\t\t_this.querySelector('.file-label').addEventListener('keydown', commUiFnFile.keyEvent);\r\n\t\t\tif (!_this.classList.contains('option-image')) {\r\n\t\t\t\t/* 일반 유형 */\r\n\t\t\t\tif (!_this.querySelector('.file-name > .btn-delete').classList.contains('fn-event-none')) {\r\n\t\t\t\t\t_this.querySelector('.file-name > .btn-delete').addEventListener('click', commUiFnFile.delete);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\t/* 이미지 유형 */\r\n\t\t\t\t_this.querySelector('.file-name > .btn-attach').addEventListener('click', function() {\r\n\t\t\t\t\tthis.closest('.file').querySelector('.file-data').click();\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\t/* 웹접근성 대응 : 키 이벤트 연결 */\r\n\tkeyEvent : (_event) => {\r\n\t\tconst element = _event.target;\r\n\t\tconst keyCode = _event.keyCode;\r\n\r\n\t\tif (keyCode === 13 || keyCode === 32) {\r\n\t\t\t_event.preventDefault();\r\n\t\t\telement.querySelector('.file-data').click();\r\n\t\t}\r\n\t},\r\n\t/* 첨부 */\r\n\tattach : (_event) => {\r\n\t\tconst element = _event.target;\r\n\t\tconst thisValue = element.value;\r\n\r\n\t\tif (thisValue) {\r\n\t\t\tconst thisFile = element.closest('.file');\r\n\r\n\t\t\tif (!thisFile.classList.contains('option-image')) {\r\n\t\t\t\t/* 일반 유형 */\r\n\t\t\t\tthisFile.querySelector('.file-name > .txt').innerHTML = thisValue.substr(thisValue.lastIndexOf('\\\\') + 1, thisValue.length);\r\n\t\t\t} else {\r\n\t\t\t\t/* 이미지 유형 */\r\n\t\t\t\tconst imgReader = new FileReader();\r\n\t\t\t\timgReader.onload = function(e) {\r\n\t\t\t\t\tthisFile.querySelector('.file-name > .img').setAttribute('src', e.target.result);\r\n\t\t\t\t}\r\n\t\t\t\timgReader.readAsDataURL(element.files[0]);\r\n\t\t\t}\r\n\t\t\tthisFile.classList.add('has-value');\r\n\r\n\t\t\t/* 웹접근성 대응 */\r\n\t\t\tcommUiFnFile.setWA(thisFile, false);\r\n\t\t}\r\n\t},\r\n\t/* 삭제 */\r\n\tdelete : (_event) => {\r\n\t\tconst element = _event.target;\r\n\t\tconst thisFile = element.closest('.file');\r\n\r\n\t\tthisFile.querySelector('.file-data').value = '';\r\n\t\tthisFile.querySelector('.file-name > .txt').innerHTML = '';\r\n\t\tthisFile.classList.remove('has-value');\r\n\r\n\t\t/* 웹접근성 대응 */\r\n\t\tcommUiFnFile.setWA(thisFile, true);\r\n\t},\r\n\t/* 웹접근성 대응 */\r\n\tsetWA : (_element, _attached) =>  {\r\n\t\tconst element = _element;\r\n\t\tlet waNameHidden = false;\r\n\t\tlet waNameTabIndex = 0;\r\n\t\tlet waLabelHidden = true;\r\n\t\tlet waLabelTabIndex = -1;\r\n\r\n\t\tif (_attached) {\r\n\t\t\twaNameHidden = true;\r\n\t\t\twaNameTabIndex = -1;\r\n\t\t\twaLabelHidden = false;\r\n\t\t\twaLabelTabIndex = 0;\r\n\t\t}\r\n\r\n\t\telement.querySelector('.file-name').setAttribute('aria-hidden', waNameHidden);\r\n\t\tif (!element.classList.contains('option-image')) {\r\n\t\t\t/* 일반 유형 */\r\n\t\t\telement.querySelector('.file-name > .btn-delete').setAttribute('tabindex', waNameTabIndex);\r\n\t\t} else {\r\n\t\t\t/* 이미지 유형 */\r\n\t\t\telement.querySelector('.file-name > .btn-attach').setAttribute('tabindex', waNameTabIndex);\r\n\t\t}\r\n\r\n\t\telement.querySelector('.file-label').setAttribute('aria-hidden', waLabelHidden);\r\n\t\telement.querySelector('.file-label').setAttribute('tabindex', waLabelTabIndex);\r\n\t}\r\n};\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n\tcommUiFnFile.init();\r\n});\r\n\r\n/* 멀티파일첨부 */\r\nconst commUiFnMultiFile = {\r\n\t/* 전역변수 */\r\n\tcomm : {\r\n\t\tsetSeq : 0,\r\n\t\tsetMax : 10\r\n\t},\r\n\t/* 초기실행, 이벤트 연결 */\r\n\tinit : () => {\r\n\t\tconst fileWrap = document.querySelectorAll('.file-wrap');\r\n\t\tfileWrap.forEach(function(_this) {\r\n\t\t\tconst fileList = _this.querySelectorAll('.file-list');\r\n\t\t\tfileList.forEach(function(_item) {\r\n\t\t\t\t_item.querySelector('.file-data').addEventListener('change', commUiFnMultiFile.attach);\r\n\t\t\t\t_item.querySelector('.file-label').addEventListener('keydown', commUiFnFile.keyEvent);\r\n\t\t\t\t_item.querySelector('.file-name > .btn-delete').addEventListener('click', commUiFnMultiFile.delete);\r\n\t\t\t});\r\n\t\t});\r\n\t},\r\n\t/* 추가서류 태그 생성 */\r\n\tadd : (_element) => {\r\n\t\tcommUiFnMultiFile.comm.setSeq++;\r\n\r\n\t\tconst fileWrap = _element;\r\n\t\tconst labelId = fileWrap.dataset.labelId;\r\n\t\tconst addFile = fileWrap.insertAdjacentHTML('beforeend', `\r\n\t\t\t<div class=\"file-list\">\r\n\t\t\t\t<label for=\"${labelId}${commUiFnMultiFile.comm.setSeq}\" class=\"file-label\" aria-hidden=\"false\" tabindex=\"0\">\r\n\t\t\t\t\t<input type=\"file\" name=\"\" id=\"${labelId}${commUiFnMultiFile.comm.setSeq}\" class=\"file-data\" tabindex=\"-1\">\r\n\t\t\t\t\t<div class=\"file-btn\"><span class=\"txt\">서류 추가</span></div>\r\n\t\t\t\t</label>\r\n\t\t\t\t<div class=\"file-name\" aria-hidden=\"true\">\r\n\t\t\t\t\t<span class=\"txt\">파일명${commUiFnMultiFile.comm.setSeq}.txt</span>\r\n\t\t\t\t\t<button type=\"button\" class=\"btn-delete\" tabindex=\"-1\"><span class=\"sr-only\">첨부파일 삭제</span></button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t`);\r\n\r\n\t\t/* 생성된 태그 이벤트 연결 */\r\n\t\tfileWrap.querySelectorAll('.file-list').forEach(function(_this) {\r\n\t\t\tconst thisIdx = [...fileWrap.querySelectorAll('.file-list')].indexOf(_this);\r\n\t\t\tconst fileList = fileWrap.querySelectorAll('.file-list');\r\n\r\n\t\t\tfileList[thisIdx].querySelector('.file-data').addEventListener('change', commUiFnMultiFile.attach);\r\n\t\t\tfileList[thisIdx].querySelector('.file-label').addEventListener('keydown', commUiFnFile.keyEvent);\r\n\t\t\tfileList[thisIdx].querySelector('.file-name > .btn-delete').addEventListener('click', commUiFnMultiFile.delete);\r\n\t\t});\r\n\t},\r\n\t/* 추가서류 태그 삭제 */\r\n\tremove : (_element) => {\r\n\t\tconst element = _element;\r\n\t\tconst fileWrap = element.closest('.file-wrap');\r\n\t\tconst thisList = element.closest('.file-list');\r\n\t\tthisList.parentNode.removeChild(thisList);\r\n\r\n\t\t/* 첨부된 서류가 없을 경우 */\r\n\t\tconst fileList = fileWrap.querySelectorAll('.file-list');\r\n\t\tif (fileList.length === 1) {\r\n\t\t\tfileList[0].classList.add('option-main');\r\n\t\t\tif (!fileList[0].querySelector('.file-btn > .sub-txt') && !fileWrap.classList.contains('option-simple')) {\r\n\t\t\t\tfileList[0].querySelector('.file-btn').insertAdjacentHTML('beforeend', `<span class=\"sub-txt\">글씨가 잘 보일 수 있도록 <br>구겨짐, 그림자없이 찍어주세요.</span>`);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t/* 최대 갯수 10개에서 삭제할 경우 추가서류 태그 생성 */\r\n\t\tif (fileWrap.querySelectorAll('.file-list.has-value').length === (commUiFnMultiFile.comm.setMax - 1)) {\r\n\t\t\tcommUiFnMultiFile.add(fileWrap);\r\n\t\t}\r\n\t},\r\n\t/* 첨부 */\r\n\tattach : (_event) => {\r\n\t\tconst element = _event.target;\r\n\t\tconst fileWrap = element.closest('.file-wrap');\r\n\t\tconst thisValue = element.value;\r\n\r\n\t\tif (thisValue) {\r\n\t\t\tconst thisFile = element.closest('.file-list');\r\n\t\t\tthisFile.querySelector('.file-name > .txt').innerHTML = thisValue.substr(thisValue.lastIndexOf('\\\\') + 1, thisValue.length);\r\n\t\t\tthisFile.classList.add('has-value');\r\n\r\n\t\t\t/* 웹접근성 대응 */\r\n\t\t\tcommUiFnFile.setWA(thisFile, false);\r\n\r\n\t\t\t/* 태그추가 */\r\n\t\t\tif (fileWrap.querySelectorAll('.file-list').length < commUiFnMultiFile.comm.setMax) {\r\n\t\t\t\tcommUiFnMultiFile.add(fileWrap);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t/* 삭제 */\r\n\tdelete : (_event) => {\r\n\t\tconst element = _event.target;\r\n\t\tcommUiFnMultiFile.remove(element);\r\n\t}\r\n};\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n\tcommUiFnMultiFile.init();\r\n});\r\n\r\n/* 범위 */\r\nconst commUiFnRange = {\r\n\tinit : () => {\r\n\t\tconst inputRange = document.querySelectorAll('.input.option-range');\r\n\t\tinputRange.forEach(function(_this) {\r\n\t\t\tconst sliderThumb = _this.querySelector('.slider-thumb');\r\n\t\t\tif (sliderThumb) {\r\n\t\t\t\tcommUiFnRange.set(sliderThumb);\r\n\t\t\t\tsliderThumb.addEventListener('change', commUiFnRange.change);\r\n\t\t\t\tsliderThumb.addEventListener('input', commUiFnRange.change);\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\tset : (_element) => {\r\n\t\tconst thisParent = _element.closest('.input.option-range');\r\n\t\tconst thisMax = _element.getAttribute('max');\r\n\t\tconst thisMin = _element.getAttribute('min');\r\n\t\tconst thisValue = _element.value - thisMin;\r\n\t\tlet stepPercent;\r\n\r\n\t\tswitch (thisMax) {\r\n\t\t\tcase '5':\r\n\t\t\t\tstepPercent = 25;\r\n\t\t\t\tbreak;\r\n\t\t\tcase '4':\r\n\t\t\t\tstepPercent = 33.33;\r\n\t\t\t\tbreak;\r\n\t\t\tcase '3':\r\n\t\t\t\tstepPercent = 50;\r\n\t\t\t\tbreak;\r\n\t\t\tcase '2':\r\n\t\t\t\tstepPercent = 100;\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tstepPercent = 100 / thisMax;\r\n\t\t}\r\n\t\tthisParent.querySelector('.input-range').setAttribute('value', _element.value);\r\n\t\tthisParent.querySelector('.range-bar > em').style.width = `${thisValue * stepPercent}%`;\r\n\t},\r\n\tchange : (_event) => {\r\n\t\tconst element = _event.target;\r\n\t\tcommUiFnRange.set(element);\r\n\t}\r\n};\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n\tcommUiFnRange.init();\r\n});\r\n\r\n/* 팝업 - 다중 오픈 처리 */\r\nconst commUiFnPopup = {\r\n\t/* 전역변수 */\r\n\tcomm : {\r\n\t\topenId : [], /* 팝업 오픈한 버튼 저장, 닫기 시 포커스 이동에 필요 */\r\n\t\topenOrder : 0 /* 오픈 시 카운팅, 다중 오픈 처리에 필요 */\r\n\t},\r\n\t/* 초기실행 */\r\n\tinit : () => {\r\n\t\tcommUiFnPopup.focusSet();\r\n\t\tcommUiFnPopup.openSet();\r\n\t\tcommUiFnPopup.closeSet();\r\n\t\tcommUiFnPopup.drag();\r\n\t},\r\n\t/* 웹접근성 포커스 세팅 */\r\n\tfocusSet : () => {\r\n\t\tconst subWrap = document.querySelectorAll('.popup-wrap');\r\n\t\tsubWrap.forEach(function(_this) {\r\n\t\t\tcommUiFnFocus.onBlur(_this);\r\n\t\t});\r\n\t},\r\n\t/* 웹접근성 대응 : 키 이벤트 연결 */\r\n\tkeyEvent : (_element) => {\r\n\t\tconst focusElement = _element.querySelectorAll(commUiVar.focusElements);\r\n\t\tconst firstFocus = focusElement[0];\r\n\t\tconst lastFocus = focusElement[focusElement.length - 1];\r\n\r\n\t\t/* 첫번째 요소에서 탭+쉬프트키 */\r\n\t\tfirstFocus.addEventListener('keydown', commUiFnPopup.keyFocusFirst);\r\n\t\t/* 마지막 요소에서 탭키 */\r\n\t\tlastFocus.addEventListener('keydown', commUiFnPopup.keyFocusLast);\r\n\t},\r\n\t/* 첫번째 요소에서 탭+쉬프트키 */\r\n\tkeyFocusFirst : (_event) => {\r\n\t\tconst element = _event.target.closest('.popup-wrap');\r\n\t\tconst focusElement = element.querySelectorAll(commUiVar.focusElements);\r\n\t\tconst firstFocus = focusElement[0];\r\n\t\tconst lastFocus = focusElement[focusElement.length - 1];\r\n\r\n\t\tif (_event.keyCode === 9 && _event.shiftKey && _event.target === firstFocus) {\r\n\t\t\t_event.preventDefault();\r\n\t\t\tlastFocus.focus();\r\n\t\t}\r\n\t},\r\n\t/* 마지막 요소에서 탭키 */\r\n\tkeyFocusLast : (_event) => {\r\n\t\tconst element = _event.target.closest('.popup-wrap');\r\n\t\tconst focusElement = element.querySelectorAll(commUiVar.focusElements);\r\n\t\tconst firstFocus = focusElement[0];\r\n\t\tconst lastFocus = focusElement[focusElement.length - 1];\r\n\r\n\t\tif (_event.keyCode === 9 && !_event.shiftKey && _event.target === lastFocus) {\r\n\t\t\t_event.preventDefault();\r\n\t\t\tfirstFocus.focus();\r\n\t\t}\r\n\t},\r\n\t/* 열기 - 실행 */\r\n\topen : (_target) => {\r\n\t\tconst thisPopupWrap = document.querySelector(_target);\r\n\t\tif (!thisPopupWrap) return;\r\n\r\n\t\tcommUiVar.popupZIndex++;\r\n\t\tcommUiFnPopup.comm.openOrder++;\r\n\r\n\t\tthisPopupWrap.style.zIndex = commUiVar.popupZIndex;\r\n\t\tthisPopupWrap.classList.add(commUiVar.openClass);\r\n\r\n\t\tcommUiVar.activeTF.popup = commUiFnPopup.comm.openOrder; /* 히든요소 활성화 체크 */\r\n\r\n\t\t/* 히든 영역 포커스 연결 */\r\n\t\tcommUiFnFocus.onFocus(thisPopupWrap);\r\n\r\n\t\t/* .option-guide 유형 제외 */\r\n\t\tif (!thisPopupWrap.classList.contains('option-guide')) {\r\n\t\t\tcommUiFnAriaHide.set(commUiVar.element.page); /* 웹접근성 대응 */\r\n\t\t}\r\n\r\n\t\t/* 자동완성 포커스 해제 */\r\n\t\tconst wordItem = thisPopupWrap.querySelectorAll('.option-search > .words > .word-item > a');\r\n\t\twordItem.forEach(function(_this) {\r\n\t\t\t_this.setAttribute('tabindex', -1);\r\n\t\t});\r\n\r\n\t\t/* .option-guide 유형 최대 높이값 세팅 */\r\n\t\tif (thisPopupWrap.classList.contains('option-guide')) {\r\n\t\t\tconst thisPopupCont = thisPopupWrap.querySelector('.popup-content');\r\n\t\t\tthisPopupCont.style.maxHeight = `${thisPopupCont.scrollHeight}px`;\r\n\t\t}\r\n\r\n\t\tcommUiFnPopup.keyEvent(thisPopupWrap);\r\n\r\n\t\t/* 탭이 있는 경우 */\r\n\t\tif (thisPopupWrap.querySelector('.tab')) {\r\n\t\t\tconst tabMenu = thisPopupWrap.querySelectorAll('.tab-head .tab-menu');\r\n\t\t\ttabMenu.forEach(function(_this) {\r\n\t\t\t\tif (_this.classList.contains(commUiVar.activeClass)) {\r\n\t\t\t\t\tcommUiFnTab.set(_this);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\t/* 콘텐츠하단 고정영역 있을 경우 여백 추가 - 함수 실행 */\r\n\t\tcommUiFnContentFix.init();\r\n\t\tcommUiFnContentFix.init2();\r\n\r\n\t\t/* 접고펼치기 로딩 - 함수 실행 */\r\n\t\tcommUiFnFold.load();\r\n\r\n\t\t/* 포커싱 처리 */\r\n\t\tthisPopupWrap.setAttribute('aria-hidden', false);\r\n\t\tdocument.querySelector(_target + ' .popup-inner').focus();\r\n\t},\r\n\t/* 열기 - 타겟 이벤트 추가 */\r\n\topenSet : () => {\r\n\t\tconst btnPopupOpen = document.querySelectorAll('.fn-popup-open');\r\n\t\tbtnPopupOpen.forEach(function(_this) {\r\n\t\t\t_this.addEventListener('click', function() {\r\n\t\t\t\tconst popupId = _this.dataset.popupId;\r\n\t\t\t\tcommUiFnPopup.open(popupId);\r\n\r\n\t\t\t\t/* 오픈한 버튼 저장(닫기 시 포커스 이동 처리), 다중 팝업 고려하여 배열에 추가 */\r\n\t\t\t\tcommUiFnPopup.comm.openId.push(_this);\r\n\r\n\t\t\t\t/* .option-guide 오픈 버튼 z-index 처리 */\r\n\t\t\t\tif (_this.classList.contains('btn-popup-guide-open')) {\r\n\t\t\t\t\t_this.style.zIndex = `0`;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t},\r\n\t/* 닫기 - 실행 */\r\n\tclose : (_target) => {\r\n\t\tcommUiVar.popupZIndex--;\r\n\t\tcommUiFnPopup.comm.openOrder--;\r\n\t\tconst thisPopupWrap = document.querySelector(_target);\r\n\r\n\t\tthisPopupWrap.classList.remove(commUiVar.openClass);\r\n\t\tsetTimeout(() => {\r\n\t\t\tthisPopupWrap.removeAttribute('style');\r\n\t\t}, commUiVar.animationSpeed);\r\n\r\n\t\tcommUiVar.activeTF.popup = commUiFnPopup.comm.openOrder; /* 히든요소 활성화 체크 */\r\n\r\n\t\t/* 포커싱 처리 */\r\n\t\tthisPopupWrap.setAttribute('aria-hidden', true);\r\n\t\tcommUiFnFocus.onBlur(thisPopupWrap); /* 히든 영역 포커스 해제 */\r\n\r\n\t\t/* .option-guide 유형 제외 */\r\n\t\tif (!thisPopupWrap.classList.contains('option-guide')) {\r\n\t\t\tcommUiFnAriaHide.clear(commUiVar.element.page); /* 웹접근성 대응 */\r\n\t\t}\r\n\r\n\t\t/* .option-guide 유형 최대 높이값 세팅, 오픈 버튼 z-index 처리 */\r\n\t\tif (thisPopupWrap.classList.contains('option-guide')) {\r\n\t\t\tconst thisPopupCont = thisPopupWrap.querySelector('.popup-content');\r\n\t\t\tthisPopupCont.style.maxHeight = `0px`;\r\n\t\t\tcommUiFnPopup.comm.openId[commUiFnPopup.comm.openOrder].style.zIndex = `30`;\r\n\t\t}\r\n\r\n\t\t/* 오픈한 버튼 저장(닫기 시 포커스 이동 처리), 다중 팝업 고려하여 배열에 추가 */\r\n\t\tcommUiFnPopup.comm.openId[commUiFnPopup.comm.openOrder].focus();\r\n\t\tcommUiFnPopup.comm.openId.pop();\r\n\t},\r\n\t/* 닫기 - 타겟 이벤트 추가 */\r\n\tcloseSet : () => {\r\n\t\tconst btnPopupClose = document.querySelectorAll('.fn-popup-close');\r\n\t\tbtnPopupClose.forEach(function(_this) {\r\n\t\t\t_this.addEventListener('click', function() {\r\n\t\t\t\tconst popupId = _this.dataset.popupId;\r\n\t\t\t\tcommUiFnPopup.close(popupId);\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tconst subWrap = document.querySelectorAll('.popup-wrap');\r\n\t\tsubWrap.forEach(function(_this) {\r\n\t\t\t_this.addEventListener('keydown', function(_event) {\r\n\t\t\t\tif (_event.keyCode === 27) {\r\n\t\t\t\t\tcommUiFnPopup.close(_this.querySelector('.fn-popup-close').dataset.popupId);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t},\r\n\t/* 폴드유형 드래그 전역변수 */\r\n\tdragVar : {\r\n\t\tpositionY : undefined,\r\n\t\tcontentHeight : 0\r\n\t},\r\n\t/* 드래그 - PC 마우스 이벤트와 함께 사용할 경우 대비 */\r\n\tdragEvent : (_event) => _event.touches ? _event.touches[0] : _event,\r\n\t/* 드래그 시 콘텐츠 높이 세팅 */\r\n\tdragSetHeight : (_value, _target, _action) => {\r\n\t\tconst thisParent = _target.closest('.popup-inner');\r\n\t\tconst popupWrap = thisParent.closest('.popup-wrap');\r\n\r\n\t\t/* 폴드 유형일 경우 */\r\n\t\tif (popupWrap.classList.contains('option-fold')) {\r\n\t\t\tcommUiFnPopup.dragVar.contentHeight = Math.max(0, Math.min(90, _value));\r\n\t\t\tthisParent.style.maxHeight = `calc(var(--vh, 1vh) * ${commUiFnPopup.dragVar.contentHeight})`;\r\n\t\t\t\r\n\t\t\tif (commUiFnPopup.dragVar.contentHeight === 90) {\r\n\t\t\t\tthisParent.classList.add('is-fill');\r\n\t\t\t} else {\r\n\t\t\t\t/* 닫기 기능 있는 경우 */\r\n\t\t\t\tif (popupWrap.classList.contains('option-swipe')) {\r\n\t\t\t\t\tif (_action === 'touchend') {\r\n\t\t\t\t\t\tif (thisParent.classList.contains('is-fill')) {\r\n\t\t\t\t\t\t\tthisParent.classList.remove('is-fill');\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthisParent.querySelector('.fn-popup-close').click();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthisParent.classList.remove('is-fill');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t/* 폴드 유형이 아닌, 닫기 기능만 있는 경우 */\r\n\t\t} else {\r\n\t\t\tif (popupWrap.classList.contains('option-swipe')) {\r\n\t\t\t\tif (_action === 'touchend' && _value === 50) {\r\n\t\t\t\t\tthisParent.querySelector('.fn-popup-close').click();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t/* 드래그 */\r\n\tdrag : () => {\r\n\t\tconst btnPopupDrag = document.querySelectorAll('.btn-popup-drag');\r\n\t\tbtnPopupDrag.forEach(function(_this) {\r\n\t\t\tlet dragStart;\r\n\t\t\tlet dragEnd;\r\n\t\t\tconst popupDragTarget = _this.closest('.popup-wrap').querySelector('.popup-content');\r\n\t\t\tcommUiFnPopup.dragVar.contentHeight = 50;\r\n\t\t\tcommUiFnPopup.dragSetHeight(commUiFnPopup.dragVar.contentHeight, popupDragTarget);\r\n\r\n\t\t\t/* 드래그 시작 */\r\n\t\t\t_this.addEventListener('touchstart', function(_event) {\r\n\t\t\t\tcommUiFnPopup.dragVar.positionY = commUiFnPopup.dragEvent(_event).pageY;\r\n\t\t\t\tdragStart = commUiFnPopup.dragVar.positionY;\r\n\t\t\t});\r\n\r\n\t\t\t/* 드래그 중 */\r\n\t\t\t_this.addEventListener('touchmove', function(_event) {\r\n\t\t\t\tif (commUiFnPopup.dragVar.positionY === undefined) return;\r\n\t\t\t\tconst pageY = commUiFnPopup.dragEvent(_event).pageY;\r\n\t\t\t\tconst deltaY = commUiFnPopup.dragVar.positionY - pageY;\r\n\t\t\t\tconst deltaVH = deltaY / window.innerHeight * 100;\r\n\t\t\t\tcommUiFnPopup.dragSetHeight(commUiFnPopup.dragVar.contentHeight + deltaVH, popupDragTarget);\r\n\t\t\t\tcommUiFnPopup.dragVar.positionY = pageY;\r\n\t\t\t\tdragEnd = pageY;\r\n\t\t\t\t/* console.log('move', pageY, deltaY, deltaVH, commUiFnPopup.dragVar.contentHeight + deltaVH); */\r\n\t\t\t});\r\n\r\n\t\t\t/* 드래그 종료 */\r\n\t\t\t_this.addEventListener('touchend', function() {\r\n\t\t\t\tcommUiFnPopup.dragVar.positionY = undefined;\r\n\t\t\t\tconst deltaVH = (dragStart / window.innerHeight * 100) - (dragEnd / window.innerHeight * 100);\r\n\t\t\t\tif (deltaVH > 5) {\r\n\t\t\t\t\tcommUiFnPopup.dragSetHeight(100, popupDragTarget, 'touchend');\r\n\t\t\t\t} else if (deltaVH < -5) {\r\n\t\t\t\t\tcommUiFnPopup.dragSetHeight(50, popupDragTarget, 'touchend');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (commUiFnPopup.dragVar.contentHeight > 75) {\r\n\t\t\t\t\t\tcommUiFnPopup.dragSetHeight(100, popupDragTarget, 'touchend');\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tcommUiFnPopup.dragSetHeight(50, popupDragTarget, 'touchend');\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\t/* 위 아래 방향키 입력 시 */\r\n\t\t\t_this.addEventListener('keyup', function(_event) {\r\n\t\t\t\tif (_event.keyCode === 38) {\r\n\t\t\t\t\tcommUiFnPopup.dragSetHeight(100, popupDragTarget, 'touchend');\r\n\t\t\t\t}\r\n\t\t\t\telse if (_event.keyCode === 40) {\r\n\t\t\t\t\tcommUiFnPopup.dragSetHeight(50, popupDragTarget, 'touchend');\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n};\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n\tcommUiFnPopup.init();\r\n});\r\n\r\n/* 팝오버 */\r\nconst commUiFnPopover = {\r\n\t/* 전역변수 */\r\n\tcomm : {\r\n\t\topenId : '', /* 팝업 오픈한 버튼 저장, 닫기 시 포커스 이동에 필요 */\r\n\t\tzIndex : 20\r\n\t},\r\n\t/* 초기실행 */\r\n\tinit : () => {\r\n\t\tcommUiFnPopover.focusSet();\r\n\t\tcommUiFnPopover.openSet();\r\n\t\tcommUiFnPopover.closeSet();\r\n\t},\r\n\t/* 웹접근성 포커스 세팅 */\r\n\tfocusSet : () => {\r\n\t\tconst subWrap = document.querySelectorAll('.popover');\r\n\t\tsubWrap.forEach(function(_this) {\r\n\t\t\tcommUiFnFocus.onBlur(_this);\r\n\t\t});\r\n\t},\r\n\t/* 열기 - 실행 */\r\n\topen : (_target) => {\r\n\t\tconst popoverOpened = document.querySelectorAll('.popover.is-open');\r\n\t\tpopoverOpened.forEach(function(_this) {\r\n\t\t\tcommUiFnPopover.close(`#${_this.id}`);\r\n\t\t});\r\n\r\n\t\tcommUiFnPopover.comm.zIndex++;\r\n\t\tconst thisPopupWrap = document.querySelector(_target);\r\n\t\tconst thisHelpWrap = thisPopupWrap.closest('.helper');\r\n\t\tlet position;\r\n\r\n\t\t/* 위치 계산 */\r\n\t\tposition = commUiFnPopover.position(thisHelpWrap);\r\n\t\tif (position === 'right') {\r\n\t\t\tthisHelpWrap.classList.add('option-right');\r\n\t\t}\r\n\r\n\t\tthisPopupWrap.style.zIndex = commUiFnPopover.comm.zIndex;\r\n\t\tthisPopupWrap.classList.add(commUiVar.openClass);\r\n\r\n\t\tcommUiVar.activeTF.popover = true; /* 히든요소 활성화 체크 */\r\n\r\n\t\tcommUiFnFocus.onFocus(thisPopupWrap); /* 히든 영역 포커스 연결 */\r\n\r\n\t\t/* 포커싱 처리 */\r\n\t\tthisPopupWrap.setAttribute('aria-hidden', false);\r\n\t\tdocument.querySelector(_target).focus();\r\n\r\n\t\t/* 팝오버가 스크롤 영역에 포함되어 있을 경우 체크 및 이벤트 실행 */\r\n\t\tcommUiFnPopoverScroll.init(thisPopupWrap, 'open');\r\n\t},\r\n\t/* 위치 계산 */\r\n\tposition : (_element) => {\r\n\t\tconst thisBtn = _element.querySelector('.helper-btn');\r\n\t\tlet position = '';\r\n\t\tif (thisBtn.getBoundingClientRect().left > (window.innerWidth / 2)) {\r\n\t\t\tposition = 'right';\r\n\t\t}\r\n\t\treturn position;\r\n\t},\r\n\t/* 열기 - 타겟 이벤트 추가 */\r\n\topenSet : () => {\r\n\t\tconst btnPopupOpen = document.querySelectorAll('.fn-popover-open');\r\n\t\tbtnPopupOpen.forEach(function(_this) {\r\n\t\t\t_this.addEventListener('click', function() {\r\n\t\t\t\tconst popoverId = _this.dataset.popoverId;\r\n\t\t\t\tcommUiFnPopover.open(popoverId);\r\n\t\t\t\tcommUiFnPopover.comm.openId = _this;\r\n\t\t\t});\r\n\t\t});\r\n\t},\r\n\t/* 닫기 - 실행 */\r\n\tclose : (_target) => {\r\n\t\tcommUiFnPopover.comm.zIndex--;\r\n\t\tconst thisPopupWrap = document.querySelector(_target);\r\n\t\tconst thisHelpWrap = thisPopupWrap.closest('.helper');\r\n\t\t\r\n\t\tthisPopupWrap.classList.remove(commUiVar.openClass);\r\n\t\t\r\n\t\tsetTimeout(() => {\r\n\t\t\tthisPopupWrap.removeAttribute('style');\r\n\t\t\tthisHelpWrap.classList.remove('option-right');\r\n\t\t}, commUiVar.animationSpeed);\r\n\r\n\t\tcommUiVar.activeTF.popover = false; /* 히든요소 활성화 체크 */\r\n\t\t\r\n\t\t/* 포커싱 처리 */\r\n\t\tthisPopupWrap.setAttribute('aria-hidden', true);\r\n\t\tcommUiFnPopover.comm.openId.focus();\r\n\t\tcommUiFnFocus.onBlur(thisPopupWrap); /* 히든 영역 포커스 해제 */\r\n\r\n\t\t/* 팝오버가 스크롤 영역에 포함되어 있을 경우 체크 및 이벤트 삭제 */\r\n\t\tcommUiFnPopoverScroll.init(thisPopupWrap, 'close');\r\n\t},\r\n\t/* 닫기 - 타겟 이벤트 추가 */\r\n\tcloseSet : () => {\r\n\t\tconst btnPopupClose = document.querySelectorAll('.fn-popover-close');\r\n\t\tbtnPopupClose.forEach(function(_this) {\r\n\t\t\t_this.addEventListener('click', function() {\r\n\t\t\t\tconst popoverId = _this.dataset.popoverId;\r\n\t\t\t\tcommUiFnPopover.close(popoverId);\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n};\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n\tcommUiFnPopover.init();\r\n});\r\n\r\n/** 팝오버 - 스크롤 영역에 포함되어 있을 경우 */\r\nconst commUiFnPopoverScroll = {\r\n\t/* 초기실행 */\r\n\tinit : (_popover, _action) => {\r\n\t\tconst scrollElement = commUiFnPopoverScroll.check(_popover);\r\n\t\tif (scrollElement) {\r\n\t\t\tcommUiFnPopoverScroll.set(_popover, scrollElement, _action);\r\n\t\t}\r\n\t},\r\n\t/* 체크 */\r\n\tcheck : (_popover) => {\r\n\t\tlet scrollWrap;\r\n\t\tconst checkElement = ['.data-body.option-fixed-head', '.data-body.option-fixed-side', '.data-body.option-fixed-mix'];\r\n\t\tcheckElement.forEach(function(_this) {\r\n\t\t\tscrollWrap = scrollWrap || _popover.closest(_this);\r\n\t\t});\r\n\t\treturn scrollWrap;\r\n\t},\r\n\t/* 이벤트 설정 */\r\n\tset : (_popover, _scrollWrap, _action) => {\r\n\t\tcommUiFnPopoverScroll.position(_popover, _scrollWrap);\r\n\t\tif (_action === 'open') {\r\n\t\t\t_scrollWrap.addEventListener('scroll', commUiFnPopoverScroll.events);\r\n\t\t} else if (_action === 'close') {\r\n\t\t\t_scrollWrap.removeEventListener('scroll', commUiFnPopoverScroll.events);\r\n\t\t}\r\n\t},\r\n\t/* 이벤트 실행 */\r\n\tevents : (_event) => {\r\n\t\tconst scrollWrap = _event.target;\r\n\t\tconst openPopover = scrollWrap.querySelectorAll('.popover.is-open');\r\n\t\topenPopover.forEach(function(_this) {\r\n\t\t\tcommUiFnPopoverScroll.position(_this, scrollWrap);\r\n\t\t});\r\n\t},\r\n\t/* 위치 계산 및 반영 */\r\n\tposition : (_popover, _scrollWrap) => {\r\n\t\tlet xScroll = _scrollWrap.scrollLeft;\r\n\t\tlet yScroll = _scrollWrap.scrollTop;\r\n\t\tconst helper = _popover.closest('.helper');\r\n\r\n\t\tif (helper.classList.contains('option-right')) {\r\n\t\t\t_popover.style.marginRight = `${xScroll}px`;\r\n\t\t} else {\r\n\t\t\t_popover.style.marginLeft = `-${xScroll}px`;\r\n\t\t}\r\n\t\t_popover.style.marginTop = `-${yScroll}px`;\r\n\t}\r\n};\r\n\r\n/* 툴팁 */\r\nconst commUiFnTooltip = {\r\n\t/* 초기실행 */\r\n\tinit : () => {\r\n\t\tcommUiFnTooltip.events();\r\n\t},\r\n\t/* 이벤트 */\r\n\tevents : () => {\r\n\t\tconst isIOS = /iPhone|iPad|iPod/i.test(navigator.userAgent);\r\n\t\tconst btnTip = document.querySelectorAll('.tooltip-btn');\r\n\t\tbtnTip.forEach(function(_this) {\r\n\t\t\t_this.addEventListener(isIOS === true ? 'mouseenter' : 'focus', commUiFnTooltip.open);\r\n\t\t\t_this.addEventListener(isIOS === true ? 'mouseout' : 'blur', commUiFnTooltip.close);\r\n\t\t});\r\n\t},\r\n\t/* 열기 */\r\n\topen : (_event) => {\r\n\t\tconst element = _event.target;\r\n\t\tconst parent = element.closest('.tooltip');\r\n\t\tconst y = commUiFnTooltip.position(parent)[0];\r\n\t\tconst x = commUiFnTooltip.position(parent)[1];\r\n\t\tconst boxWidth = commUiFnTooltip.position(parent)[2];\r\n\r\n\t\tparent.classList.add(commUiVar.openClass, `${y}`, `${x}`);\r\n\t\tparent.querySelector('.tooltip-body').style.maxWidth = `${boxWidth}px`;\r\n\t},\r\n\t/* 닫기 */\r\n\tclose : (_event) => {\r\n\t\tconst element = _event.target;\r\n\t\tconst parent = element.closest('.tooltip');\r\n\r\n\t\tparent.classList.remove(commUiVar.openClass);\r\n\t\tparent.querySelector('.tooltip-body').style.maxWidth = ``;\r\n\r\n\t\tsetTimeout(() => {\r\n\t\t\tparent.classList.remove('top', 'bottom', 'left', 'right');\r\n\t\t}, commUiVar.animationSpeed);\r\n\t},\r\n\t/* 위치 */\r\n\tposition : (_element) => {\r\n\t\tconst thisBtn = _element.querySelector('.tooltip-btn');\r\n\t\tconst screenWidth = window.innerWidth;\r\n\t\tlet y = 'top';\r\n\t\tif (thisBtn.getBoundingClientRect().top > (window.innerHeight / 2)) {\r\n\t\t\ty = 'bottom';\r\n\t\t}\r\n\t\tlet x = 'left';\r\n\t\tlet boxWidth = screenWidth - Math.round(thisBtn.getBoundingClientRect().left);\r\n\t\tif (thisBtn.getBoundingClientRect().left > (window.innerWidth / 2)) {\r\n\t\t\tx = 'right';\r\n\t\t\tboxWidth = screenWidth - (screenWidth - Math.round(thisBtn.getBoundingClientRect().left));\r\n\t\t}\r\n\t\treturn [y, x, boxWidth];\r\n\t}\r\n};\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n\tcommUiFnTooltip.init();\r\n});\r\n\r\n/* 토스트 */\r\nconst commUiFnToast = {\r\n\t/* 전역변수 */\r\n\tcomm : {\r\n\t\topenId : '', /* 팝업 오픈한 버튼 저장, 닫기 시 포커스 이동에 필요 */\r\n\t},\r\n\t/* 초기실행 */\r\n\tinit : () => {\r\n\t\tcommUiFnToast.openSet();\r\n\t\tcommUiFnToast.closeSet();\r\n\t},\r\n\t/* 열기 - 실행 */\r\n\topen : (_target) => {\r\n\t\tconst toastOpened = document.querySelectorAll('.toast.is-open');\r\n\t\ttoastOpened.forEach(function(_this) {\r\n\t\t\tcommUiFnToast.close(`#${_this.id}`);\r\n\t\t});\r\n\r\n\t\tconst thisPopupWrap = document.querySelector(_target);\r\n\r\n\t\tthisPopupWrap.classList.add(commUiVar.openClass);\r\n\r\n\t\tcommUiVar.activeTF.toast = true; /* 히든요소 활성화 체크 */\r\n\r\n\t\t/* 포커싱 처리 */\r\n\t\tcommUiFnFocus.onFocus(thisPopupWrap); /* 히든 영역 포커스 연결 */\r\n\t\tthisPopupWrap.setAttribute('aria-hidden', false);\r\n\t\tdocument.querySelector(_target).focus();\r\n\t},\r\n\t/* 열기 - 타겟 이벤트 추가 */\r\n\topenSet : () => {\r\n\t\tconst btnPopupOpen = document.querySelectorAll('.fn-toast-open');\r\n\t\tbtnPopupOpen.forEach(function(_this) {\r\n\t\t\t_this.addEventListener('click', function() {\r\n\t\t\t\tconst toastId = _this.dataset.toastId;\r\n\t\t\t\tcommUiFnToast.open(toastId);\r\n\t\t\t\tcommUiFnToast.comm.openId = _this;\r\n\t\t\t});\r\n\t\t});\r\n\t},\r\n\t/* 닫기 - 실행 */\r\n\tclose : (_target) => {\r\n\t\tconst thisPopupWrap = document.querySelector(_target);\r\n\r\n\t\tthisPopupWrap.classList.remove(commUiVar.openClass);\r\n\r\n\t\tcommUiVar.activeTF.toast = false; /* 히든요소 활성화 체크 */\r\n\t\t\r\n\t\t/* 포커싱 처리 */\r\n\t\tthisPopupWrap.setAttribute('aria-hidden', true);\r\n\t\tif (commUiFnToast.comm.openId) {\r\n\t\t\tcommUiFnToast.comm.openId.focus();\r\n\t\t}\r\n\t\tcommUiFnFocus.onBlur(thisPopupWrap); /* 히든 영역 포커스 해제 */\r\n\t},\r\n\t/* 닫기 - 타겟 이벤트 추가 */\r\n\tcloseSet : () => {\r\n\t\tconst btnPopupClose = document.querySelectorAll('.fn-toast-close');\r\n\t\tbtnPopupClose.forEach(function(_this) {\r\n\t\t\t_this.addEventListener('click', function() {\r\n\t\t\t\tconst toastId = _this.dataset.toastId;\r\n\t\t\t\tcommUiFnToast.close(toastId);\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n};\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n\tcommUiFnToast.init();\r\n});\r\n\r\n/* 바디 클릭 시 */\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n\tdocument.querySelector('body').addEventListener('click', function(_event) {\r\n\t\t/* console.log('_event.target===', _event.target); */\r\n\t\t/* 인풋 삭제 버튼 숨기기 */\r\n\t\tif (commUiVar.activeTF.inputBtnClear) {\r\n\t\t\tif (!_event.target.parentElement.classList.contains('input')) commUiFnInput.hideClearButton();\r\n\t\t}\r\n\t\r\n\t\t/* 인풋 검색어 리스트 닫기 */\r\n\t\tif (commUiVar.activeTF.inputSearch) {\r\n\t\t\tif (!_event.target.parentElement.classList.contains('option-search')) commUiFnSearch.closeAll();\r\n\t\t} \r\n\t\r\n\t\t/* 인풋 캘린더 닫기 */\r\n\t\tif (commUiVar.activeTF.inputCalendar) {\r\n\t\t\tif (_event.target.classList.contains('calendar-popup') && _event.target.classList.contains(commUiVar.openClass)) {\r\n\t\t\t\tcommUiFnCalendar.close();\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t\t/* 셀렉 옵션 리스트 닫기 */\r\n\t\tif (commUiVar.activeTF.select) {\r\n\t\t\tif (_event.target.classList.contains('select-popup') && _event.target.classList.contains(commUiVar.openClass)) {\r\n\t\t\t\tcommUiFnSelectPopup.close();\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t\t/* 팝업 닫기 */\r\n\t\tif (commUiVar.activeTF.popup > 0) {\r\n\t\t\tif (_event.target.classList.contains('popup-wrap') && _event.target.classList.contains(commUiVar.openClass)) {\r\n\t\t\t\tcommUiFnPopup.close('#' + _event.target.id);\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t\t/* 팝오버 닫기 */\r\n\t\tif (commUiVar.activeTF.popover) {\r\n\t\t\tif (!_event.target.closest('.popover') && !_event.target.closest('.fn-popover-open')) {\r\n\t\t\t\tconst popoverOpened = document.querySelectorAll('.popover.is-open');\r\n\t\t\t\tpopoverOpened.forEach(function(_this) {\r\n\t\t\t\t\tcommUiFnPopover.close(`#${_this.id}`);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t\t/* 토스트 닫기 */\r\n\t\tif (commUiVar.activeTF.toast) {\r\n\t\t\tif (!_event.target.closest('.toast') && !_event.target.closest('.fn-toast-open')) {\r\n\t\t\t\tconst toastOpened = document.querySelectorAll('.toast.is-open');\r\n\t\t\t\ttoastOpened.forEach(function(_this) {\r\n\t\t\t\t\tcommUiFnToast.close(`#${_this.id}`);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n});\r\n\r\n/* 접고펼치기\r\n\t.fn-fold-wrap : 부모 요소\r\n\t.fn-fold-link : 타이틀 요소(버튼 이벤트 연결 시)\r\n\t.fn-fold-btn : 버튼 요소\r\n\t.fn-fold-item[] : 접고 펼칠 요소들\r\n\tdata-fold-slide=\"true\" : 애니메이션 반영 여부\r\n*/\r\nconst commUiFnFold = {\r\n\t/* 초기실행 */\r\n\tinit : () => {\r\n\t\tcommUiFnFold.load();\r\n\t\tcommUiFnFold.events();\r\n\t\tcommUiFnFold.links();\r\n\t},\r\n\t/* 버튼 클릭 - 이벤트 바인딩 */\r\n\tevents : () => {\r\n\t\tconst foldBtn = document.querySelectorAll('.fn-fold-wrap .fn-fold-btn');\r\n\t\tfoldBtn.forEach(function(_this) {\r\n\t\t\t_this.addEventListener('click', commUiFnFold.btnEvent);\r\n\t\t});\r\n\t},\r\n\t/* 버튼 클릭 - 이벤트 실행 */\r\n\tbtnEvent : (_event) => {\r\n\t\tconst element = _event.target;\r\n\t\tconst thisWrap = element.closest('.fn-fold-wrap');\r\n\t\tlet opened = true;\r\n\t\tif (thisWrap.classList.contains(commUiVar.openClass)) {\r\n\t\t\topened = false;\r\n\t\t}\r\n\t\tcommUiFnFold.set(element, opened);\r\n\t},\r\n\t/* 제목 클릭 - 이벤트 바인딩 */\r\n\tlinks : () => {\r\n\t\tconst foldLink = document.querySelectorAll('.fn-fold-wrap .fn-fold-link');\r\n\t\tfoldLink.forEach(function(_this) {\r\n\t\t\t_this.addEventListener('click', commUiFnFold.linkEvent);\r\n\t\t});\r\n\t},\r\n\t/* 제목 클릭 - 이벤트 실행 */\r\n\tlinkEvent : (_event) => {\r\n\t\tconst element = _event.target;\r\n\t\telement.closest('.fn-fold-wrap').querySelector('.fn-fold-btn').click();\r\n\t},\r\n\t/* 로딩 */\r\n\tload : () => {\r\n\t\tconst foldWrap = document.querySelectorAll('.fn-fold-wrap');\r\n\t\tfoldWrap.forEach(function(_this) {\r\n\t\t\tlet opened = false;\r\n\r\n\t\t\t/* 열려있을 때 */\r\n\t\t\tif (_this.classList.contains(commUiVar.openClass)) {\r\n\t\t\t\topened = true;\r\n\t\t\t}\r\n\r\n\t\t\t/* 세팅 호출 */\r\n\t\t\tcommUiFnFold.set(_this.querySelector('.fn-fold-btn'), opened);\r\n\t\t});\r\n\t},\r\n\t/* 세팅 */\r\n\tset : (_element, _opened) => {\r\n\t\tconst thisWrap = _element.closest('.fn-fold-wrap');\r\n\t\tconst btnText = _element.querySelector('span.sr-only');\r\n\r\n\t\tlet btnValue = `펼침`;\r\n\t\tif (_opened) { /* 열기 */\r\n\t\t\tthisWrap.classList.add(commUiVar.openClass);\r\n\t\t\tbtnValue = `접힘`;\r\n\t\t} else {\r\n\t\t\tthisWrap.classList.remove(commUiVar.openClass);\r\n\t\t}\r\n\t\tif (btnText) {\r\n\t\t\tbtnText.innerHTML = btnValue;\r\n\t\t}\r\n\r\n\t\t/* 웹접근성 세팅 호출 */\r\n\t\tcommUiFnFold.setWA(_element, _opened);\r\n\t},\r\n\t/* 웹접근성 세팅 */\r\n\tsetWA : (_element, _opened) => {\r\n\t\tconst thisWrap = _element.closest('.fn-fold-wrap');\r\n\t\tconst thisItems = thisWrap.querySelectorAll('.fn-fold-item');\r\n\t\tconst slideOption = thisWrap.dataset.foldSlide;\r\n\r\n\t\tlet waExpanded = false;\r\n\t\tlet waHidden = true;\r\n\t\tif (_opened) { /* 열기 */\r\n\t\t\twaExpanded = true;\r\n\t\t\twaHidden = false;\r\n\t\t}\r\n\t\t_element.setAttribute('aria-expanded', waExpanded);\r\n\r\n\t\tthisItems.forEach(function(_this) {\r\n\t\t\t_this.setAttribute('aria-hidden', waHidden);\r\n\r\n\t\t\tif (_opened) { /* 열기 */\r\n\t\t\t\tcommUiFnFocus.onFocus(_this);\r\n\t\t\t} else { /* 닫기 */\r\n\t\t\t\tcommUiFnFocus.onBlur(_this);\r\n\t\t\t}\r\n\r\n\t\t\tif (slideOption) {\r\n\t\t\t\tcommUiFnFold.setSlide(_this, _opened);\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\t/* 애니메이션 세팅 */\r\n\tsetSlide : (_element, _opened) => {\r\n\t\tlet heightVal = 0;\r\n\t\tif (_opened) { /* 열기 */\r\n\t\t\theightVal = _element.scrollHeight;\r\n\t\t}\r\n\t\t_element.style.maxHeight = `${heightVal}px`;\r\n\t}\r\n};\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n\tcommUiFnFold.init();\r\n});\r\n\r\n/* 접고펼치기 - 단일\r\n\t.fn-fold-id : 버튼 요소\r\n\tdata-fold-target : 접고 펼칠 요소\r\n*/\r\nconst commUiFnFoldID = {\r\n\t/* 초기실행 */\r\n\tinit : () => {\r\n\t\tcommUiFnFoldID.events();\r\n\t},\r\n\t/* 버튼 클릭 */\r\n\tevents : () => {\r\n\t\tconst foldBtn = document.querySelectorAll('.fn-fold-id');\r\n\t\tfoldBtn.forEach(function(_this) {\r\n\t\t\t_this.addEventListener('click', function() {\r\n\t\t\t\tconst thisWrap = document.querySelector(`#${this.dataset.foldTarget}`);\r\n\t\t\t\tlet opened = true;\r\n\t\t\t\tif (thisWrap.classList.contains(commUiVar.openClass)) {\r\n\t\t\t\t\topened = false;\r\n\t\t\t\t}\r\n\t\t\t\tcommUiFnFoldID.set(this, opened);\r\n\t\t\t});\r\n\t\t});\r\n\t},\r\n\t/* 로딩 */\r\n\tload : () => {\r\n\t\tconst foldWrap = document.querySelectorAll('.fn-fold-wrap');\r\n\t\tfoldWrap.forEach(function(_this) {\r\n\t\t\tlet opened = false;\r\n\r\n\t\t\t/* 열려있을 때 */\r\n\t\t\tif (_this.classList.contains(commUiVar.openClass)) {\r\n\t\t\t\topened = true;\r\n\t\t\t}\r\n\r\n\t\t\t/* 세팅 호출 */\r\n\t\t\tcommUiFnFoldID.set(_this.querySelector('.fn-fold-btn'), opened);\r\n\t\t});\r\n\t},\r\n\t/* 세팅 */\r\n\tset : (_element, _opened) => {\r\n\t\tconst thisWrap = document.querySelector(`#${_element.dataset.foldTarget}`);\r\n\t\tlet btnValue = `펼침`;\r\n\t\tif (_opened) { /* 열기 */\r\n\t\t\t_element.closest('tr').classList.add(commUiVar.activeClass);\r\n\t\t\tthisWrap.classList.add(commUiVar.openClass);\r\n\t\t\tbtnValue = `접힘`;\r\n\t\t} else {\r\n\t\t\t_element.closest('tr').classList.remove(commUiVar.activeClass);\r\n\t\t\tthisWrap.classList.remove(commUiVar.openClass);\r\n\t\t}\r\n\t\t_element.querySelector('span.sr-only').innerHTML = btnValue;\r\n\r\n\t\t/* 웹접근성 세팅 호출 */\r\n\t\tcommUiFnFoldID.setWA(_element, _opened);\r\n\t},\r\n\t/* 웹접근성 세팅 */\r\n\tsetWA : (_element, _opened) => {\r\n\t\tconst thisWrap = document.querySelector(`#${_element.dataset.foldTarget}`);\r\n\r\n\t\tlet waExpanded = false;\r\n\t\tlet waHidden = true;\r\n\t\tif (_opened) { /* 열기 */\r\n\t\t\twaExpanded = true;\r\n\t\t\twaHidden = false;\r\n\t\t}\r\n\t\t_element.setAttribute('aria-expanded', waExpanded);\r\n\t\tthisWrap.setAttribute('aria-hidden', waHidden);\r\n\r\n\t\tif (_opened) { /* 열기 */\r\n\t\t\tcommUiFnFocus.onFocus(thisWrap);\r\n\t\t} else { /* 닫기 */\r\n\t\t\tcommUiFnFocus.onBlur(thisWrap);\r\n\t\t}\r\n\t}\r\n};\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n\tcommUiFnFoldID.init();\r\n});\r\n\r\n/* 하단 고정형 버튼일 경우 콘텐츠 여백 클래스 추가 */\r\nconst commUiFnFixMainButton = {\r\n\tinit : () => {\r\n\t\tconst mainButton = document.querySelectorAll('.btn-group.option-main');\r\n\t\tmainButton.forEach(function(_this) {\r\n\t\t\tconst thisPage = _this.closest('#page');\r\n\t\t\tif (thisPage) {\r\n\t\t\t\tconst thisFooter = thisPage.querySelector('#footer > .footer-inner');\r\n\t\t\t\tif (thisFooter) {\r\n\t\t\t\t\tcommUiFnFixMainButton.add(thisPage);\r\n\t\t\t\t} else {\r\n\t\t\t\t\t/* 탭 안에 버튼이 있는 경우 */\r\n\t\t\t\t\tif (_this.closest('.tab-item')) {\r\n\t\t\t\t\t\tconst group = _this.closest('.tab-item').querySelectorAll('.group');\r\n\t\t\t\t\t\tgroup.forEach(function(_element, _index) {\r\n\t\t\t\t\t\t\tif ((group.length - 1) === _index) {\r\n\t\t\t\t\t\t\t\tcommUiFnFixMainButton.add(_element);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconst thisParent = _this.closest('#content');\r\n\t\t\t\t\tconst section = thisParent.querySelectorAll('.section');\r\n\t\t\t\t\tsection.forEach(function(_element, _index) {\r\n\t\t\t\t\t\tif ((section.length - 1) === _index) {\r\n\t\t\t\t\t\t\tcommUiFnFixMainButton.add(_element);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\tadd : (_element) => {\r\n\t\t_element.classList.add('has-space');\r\n\t}\r\n};\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n\tcommUiFnFixMainButton.init();\r\n});\r\n\r\n/* 콘텐츠하단 고정영역 있을 경우 여백 추가 */\r\nconst commUiFnContentFix = {\r\n\tinit : () => {\r\n\t\tconst mainButton = document.querySelectorAll('.content-foot');\r\n\t\tmainButton.forEach(function(_this) {\r\n\t\t\tconst thisParent = _this.closest('#content') || _this.closest('.popup-content');\r\n\t\t\tconst section = thisParent.querySelectorAll('.section');\r\n\t\t\tconst thisHeight = _this.scrollHeight;\r\n\r\n\t\t\tcommUiFnContentFix.set(section, thisHeight);\r\n\t\t});\r\n\t},\r\n\tinit2 : () => {\r\n\t\tconst mainButton = document.querySelectorAll('.popup-wrap.option-guide');\r\n\t\tmainButton.forEach(function(_this) {\r\n\t\t\tconst thisParent = _this.closest('#wrap');\r\n\t\t\tconst thisPage = thisParent.querySelector('#page');\r\n\t\t\tconst section = thisPage.querySelectorAll('#content > .section');\r\n\t\t\tconst thisHeight = _this.querySelector('.popup-head').scrollHeight;\r\n\r\n\t\t\tcommUiFnContentFix.set(section, thisHeight);\r\n\t\t});\r\n\t},\r\n\tset : (_element, _height) => {\r\n\t\tconst section = _element;\r\n\t\tsection.forEach(function(_element, _index) {\r\n\t\t\tif ((section.length - 1) === _index) {\r\n\t\t\t\t_element.classList.add('has-space-fix-content');\r\n\t\t\t\t_element.style.paddingBottom = `calc(2.4rem + ${_height}px`;\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n};\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n\tcommUiFnContentFix.init();\r\n\tcommUiFnContentFix.init2();\r\n});\r\n\r\n/* VH 단위 계산 */\r\nconst commUiFnSetVH = () => {\r\n\tconst vh = window.innerHeight * 0.01;\r\n\tdocument.documentElement.style.setProperty('--vh', `${vh}px`);\r\n};\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n\tcommUiFnSetVH();\r\n});\r\nwindow.addEventListener('resize', commUiFnSetVH);\r\n\r\n/* 데이터형 테이블 열 선택 */\r\nconst commUiFnDataSelect = {\r\n\tset : (_id) => {\r\n\t\tconst dataID = document.querySelector(_id);\r\n\t\tif (dataID) {\r\n\t\t\tcommUiFnDataSelect.event(dataID);\r\n\t\t}\r\n\t},\r\n\tevent : (_id) => {\r\n\t\tconst inputRadio = _id.querySelectorAll('.data-radio > .radio-item > .control');\r\n\t\tinputRadio.forEach(function(_this) {\r\n\t\t\t_this.addEventListener('click', function() {\r\n\t\t\t\tconst thisTable = this.closest('table');\r\n\t\t\t\tconst thisIndex = [...this.closest('tr').querySelectorAll('th')].indexOf(this.closest('th'));\r\n\t\t\t\tconst allRowLength = thisTable.rows.length;\r\n\t\t\t\tconst headCellLength = thisTable.rows[0].children.length;\r\n\t\t\t\tfor (let i = 0; i < allRowLength; i++) {\r\n\t\t\t\t\tif (thisTable.rows[i].children.length === headCellLength) {\r\n\t\t\t\t\t\tfor (let j = 0; j < thisTable.rows[i].children.length; j++) {\r\n\t\t\t\t\t\t\tthisTable.rows[i].children[j].classList.remove('is-select');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthisTable.rows[i].children[thisIndex].classList.add('is-select');\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n};\r\n\r\n/* 데이터형 테이블 선택 시 열 이동 */\r\nconst commUiFnDataMove = {\r\n\tset : (_id) => {\r\n\t\tconst dataID = document.querySelector(_id);\r\n\t\tif (dataID) {\r\n\t\t\tcommUiFnDataMove.event(dataID);\r\n\t\t\tcommUiFnDataSelect.event(dataID);\r\n\t\t}\r\n\t},\r\n\tevent : (_id) => {\r\n\t\tconst inputRadio = _id.querySelectorAll('.data-radio > .radio-item > .control');\r\n\t\tinputRadio.forEach(function(_this) {\r\n\t\t\t_this.addEventListener('click', function() {\r\n\t\t\t\tconst thisTable = this.closest('table');\r\n\t\t\t\tconst thisIndex = [...this.closest('tr').querySelectorAll('th')].indexOf(this.closest('th'));\r\n\t\t\t\tconst allRowLength = thisTable.rows.length;\r\n\t\t\t\tconst headCellLength = thisTable.rows[0].children.length;\r\n\t\t\t\tconst setIndex = 0; /* 이동 위치 세팅 */\r\n\t\t\t\tlet cellData;\r\n\r\n\t\t\t\tfor (let i = 0; i < allRowLength; i++) {\r\n\t\t\t\t\tif (thisTable.rows[i].children.length === headCellLength) {\r\n\t\t\t\t\t\tcellData = thisTable.rows[i].children[thisIndex];\r\n\t\t\t\t\t\tthisTable.rows[i].children[thisIndex].remove();\r\n\r\n\t\t\t\t\t\tthisTable.rows[i].insertBefore(cellData, thisTable.rows[i].children[setIndex]);\r\n\t\t\t\t\t\tcellData = '';\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tthis.closest('.data-body').scrollLeft = 0;\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n};\r\n\r\n/* 페이지 상단 이동 */\r\nconst commUiPageTop = {\r\n\tinit : () => {\r\n\t\tconst btnTop = document.querySelector('.btn-page-top');\r\n\t\tif (btnTop) {\r\n\t\t\tconst page = document.querySelector('#page');\r\n\t\t\tbtnTop.addEventListener('click', function() {\r\n\t\t\t\tpage.scrollTop = 0;\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n};\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n\tcommUiPageTop.init();\r\n});\r\n\r\n/* 애니메이션 */\r\nconst commUiResultAnimation = {\r\n\t/* 값 가져오기 */\r\n\tset : () => {\r\n\t\tconst aniSet = document.querySelectorAll('.fn-ani-set');\r\n\t\taniSet.forEach(function(_this) {\r\n\t\t\tconst aniItem = _this.dataset.aniItem;\r\n\t\t\tlet aniLoop = false;\r\n\t\t\tif (_this.dataset.aniLoop) aniLoop = Boolean(_this.dataset.aniLoop);\r\n\r\n\t\t\tlet aniAuto = true;\r\n\t\t\tif (_this.dataset.aniAuto === 'false') aniAuto = false;\r\n\r\n\t\t\tcommUiResultAnimation.load(_this, aniItem, aniLoop, aniAuto);\r\n\t\t});\r\n\t},\r\n\t/* 실행하기 */\r\n\tload : (_element, _file, _loop, _auto) => {\r\n\t\tconst getURL = window.location.href;\r\n\t\tlet pathDir = '../../../../';\r\n\t\tif (getURL.indexOf('/doc/guide/') !== -1) {\r\n\t\t\tpathDir = '../../';\r\n\t\t}\r\n\t\t_element.setAttribute('aria-hidden', true);\r\n\t\tlottie.loadAnimation({\r\n\t\t\tcontainer: _element,\r\n\t\t\tpath: `${pathDir}js/com/animation-json/${_file}.json`,\r\n\t\t\trenderer: 'svg',\r\n\t\t\tloop: _loop,\r\n\t\t\tautoplay: _auto,\r\n\t\t\tspeed: 1,\r\n\t\t\tname: _file\r\n\t\t});\r\n\t},\r\n\t/* 공통-로딩 */\r\n\tloading : () => {\r\n\t\tconst loadingIcon = document.querySelector('#loading .loading-bar > span');\r\n\t\tif (loadingIcon) {\r\n\t\t\tcommUiResultAnimation.load(loadingIcon, 'loading', true, true);\r\n\t\t}\r\n\t}\r\n};\r\ncommUiResultAnimation.set();\r\ncommUiResultAnimation.loading();\r\n\r\n/* 메인카피 타이틀 스크롤 애니메이션 */\r\nconst commUiMainCopy = {\r\n\tset : () => {\r\n\t\tconst mainCopy = document.querySelectorAll('.main-copy');\r\n\t\tmainCopy.forEach(function(_this) {\r\n\t\t\tlet thisWrap = '';\r\n\t\t\tlet thisScrollWrap = '';\r\n\t\t\tif (_this.closest('#page')) {\r\n\t\t\t\tthisWrap = _this.closest('#page');\r\n\t\t\t\t/* 제휴페이지 예외 처리 */\r\n\t\t\t\tif (thisWrap.classList.contains('main-option-partner')) {\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t\tthisScrollWrap = thisWrap;\r\n\t\t\t}\r\n\r\n\t\t\tif (_this.closest('.popup-wrap')) {\r\n\t\t\t\tthisWrap = _this.closest('.popup-wrap');\r\n\t\t\t\tthisScrollWrap = thisWrap.querySelector('.popup-content');\r\n\t\t\t}\r\n\r\n\t\t\tif (thisWrap.dataset.mainCopy) {\r\n\t\t\t\tcommUiMainCopy.events(thisScrollWrap);\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\tevents : (_element) => {\r\n\t\t_element.addEventListener('scroll', function() {\r\n\t\t\tconst mainCopy = this.querySelector('.main-copy');\r\n\t\t\tconst thisScrollTop = this.scrollTop;\r\n\t\t\tlet mainCopyY = mainCopy.offsetTop + mainCopy.scrollHeight;\r\n\r\n\t\t\tlet thisWrap = '';\r\n\t\t\tlet thisWrapTitle = '';\r\n\t\t\tif (this.closest('#page')) {\r\n\t\t\t\tthisWrap = this.closest('#page');\r\n\t\t\t\tthisWrapTitle = thisWrap.querySelector('#header > .header-title');\r\n\t\t\t}\r\n\r\n\t\t\tif (this.closest('.popup-wrap')) {\r\n\t\t\t\tthisWrap = this.closest('.popup-wrap');\r\n\t\t\t\tthisWrapTitle = thisWrap.querySelector('.popup-head > .popup-title');\r\n\t\t\t\tmainCopyY = mainCopy.offsetTop;\r\n\t\t\t}\r\n\r\n\t\t\tif (thisScrollTop > mainCopyY) {\r\n\t\t\t\tthisWrapTitle.classList.add(commUiVar.activeClass);\r\n\t\t\t} else {\r\n\t\t\t\tthisWrapTitle.classList.remove(commUiVar.activeClass);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n};\r\ncommUiMainCopy.set();\r\n\r\n/* 탭 가로 스크롤 */ /* 2023-11-01 : width:max-content; 속성으로 처리, 추후 CSS 오류 있을 경우 스크립트 부활 예정 */\r\nconst commUiFnTabSize = () => {\r\n\tconst tabScroll = document.querySelectorAll('.tab-scroll > .tab-head');\r\n\ttabScroll.forEach(function(_this) {\r\n\t\tlet tabSize = 0, setUnit = '';\r\n\t\t/* 탭 넓이 구하기 */\r\n\t\tfor (let j = 0; j < _this.children.length; j++) {\r\n\t\t\t// tabSize = tabSize + _this.children[j].offsetWidth + parseInt(window.getComputedStyle(_this.children[j]).getPropertyValue('margin-left'));\r\n\t\t\ttabSize = tabSize + _this.children[j].offsetWidth;\r\n\t\t}\r\n\t\t/* 디바이스 넓이에 따른 단위 세팅 */\r\n\t\tif (window.innerWidth > 1024) {\r\n\t\t\tsetUnit = `px`;\r\n\t\t} else {\r\n\t\t\ttabSize = Math.ceil(tabSize * 0.1).toFixed(2);\r\n\t\t\tsetUnit = `rem`;\r\n\t\t}\r\n\t\t_this.style.cssText = `width: ${tabSize}${setUnit}`;\r\n\t});\r\n};\r\n/* window.addEventListener('load', function() {\r\n\tcommUiFnTabSize();\r\n});\r\nwindow.addEventListener('resize', function() {\r\n\tcommUiFnTabSize();\r\n}); */\r\n\r\nconst guideMenu = {\r\n\tinit : () => {\r\n\t\t/* guideMenu.links(); */\r\n\t\tguideMenu.folder();\r\n\t},\r\n\tfolder : () => {\r\n\t\tconst checkAll = document.querySelector('#checkSideControl');\r\n\t\tcheckAll.addEventListener('click', function() {\r\n\t\t\tconst menus = document.querySelectorAll('#aside .accordion');\r\n\t\t\tif (this.checked) {\r\n\t\t\t\tmenus.forEach(function(_this) {\r\n\t\t\t\t\tcommUiFnFold.set(_this.querySelector('.btn-fold'), true);\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tmenus.forEach(function(_this) {\r\n\t\t\t\t\tcommUiFnFold.set(_this.querySelector('.btn-fold'), false);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\tlinks : () => {\r\n\t\tconst guideLink = document.querySelectorAll('#aside .fn-guide-link');\r\n\t\tguideLink.forEach(function(_this) {\r\n\t\t\t_this.addEventListener('click', function(e) {\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\tconst _thisId = this.getAttribute('href');\r\n\t\t\t\tconst _thisElement = document.querySelector(_thisId);\r\n\t\t\t\tif (_thisElement !== null) {\r\n\t\t\t\t\tdocument.querySelector('#page').scrollTop = _thisElement.offsetTop;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n};\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n\tguideMenu.init();\r\n});"],"names":["commUiVar","activeClass","openClass","animationSpeed","focusElements","activeTF","inputBtnClear","inputSearch","inputCalendar","select","popup","popover","toast","popupZIndex","element","page","document","querySelector","main","commUiFnFocus","focus","_element","set","onFocus","querySelectorAll","forEach","_this","blur","onBlur","_target","_tabIndex","classList","contains","setAttribute","commUiFnAriaHide","commUiFnGNB","init","event","anchor","gnb","gnbScroll","addEventListener","anchorScroll","anchorClick","_event","utilY","scrollHeight","anchorY","target","gnbTop","offsetTop","scrollTop","add","remove","thisTarget","getAttribute","menuId","menuTop","menuTopGap","scrollBottom","anchorActive","thisWrap","closest","thisMenu","thisList","scrollLeft","offsetLeft","offsetWidth","preventDefault","parentElement","thisLink","targetTop","concat","focusEvent","focusElement","firstFocus","lastFocus","length","open","header","setTimeout","commUiFnFold","close","gnbMenu","gnbMenuClose","commUiFnPageSearch","openId","search","btnSearch","click","this","btnClose","commUiFnTab","load","keyEvent","thisTab","parentTF","_item","menuSet","contentSet","_item2","_item3","thisItem","_openTF","tabMenu","_index","keyCode","commUiFnInput","create","events","readOnly","disabled","value","commUiFnSearch","check","commUiFnEmail","closeAll","hideClearButton","thisGroup","addButton","createElement","append","btnClear","addBtnText","innerHTML","clearContent","thisParentChild","checkTF","thisParent","getBoundingClientRect","top","window","innerHeight","text","keyInputDataFn","keyOptionsFn","inpOptSearch","selectIdx","_toConsumableArray","indexOf","regExpSymbol","RegExp","regExpKor","regExpAt","split","join","thisValue","test","substring","insertWord","listCount","itemLink","itemHtml","commUiFnCalendar","comm","popupId","titleId","button","selectMonth","closeSet","style","zIndex","labelTextA","labelId","labelElement","labelTextB","thisLabel","popupBody","pickYear","pickMonth","pickDay","head","Number","padStart","shiftKey","commUiFnSelectPopup","selectData","createPopup","createButton","insertAdjacentHTML","_elements","thisSelect","thisOption","thisId","selectTitle","addSelectText","_option","selected","eventSelectButton","createOption","thisData","options","addOptionList","setClassName","setAriaSelected","setTabIndex","children","openSelect","selectButton","keyPopupFn","item","firstIndex","commUiFnSelectCustom","itemFocus","itemBlur","getValue","dataset","selectValue","getText","removeEventListener","selectBtn","commUiFnPopup","commUiFnTextarea","setStrLength","maxByte","countStr","textareaData","textareaValue","nowByte","getByte","checkStrLimited","alert","_textareaValue","_maxByte","i","char","decimal","charCodeAt","byte","getCharByte","_str","map","s","reduce","prev","unicodeDecimalValue","_decimal","commUiFnFile","attach","thisFile","imgReader","FileReader","onload","e","result","readAsDataURL","files","substr","lastIndexOf","setWA","delete","_attached","waNameHidden","waNameTabIndex","waLabelHidden","waLabelTabIndex","commUiFnMultiFile","setSeq","setMax","fileWrap","thisIdx","fileList","parentNode","removeChild","commUiFnRange","sliderThumb","change","stepPercent","thisMax","thisMin","width","openOrder","focusSet","openSet","drag","keyFocusFirst","keyFocusLast","thisPopupWrap","thisPopupCont","maxHeight","commUiFnContentFix","init2","push","removeAttribute","pop","dragVar","positionY","undefined","contentHeight","dragEvent","touches","dragSetHeight","_value","_action","popupWrap","Math","max","min","dragStart","dragEnd","popupDragTarget","pageY","deltaVH","commUiFnPopover","id","thisHelpWrap","position","commUiFnPopoverScroll","left","innerWidth","popoverId","_popover","scrollElement","scrollWrap","_scrollWrap","xScroll","yScroll","marginRight","marginLeft","marginTop","commUiFnTooltip","isIOS","navigator","userAgent","parent","y","x","boxWidth","maxWidth","thisBtn","screenWidth","round","commUiFnToast","toastId","links","btnEvent","opened","linkEvent","_opened","btnText","btnValue","thisItems","slideOption","foldSlide","waExpanded","waHidden","setSlide","heightVal","commUiFnFoldID","foldTarget","commUiFnFixMainButton","thisPage","group","section","thisHeight","_height","paddingBottom","commUiFnSetVH","vh","documentElement","setProperty","commUiPageTop","btnTop","commUiResultAnimation","aniItem","aniLoop","Boolean","aniAuto","_file","_loop","_auto","pathDir","location","href","lottie","loadAnimation","container","path","renderer","loop","autoplay","speed","name","loading","loadingIcon","commUiMainCopy","thisScrollWrap","mainCopy","thisScrollTop","mainCopyY","thisWrapTitle","guideMenu","folder","menus","checked","_thisId","_thisElement"],"mappings":"uvBACA,IAAMA,EAAY,CACjBC,YAAc,YACdC,UAAY,UACZC,eAAiB,IACjBC,cAAgB,4LAChBC,SAAW,CACVC,eAAgB,EAChBC,aAAc,EACdC,eAAgB,EAChBC,QAAS,EACTC,OAAQ,EACRC,SAAU,EACVC,OAAQ,GAETC,YAAc,GACdC,QAAU,CACTC,KAAOC,SAASC,cAAc,SAC9BC,KAAOF,SAASC,cAAc,WAK1BE,EAAgB,CAErBC,MAAQ,SAACC,GACRF,EAAcG,IAAID,EAAU,EAC5B,EAEDE,QAAU,SAACF,GACeA,EAASG,iBAAiBxB,EAAUI,eAC5CqB,SAAQ,SAASC,GACjCP,EAAcG,IAAII,EAAO,EAC1B,GACA,EAEDC,KAAO,SAACN,GACPF,EAAcG,IAAID,GAAW,EAC7B,EAEDO,OAAS,SAACP,GACgBA,EAASG,iBAAiBxB,EAAUI,eAC5CqB,SAAQ,SAASC,GACjCP,EAAcG,IAAII,GAAQ,EAC3B,GACA,EAEDJ,IAAM,SAACO,EAASC,GACf,GAAID,EAAQE,UAAUC,SAAS,eAC9B,OAAO,EAERH,EAAQI,aAAa,WAAYH,GACf,IAAdA,EACHD,EAAQI,aAAa,eAAe,GAEpCJ,EAAQI,aAAa,eAAe,EAEtC,GAIKC,EACC,SAACb,GACNA,EAASY,aAAa,eAAe,EACrC,EAHIC,EAIG,SAACb,GACRA,EAASY,aAAa,eAAe,EACtC,EAcKE,EAAc,CAEnBC,KAAO,WACND,EAAYE,OACZ,EAEDC,OAAS,WACR,IAAMC,EAAMvB,SAASC,cAAc,QAC7BuB,EAAYD,EAAItB,cAAc,cAChCuB,IAEHA,EAAUC,iBAAiB,SAAUN,EAAYO,cAG9BH,EAAIf,iBAAiB,gCAC7BC,SAAQ,SAASC,GAC3BA,EAAMe,iBAAiB,QAASN,EAAYQ,YAC7C,IAED,EAEDD,aAAe,SAACE,GACf,IAAML,EAAMvB,SAASC,cAAc,QAC7B4B,EAAQN,EAAItB,cAAc,SAAS6B,aACnCC,EAAUR,EAAItB,cAAc,WAAW6B,aAEvChC,EAAU8B,EAAOI,OACjBC,EAASnC,EAAQG,cAAc,aAAaiC,UAC5CC,EAAYrC,EAAQqC,UAGtBA,EAAaF,EAASJ,EAAQE,EAAU,EAC3CR,EAAIR,UAAUqB,IAAI,aAElBb,EAAIR,UAAUsB,OAAO,aAItBd,EAAIf,iBAAiB,gCAAgCC,SAAQ,SAASC,GACrE,IAAM4B,EAAa5B,EAAM6B,aAAa,QAChCC,EAASxC,SAASC,cAAcqC,GAChCG,EAAUD,EAAON,UACjBQ,EAAaD,EAAUZ,EAAQE,EAAU,EACzCY,EAAeR,EAAYZ,EAAIO,cAKjCK,EAAYO,GAELC,GAAiBF,EAAUD,EAAOV,eAD5CX,EAAYyB,aAAalC,EAI3B,GACA,EAEDkC,aAAe,SAACvC,GACf,IAAMwC,EAAUxC,EAASyC,QAAQ,gBAC3BC,EAAW1C,EAASyC,QAAQ,gBAC5BE,EAAWH,EAAS5C,cAAc,gBAGxCI,EAASyC,QAAQ,WAAWtC,iBAAiB,gBAAgBC,SAAQ,SAASC,GAC7EA,EAAMK,UAAUsB,OAAOrD,EAAUC,YAClC,IACA8D,EAAShC,UAAUqB,IAAIpD,EAAUC,aAGjC4D,EAASI,WAAaF,EAASG,WAAcH,EAASI,YAAc,EAAMH,EAASG,YAAc,CACjG,EAEDxB,YAAc,SAACC,GACdA,EAAOwB,iBAEP,IAAM7B,EAAMvB,SAASC,cAAc,QAC7BuB,EAAYD,EAAItB,cAAc,cAC9B4B,EAAQN,EAAItB,cAAc,SAAS6B,aACnCC,EAAUR,EAAItB,cAAc,WAAW6B,aAEzChC,EAAU8B,EAAOI,OACjBlC,EAAQiB,UAAUC,SAAS,SAC9BlB,EAAUA,EAAQuD,eAEnB,IAAMR,EAAW/C,EAAQgD,QAAQ,gBAC3BE,EAAWH,EAAS5C,cAAc,gBAExC+C,EAASxC,iBAAiB,gBAAgBC,SAAQ,SAASC,GAC1DA,EAAMK,UAAUsB,OAAOrD,EAAUC,YAClC,IACAa,EAAQuD,cAActC,UAAUqB,IAAIpD,EAAUC,aAE9C,IAAMqE,EAAWxD,EAAQyC,aAAa,QAClCgB,EAAYvD,SAASC,cAAcqD,GAAUpB,UAIhC,sBAAboB,IACHC,EAAY/B,EAAUM,aAAe9B,SAASC,cAAc,SAAS6B,aAAwE,EAAxD9B,SAASC,cAAc,kBAAkB6B,aAAoBD,EAAQE,GAI3JP,EAAUW,UAAS,GAAAqB,OAAMD,EAAY1B,EAAQE,GAC7Cc,EAASI,WAAanD,EAAQoD,WAAcpD,EAAQqD,YAAc,EAAMH,EAASG,YAAc,CAC/F,EAEDM,WAAa,WACZ,IAAMlC,EAAMvB,SAASC,cAAc,QACnC,GAAIsB,EAAK,CACR,IAAMmC,EAAenC,EAAIf,iBAAiBxB,EAAUI,eAC9CuE,EAAaD,EAAa,GAC1BE,EAAYF,EAAaA,EAAaG,OAAS,GAEjDD,GACHA,EAAUnC,iBAAiB,QAAQ,WAClCkC,EAAWvD,OACZ,IAEGuD,GACHA,EAAWlC,iBAAiB,QAAQ,WACnCiC,EAAa,GAAOtD,OACrB,GAEF,CACA,EAED0D,KAAO,WACN,IAAMC,EAAS/D,SAASC,cAAc,WAChCsB,EAAMwC,EAAO9D,cAAc,QAEjCsB,EAAIR,UAAUqB,IAAIpD,EAAUE,WAC5BqC,EAAIN,aAAa,eAAe,GAChCM,EAAIN,aAAa,WAAY,GAC7BM,EAAItB,cAAc,cAAckC,UAAY,EAE5C6B,YAAW,WACUD,EAAOhD,UACfqB,IAAI,YAChB2B,EAAOvD,iBAAiB,oEAAoEC,SAAQ,SAASC,GAC5GuD,EAAa3D,IAAII,GAAO,EACzB,IACAa,EAAInB,OACJ,GAAE,IAGHc,EAAqBlC,EAAUc,QAAQI,MACvCgB,EAAqB6C,EAAO9D,cAAc,cAC1CiB,EAAqB6C,EAAO9D,cAAc,kBAC1CiB,EAAqB6C,EAAO9D,cAAc,iBAC1CiB,EAAqBlB,SAASC,cAAc,UAG5CkB,EAAYG,QACZ,EAED4C,MAAQ,WACP,IAAMH,EAAS/D,SAASC,cAAc,WAChCsB,EAAMwC,EAAO9D,cAAc,QAEb8D,EAAOhD,UACfsB,OAAO,YACnBd,EAAIR,UAAUsB,OAAO,aAErBd,EAAIR,UAAUsB,OAAOrD,EAAUE,WAC/BqC,EAAIN,aAAa,eAAe,GAChCM,EAAIN,aAAa,YAAa,GAG9BC,EAAuBlC,EAAUc,QAAQI,MACzCgB,EAAuB6C,EAAO9D,cAAc,cAC5CiB,EAAuB6C,EAAO9D,cAAc,kBAC5CiB,EAAuB6C,EAAO9D,cAAc,iBAC5CiB,EAAuBlB,SAASC,cAAc,UAE9C8D,EAAO9D,cAAc,aAAaG,OAClC,EAEDiB,MAAQ,WACP,IAAM0C,EAAS/D,SAASC,cAAc,WACtC,GAAI8D,EAAQ,CAEX,IAAMI,EAAUJ,EAAO9D,cAAc,aACjCkE,GAASA,EAAQ1C,iBAAiB,QAASN,EAAY2C,MAC3D3C,EAAYsC,aAEZ,IAAMW,EAAeL,EAAO9D,cAAc,mBACtCmE,GAAcA,EAAa3C,iBAAiB,QAASN,EAAY+C,MACtE,CACD,GAEDlE,SAASyB,iBAAiB,oBAAoB,WAC7CN,EAAYC,MACb,IAGA,IAAMiD,EAAqB,CAE1BC,OAAS,GAETlD,KAAO,WACNiD,EAAmBhD,OACnB,EAEDoC,WAAa,WACZ,IAEMC,EAFS1D,SAASC,cAAc,WAChBA,cAAc,WACRO,iBAAiBxB,EAAUI,eACjDuE,EAAaD,EAAa,GACdA,EAAaA,EAAaG,OAAS,GAE3CpC,iBAAiB,QAAQ,WAClCkC,EAAWvD,OACZ,IACAuD,EAAWlC,iBAAiB,QAAQ,WACnCiC,EAAa,GAAOtD,OACrB,GACA,EAED0D,KAAO,SAAClC,GACP,IAAMmC,EAAS/D,SAASC,cAAc,WAChCsE,EAASR,EAAO9D,cAAc,WAEpCsE,EAAOxD,UAAUqB,IAAIpD,EAAUE,WAC/BqF,EAAOtD,aAAa,eAAe,GACnCsD,EAAOtD,aAAa,WAAY,GACZ8C,EAAOhD,UACfqB,IAAI,eAChBmC,EAAOnE,QAGPc,EAAqBlC,EAAUc,QAAQI,MACvCgB,EAAqB6C,EAAO9D,cAAc,cAC1CiB,EAAqB6C,EAAO9D,cAAc,kBAC1CiB,EAAqB6C,EAAO9D,cAAc,iBAC1CiB,EAAqBlB,SAASC,cAAc,UAC5CiB,EAAqBlB,SAASC,cAAc,SAGxCoE,EAAmBC,SACtBD,EAAmBC,OAAS1C,EAAOI,OAEpC,EAEDkC,MAAQ,WACP,IAAMH,EAAS/D,SAASC,cAAc,WAChCsE,EAASR,EAAO9D,cAAc,WAEpCsE,EAAOxD,UAAUsB,OAAOrD,EAAUE,WAClCqF,EAAOtD,aAAa,eAAe,GACnCsD,EAAOtD,aAAa,YAAa,GACb8C,EAAOhD,UACfsB,OAAO,eAGd0B,EAAOhD,UAAUC,SAAS,cAC9BE,EAAuBlC,EAAUc,QAAQI,MACzCgB,EAAuB6C,EAAO9D,cAAc,cAC5CiB,EAAuB6C,EAAO9D,cAAc,kBAC5CiB,EAAuB6C,EAAO9D,cAAc,iBAC5CiB,EAAuBlB,SAASC,cAAc,WAE/CiB,EAAuBlB,SAASC,cAAc,SAG9CoE,EAAmBC,OAAOlE,QAC1BiE,EAAmBC,OAAS,EAC5B,EAEDjD,MAAQ,WACP,IAAM0C,EAAS/D,SAASC,cAAc,WACtC,GAAI8D,EAAQ,CAEX,IAAMS,EAAYT,EAAO9D,cAAc,eACnCuE,IACHA,EAAU/C,iBAAiB,QAAS4C,EAAmBP,MACvDO,EAAmBZ,aAGnBM,EAAO9D,cAAc,6BAA6BwB,iBAAiB,SAAS,WAC3E+C,EAAUC,QAGVJ,EAAmBC,OAASI,IAC7B,KAID,IAAMC,EAAWZ,EAAO9D,cAAc,qBAClC0E,GAAUA,EAASlD,iBAAiB,QAAS4C,EAAmBH,MACrE,CACD,GAEDlE,SAASyB,iBAAiB,oBAAoB,WAC7C4C,EAAmBjD,MACpB,IAGA,IAAMwD,EAAc,CAEnBxD,KAAO,WACNwD,EAAYC,OACZD,EAAYE,UACZ,EAEDD,KAAO,WACU7E,SAASQ,iBAAiB,uBAClCC,SAAQ,SAASC,GAExB,GAAIA,EAAMoC,QAAQ,QAAQ/B,UAAUC,SAAS,iBAC5C,OAAO,EAGJN,EAAMK,UAAUC,SAAShC,EAAUC,cACtC2F,EAAYtE,IAAII,GAGjBA,EAAMe,iBAAiB,QAASmD,EAAYnF,OAC7C,GACA,EAEDa,IAAM,SAACD,GACN,IAAMP,EAAUO,EACV0E,EAAUjF,EAAQgD,QAAQ,QAG5BkC,GAAW,EACXD,EAAQvE,iBAAiB,QAAQqD,SACpCmB,GAAW,GAIRlF,EAAQgD,QAAQ,iBACnBhD,EAAQgD,QAAQ,eAAeG,WAAanD,EAAQoD,WAAcpD,EAAQqD,YAAc,EAAM4B,EAAQ5B,YAAc,GAIrH4B,EAAQvE,iBAAiB,uBAAuBC,SAAQ,SAASwE,GAE5DD,IACEC,EAAMnC,QAAQ,QAAQtC,iBAAiB,QAAQqD,SAKjDoB,EAAMlE,UAAUC,SAAShC,EAAUC,aACtC2F,EAAYM,QAAQD,GAAO,GAE3BL,EAAYM,QAAQD,GAAO,GAE7B,IAEAF,EAAQvE,iBAAiB,uBAAuBC,SAAQ,SAASwE,GAE5DD,IACEC,EAAMnC,QAAQ,QAAQtC,iBAAiB,QAAQqD,SAIjDoB,EAAMlE,UAAUC,SAAShC,EAAUC,cACtC2F,EAAYO,WAAWF,GAAO,GAG1BA,EAAMzE,iBAAiB,SAC1ByE,EAAMzE,iBAAiB,QAAQC,SAAQ,SAAS2E,GAE/CA,EAAO5E,iBAAiB,uBAAuBC,SAAQ,SAAS4E,GAC3DA,EAAOtE,UAAUC,SAAShC,EAAUC,aACvC2F,EAAYM,QAAQG,GAAQ,GAE5BT,EAAYM,QAAQG,GAAQ,EAE9B,IAEAD,EAAO5E,iBAAiB,uBAAuBC,SAAQ,SAAS4E,GAC3DA,EAAOtE,UAAUC,SAAShC,EAAUC,aACvC2F,EAAYO,WAAWE,GAAQ,GAE/BT,EAAYO,WAAWE,GAAQ,EAEjC,GACD,MAGDT,EAAYO,WAAWF,GAAO,GAG1BA,EAAMzE,iBAAiB,SAC1ByE,EAAMzE,iBAAiB,QAAQC,SAAQ,SAAS2E,GAE/CA,EAAO5E,iBAAiB,uBAAuBC,SAAQ,SAAS4E,GAC/DT,EAAYM,QAAQG,GAAQ,EAC7B,IAEAD,EAAO5E,iBAAiB,uBAAuBC,SAAQ,SAAS4E,GAC/DT,EAAYO,WAAWE,GAAQ,EAChC,GACD,KAGH,GACA,EAED5F,OAAS,SAACmC,GACT,IAAM9B,EAAW8B,EAAOI,OAAOc,QAAQ,aACjCiC,EAAUjF,EAAQgD,QAAQ,QAC1BwC,EAAWP,EAAQ9E,cAAauD,IAAAA,OAAK1D,EAAQyC,aAAa,mBAG5DyC,GAAW,EACXD,EAAQvE,iBAAiB,QAAQqD,SACpCmB,GAAW,GAIRlF,EAAQgD,QAAQ,iBACnBhD,EAAQgD,QAAQ,eAAeG,WAAanD,EAAQoD,WAAcpD,EAAQqD,YAAc,EAAM4B,EAAQ5B,YAAc,GAIrH4B,EAAQvE,iBAAiB,uBAAuBC,SAAQ,SAASwE,GAE5DD,IACEC,EAAMnC,QAAQ,QAAQtC,iBAAiB,QAAQqD,QAIrDe,EAAYM,QAAQD,GAAO,EAC5B,IAEAF,EAAQvE,iBAAiB,uBAAuBC,SAAQ,SAASwE,GAE5DD,IACEC,EAAMnC,QAAQ,QAAQtC,iBAAiB,QAAQqD,SAIrDe,EAAYO,WAAWF,GAAO,GAG1BA,EAAMzE,iBAAiB,SAC1ByE,EAAMzE,iBAAiB,QAAQC,SAAQ,SAAS2E,GAE/CA,EAAO5E,iBAAiB,uBAAuBC,SAAQ,SAAS4E,GAC/DT,EAAYM,QAAQG,GAAQ,EAC7B,IAEAD,EAAO5E,iBAAiB,uBAAuBC,SAAQ,SAAS4E,GAC/DT,EAAYO,WAAWE,GAAQ,EAChC,GACD,IAEF,IAGAT,EAAYM,QAAQpF,GAAS,GAG7B8E,EAAYO,WAAWG,GAAU,GAG7BN,GACCM,EAAS9E,iBAAiB,QAAQqD,SACrCe,EAAYM,QAAQI,EAASrF,cAAc,2CAA2C,GACtF2E,EAAYO,WAAWG,EAASrF,cAAc,2CAA2C,GAG3F,EAEDiF,QAAU,SAAC7E,EAAUkF,GAChBA,GAEHlF,EAASU,UAAUqB,IAAIpD,EAAUC,aACjCoB,EAASY,aAAa,iBAAiB,GACvCZ,EAASJ,cAAc,KAAKgB,aAAa,WAAY,KAGrDZ,EAASU,UAAUsB,OAAOrD,EAAUC,aACpCoB,EAASY,aAAa,iBAAiB,GACvCZ,EAASJ,cAAc,KAAKgB,aAAa,YAAa,GAEvD,EAEDkE,WAAa,SAAC9E,EAAUkF,GACnBA,GAEHlF,EAASU,UAAUqB,IAAIpD,EAAUC,aACjCoB,EAASY,aAAa,eAAe,GACrCZ,EAASY,aAAa,WAAY,KAGlCZ,EAASU,UAAUsB,OAAOrD,EAAUC,aACpCoB,EAASY,aAAa,eAAe,GACrCZ,EAASY,aAAa,YAAa,GAEpC,EAED6D,SAAW,WACM9E,SAASQ,iBAAiB,aAClCC,SAAQ,SAASC,GAExB,GAAIA,EAAMoC,QAAQ,QAAQ/B,UAAUC,SAAS,iBAC5C,OAAO,EAER,IAAMwE,EAAU9E,EAAMF,iBAAiB,aACvCgF,EAAQ/E,SAAQ,SAASJ,EAAUoF,GAClCpF,EAASoB,iBAAiB,WAAW,SAASG,GAEtB,KAAnBA,EAAO8D,SAAqC,KAAnB9D,EAAO8D,UACnC9D,EAAOwB,iBACP/C,EAASoE,SAIa,KAAnB7C,EAAO8D,UACV9D,EAAOwB,iBACQ,IAAXqC,EACHD,EAAQA,EAAQ3B,OAAS,GAAG5D,cAAc,KAAKG,QAE/CoF,EAAQC,EAAS,GAAGxF,cAAc,KAAKG,SAKlB,KAAnBwB,EAAO8D,UACV9D,EAAOwB,iBACHqC,IAAWD,EAAQ3B,OAAS,EAC/B2B,EAAQ,GAAGvF,cAAc,KAAKG,QAE9BoF,EAAQC,EAAS,GAAGxF,cAAc,KAAKG,QAG1C,GACD,GACD,GACD,GAEDJ,SAASyB,iBAAiB,oBAAoB,WAC7CmD,EAAYxD,MACb,IAGA,IAAMuE,EAAgB,CAErBvE,KAAO,WACNuE,EAAcC,SACdD,EAAcE,QACd,EAEDA,OAAS,WACU7F,SAASQ,iBAAiB,eAClCC,SAAQ,SAASC,GAC1B,GAAIA,EAAMoF,UAAYpF,EAAMqF,SAC3B,OAAO,EAGRrF,EAAMe,iBAAiB,SAAS,WAEZ,KAAfiD,KAAKsB,OACRtB,KAAK3D,UAAUsB,OAAOrD,EAAUC,aAChCD,EAAUK,SAASC,eAAgB,IAEnCoF,KAAK3D,UAAUqB,IAAIpD,EAAUC,aAC7BD,EAAUK,SAASC,eAAgB,EAGjB2G,EAAeC,MAAMxB,OACxBuB,EAAenC,KAAKY,OAGnByB,EAAcD,MAAMxB,OACvByB,EAAcN,OAAOnB,KACpC,IAGAhE,EAAMe,iBAAiB,SAAS,YAE/BwE,EAAeG,WAGfT,EAAcU,kBACK,KAAf3B,KAAKsB,SACRtB,KAAK3D,UAAUqB,IAAIpD,EAAUC,aAC7BD,EAAUK,SAASC,eAAgB,EAGjB2G,EAAeC,MAAMxB,OACxBuB,EAAenC,KAAKY,OAIhCA,KAAK5B,QAAQ,kBAAkB4B,KAAK5B,QAAQ,iBAAiB/B,UAAUqB,IAAI,iBAC3EsC,KAAK5B,QAAQ,iBAAiB4B,KAAK5B,QAAQ,gBAAgB/B,UAAUqB,IAAI,gBAC9E,IAGA1B,EAAMe,iBAAiB,QAAQ,WAE1BiD,KAAK5B,QAAQ,kBAAkB4B,KAAK5B,QAAQ,iBAAiB/B,UAAUsB,OAAO,iBAC9EqC,KAAK5B,QAAQ,iBAAiB4B,KAAK5B,QAAQ,gBAAgB/B,UAAUsB,OAAO,gBACjF,GACD,GACA,EAEDuD,OAAS,WACU5F,SAASQ,iBAAiB,eAClCC,SAAQ,SAASC,GAE1B,IAAKA,EAAMqF,WAAarF,EAAMoF,WAAapF,EAAMoF,UAAW,CAE3D,IAAMQ,EAAY5F,EAAMoC,QAAQ,UAC1ByD,EAAYvG,SAASwG,cAAc,UACzCD,EAAUtF,aAAa,OAAQ,UAC/BsF,EAAUtF,aAAa,QAAS,aAChCqF,EAAUG,OAAOF,GAGjB,IAAMG,EAAWJ,EAAUrG,cAAc,cACnC0G,EAAa3G,SAASwG,cAAc,QAC1CG,EAAW1F,aAAa,QAAS,WACjCyF,EAASD,OAAOE,GAChBD,EAASzG,cAAc,YAAY2G,UAAY,UAChD,CACD,IACAjB,EAAckB,cACd,EAEDA,aAAe,WACM7G,SAASQ,iBAAiB,qBAClCC,SAAQ,SAASC,GAC5BA,EAAMe,iBAAiB,SAAS,WAC/B,IAAMqF,EAAkBpC,KAAK5B,QAAQ,UAAU7C,cAAc,eAG3CgG,EAAeC,MAAMxB,OACxBuB,EAAeG,WAG9BU,EAAgBd,MAAQ,GACxBc,EAAgB1G,QAEhBpB,EAAUK,SAASC,eAAgB,EACnCwH,EAAgB/F,UAAUsB,OAAOrD,EAAUC,YAC5C,GACD,GACA,EAEDoH,gBAAkB,WACCrG,SAASQ,iBAAiB,eAClCC,SAAQ,SAASC,GAC1B1B,EAAUK,SAASC,eAAgB,EACnCoB,EAAMK,UAAUsB,OAAOrD,EAAUC,YAClC,GACD,GAEDe,SAASyB,iBAAiB,oBAAoB,WAC7CkE,EAAcvE,MACf,IAGA,IAAM6E,EAAiB,CAEtBC,MAAQ,SAAC7F,GACR,IAAI0G,GAAU,EAEd,OADI1G,EAASyC,QAAQ,UAAU/B,UAAUC,SAAS,kBAAoBX,EAASyC,QAAQ,UAAU7C,cAAc,YAAW8G,GAAU,GAC7HA,CACP,EAEDjD,KAAO,SAACzD,GACP,IAAM2G,EAAa3G,EAASyC,QAAQ,UACpCkE,EAAW/G,cAAc,UAAUgB,aAAa,eAAe,GAC3DZ,EAAS4G,wBAAwBC,IAAOC,OAAOC,YAAc,EAChEJ,EAAW/G,cAAc,UAAUc,UAAUqB,IAAI,WAEjD4E,EAAW/G,cAAc,UAAUc,UAAUqB,IAAI,aAI7B4E,EAAWxG,iBAAiB,yBACpCC,SAAQ,SAASwE,GAC7BA,EAAMxD,iBAAiB,QAASwE,EAAexG,OAChD,IAGAwG,EAAenB,SAASzE,GAGxBrB,EAAUK,SAASE,aAAc,CACjC,EAEDE,OAAS,SAACmC,GACT,IAAM9B,EAAU8B,EAAOI,OACvBlC,EAAQgD,QAAQ,wBAAwB7C,cAAc,eAAeG,QACrEN,EAAQgD,QAAQ,wBAAwB7C,cAAc,eAAe+F,MAAQlG,EAAQuH,MAAQvH,EAAQgD,QAAQ,kBAAkBuE,KAC/HpB,EAAeG,UACf,EAEDA,SAAW,WACWpG,SAASQ,iBAAiB,+BAClCC,SAAQ,SAASC,GAC7BA,EAAMO,aAAa,eAAe,GAClCP,EAAMK,UAAUsB,OAAO,UAAW,YACnC,IAGArD,EAAUK,SAASE,aAAc,CACjC,EAEDuF,SAAW,SAACzE,GACXA,EAASoB,iBAAiB,UAAWwE,EAAeqB,gBAE/BjH,EAASyC,QAAQ,UAAUtC,iBAAiB,qBACpDC,SAAQ,SAASJ,EAAUoF,GACvCpF,EAASoB,iBAAiB,UAAWwE,EAAesB,aACrD,GACA,EAEDD,eAAiB,SAAC1F,GACjB,IAAM9B,EAAU8B,EAAOI,OACjB0D,EAAU9D,EAAO8D,QACjB8B,EAAe1H,EAAQgD,QAAQ,UAAUtC,iBAAiB,qBAEhE,GAAgB,KAAZkF,GAA8B,KAAZA,EAAgB,CAErC,GADA9D,EAAOwB,kBACFtD,EAAQgD,QAAQ,UAAU7C,cAAc,UAAUc,UAAUC,SAAS,eAAiBlB,EAAQgD,QAAQ,UAAU7C,cAAc,UAAUc,UAAUC,SAAS,WAC/J,OAAO,EAERwG,EAAa,GAAGvH,cAAc,KAAKG,OACpC,CAEgB,KAAZsF,GACHO,EAAeG,UAEhB,EAEDmB,aAAe,SAAC3F,GACf,IAAM9B,EAAU8B,EAAOI,OACjB0D,EAAU9D,EAAO8D,QACjB8B,EAAe1H,EAAQgD,QAAQ,UAAUtC,iBAAiB,qBAC1DiH,EAAYC,EAAI9F,EAAOI,OAAOc,QAAQ,UAAUtC,iBAAiB,sBAAsBmH,QAAQ/F,EAAOI,OAAOqB,eAGnG,KAAZqC,GAA8B,KAAZA,IACrB9D,EAAOwB,iBACPtD,EAAQ2E,SAGO,KAAZiB,IACH9D,EAAOwB,iBACHqE,IAAcD,EAAa3D,OAAS,EACvC2D,EAAa,GAAGvH,cAAc,KAAKG,QAEnCoH,EAAaC,EAAY,GAAGxH,cAAc,KAAKG,SAIjC,KAAZsF,IACH9D,EAAOwB,iBACW,IAAdqE,EACHD,EAAaA,EAAa3D,OAAS,GAAG5D,cAAc,KAAKG,QAEzDoH,EAAaC,EAAY,GAAGxH,cAAc,KAAKG,SAIjC,KAAZsF,GACHO,EAAeG,UAEjB,GAIKD,EAAgB,CAErBD,MAAQ,SAAC7F,GACR,IAAI0G,GAAU,EAEd,OADI1G,EAASyC,QAAQ,UAAU/B,UAAUC,SAAS,kBAAiB+F,GAAU,GACtEA,CACP,EAEDlB,OAAS,SAACxF,GACT,IAAMuH,EAAe,IAAIC,OAAO,6BAC1BC,EAAY,IAAID,OAAO,iBACvBE,EAAW,IAAIF,OAAO,KAEtBnH,EAAQL,EAERmH,EADa9G,EAAMoC,QAAQ,UACDtC,iBAAiB,qBAEjDE,EAAMsF,MAAStF,EAAMsF,MAAOgC,MAAM,KAAKC,KAAK,IAC5C,IAAMC,EAAYxH,EAAMsF,MAGxB,GAAI4B,EAAaO,KAAKzH,EAAMsF,QAAU8B,EAAUK,KAAKzH,EAAMsF,OAC1DtF,EAAMsF,MAAQtF,EAAMsF,MAAMoC,UAAU,EAAG1H,EAAMsF,MAAMnC,OAAS,QAK7D,GAAIkE,EAASI,KAAKzH,EAAMsF,OAAQ,CAE/B,GAAItF,EAAMsF,MAAMgC,MAAM,KAAKnE,OAAS,EAAI,EAEvC,YADAnD,EAAMsF,MAAQtF,EAAMsF,MAAMoC,UAAU,EAAG1H,EAAMsF,MAAMnC,OAAS,IAK7D,GAAInD,EAAMsF,MAAMnC,OAAS,EAExB,YADAnD,EAAMsF,MAAQtF,EAAMsF,MAAMoC,UAAU,EAAG1H,EAAMsF,MAAMnC,OAAS,IAK7D,IAAMwE,EAAa3H,EAAMsF,MAAMoC,UAAU1H,EAAMsF,MAAM2B,QAAQ,KAAO,EAAGjH,EAAMsF,MAAMnC,QAC/EyE,EAAYd,EAAa3D,OAE7B2D,EAAa/G,SAAQ,SAASwE,GAC7B,IAAMsD,EAAWtD,EAAMhF,cAAc,MAGC,IAFrBsI,EAAS3B,UAAUwB,UAAUG,EAAS3B,UAAUe,QAAQ,KAAO,EAAGY,EAAS3B,UAAU/C,QAEzF8D,QAAQU,IACpBC,IACArD,EAAMlE,UAAUqB,IAAI,YAEpB6C,EAAMlE,UAAUsB,OAAO,UAEzB,IAGkB,IAAdiG,GACHrC,EAAeG,UAIjB,MAECoB,EAAa/G,SAAQ,SAASwE,GAC7B,IAAMsD,EAAWtD,EAAMhF,cAAc,KACjCuI,EAAWD,EAAS3B,UAAUwB,UAAUG,EAAS3B,UAAUe,QAAQ,KAAMY,EAAS3B,UAAU/C,QAChG0E,EAAS3B,UAAY,OAASsB,EAAY,QAAUM,CACrD,GAEF,GAIKC,EAAmB,CAExBC,KAAO,CACNpE,OAAS,GACTqE,QAAU,iBACVC,QAAU,kBAGXxH,KAAO,WAEN,IAAM1B,EAAQM,SAASC,cAAcwI,EAAiBC,KAAKC,SACvDjJ,IACHS,EAAcS,OAAOlB,GACrB+I,EAAiBI,SACjBJ,EAAiBhJ,SACjBgJ,EAAiBK,cACjBL,EAAiBM,WACjBN,EAAiB3D,WAElB,EAEDhB,KAAO,SAACzD,GAEP,IAAMX,EAAQM,SAASC,cAAcwI,EAAiBC,KAAKC,SAC3D3J,EAAUa,cACVH,EAAMsJ,MAAMC,OAASjK,EAAUa,YAC/BH,EAAMqB,UAAUqB,IAAIpD,EAAUE,WAG9BmB,EAASY,aAAa,iBAAiB,GACvCvB,EAAMuB,aAAa,eAAe,GAGlCd,EAAcI,QAAQb,GACtBwB,EAAqBlC,EAAUc,QAAQC,MAEpBL,EAAMc,iBAAiB,gBAC/BC,SAAQ,SAASC,GAC3BA,EAAMO,aAAa,YAAa,EACjC,IAGAwH,EAAiBC,KAAKpE,OAASjE,EAG/BrB,EAAUK,SAASG,eAAgB,EAGnC,IAAM0J,EAAa7I,EAASkC,aAAa,eAAiBlC,EAASkC,aAAa,SAC1E4G,EAAU9I,EAASkC,aAAa,mBAChC6G,EAAepJ,SAASC,kBAAauD,OAAK2F,IAC1CE,EAAaD,EAAeA,EAAaxC,UAAY,KACrD0C,EAAYJ,GAAcG,GAAc,UAC9C3J,EAAMO,cAAauD,GAAAA,OAAIiF,EAAiBC,KAAKE,QAAgB,YAAEhC,UAAY0C,EAG3E,IAAMC,EAAY7J,EAAMO,cAAc,kBAClCsJ,EAAUtJ,cAAc,eAC3BsJ,EAAUtJ,cAAc,cAAcG,QAEnCmJ,EAAUtJ,cAAc,eAC3BsJ,EAAUtJ,cAAc,cAAcG,OAEvC,EAEDyI,OAAS,WACY7I,SAASQ,iBAAiB,oCAClCC,SAAQ,SAASC,GAC5BA,EAAMe,iBAAiB,SAAS,WACZiD,KAAK5B,QAAQ,UAEhB7C,cAAc,eAAe8F,UAC5C0C,EAAiB3E,KAAKY,KAExB,GACD,GACA,EAEDqE,SAAW,WACI/I,SAASC,cAAcwI,EAAiBC,KAAKC,SACjC1I,cAAc,oBAC5BwB,iBAAiB,QAASgH,EAAiBvE,MACvD,EAEDzE,OAAS,WACR,IAAMC,EAAQM,SAASC,cAAcwI,EAAiBC,KAAKC,SACpCjJ,EAAMc,iBAAiB,6BAC/BC,SAAQ,SAASC,GAC/BA,EAAMe,iBAAiB,SAAS,WAQ/B,IAAI+H,EAAUC,EAAWC,EANzBhF,KAAK5B,QAAQ,cAActC,iBAAiB,QAAQC,SAAQ,SAASwE,GACpEA,EAAMlE,UAAUsB,OAAOrD,EAAUC,YAClC,IACAyF,KAAK3D,UAAUqB,IAAIpD,EAAUC,aAI7B,IAAM0K,EAAOjK,EAAMO,cAAc,kCACjCuJ,EAAWG,EAAK1J,cAAc,YAAY+F,MAC1CyD,EAAYE,EAAK1J,cAAc,aAAa+F,MAExCtB,KAAK3D,UAAUC,SAAS,UACD,IAAtB4I,OAAOH,IACVD,IACAC,EAAY,IAEZA,KAGE/E,KAAK3D,UAAUC,SAAS,UACD,KAAtB4I,OAAOH,IACVD,IACAC,EAAY,GAEZA,KAGFA,GAAaA,EAAY,IAAII,SAAS,EAAG,KACzCH,EAAWhF,KAAKkC,UAAWiD,SAAS,EAAG,KAElBpB,EAAiBC,KAAKpE,OAAOxB,QAAQ,sBAC7C7C,cAAc,eAAe+F,MAAKxC,GAAAA,OAAMgG,EAAQ,KAAAhG,OAAIiG,OAASjG,OAAIkG,GAC9EjB,EAAiBvE,OAClB,GACD,GACA,EAED4E,YAAc,WACb,IAAMpJ,EAAQM,SAASC,cAAcwI,EAAiBC,KAAKC,SACpCjJ,EAAMc,iBAAiB,iCAC/BC,SAAQ,SAASC,GAC/BA,EAAMe,iBAAiB,SAAS,WAQ/B,IAAI+H,EAAUC,EANd/E,KAAK5B,QAAQ,gBAAgBtC,iBAAiB,UAAUC,SAAQ,SAASwE,GACxEA,EAAMlE,UAAUsB,OAAOrD,EAAUC,YAClC,IACAyF,KAAK3D,UAAUqB,IAAIpD,EAAUC,aAK7BuK,EADa9J,EAAMO,cAAc,kCACjBA,cAAc,SAAS2G,UACvC6C,EAAa/E,KAAKzE,cAAc,MAAM2G,UAAWiD,SAAS,EAAG,KAExCpB,EAAiBC,KAAKpE,OAAOxB,QAAQ,sBAC7C7C,cAAc,eAAe+F,MAAKxC,GAAAA,OAAMgG,EAAQ,KAAAhG,OAAIiG,GACjEhB,EAAiBvE,OAClB,GACD,GACA,EAEDA,MAAQ,WACPlF,EAAUa,cAEV,IAAMH,EAAQM,SAASC,cAAcwI,EAAiBC,KAAKC,SAC3DjJ,EAAMuB,aAAa,eAAe,GAClCvB,EAAMqB,UAAUsB,OAAOrD,EAAUE,WAGjCiB,EAAcS,OAAOlB,GACrBwB,EAAuBlC,EAAUc,QAAQC,MAGzCf,EAAUK,SAASG,eAAgB,EAGnCiJ,EAAiBC,KAAKpE,OAAOlE,QAC7BqI,EAAiBC,KAAKpE,OAAS,EAC/B,EAEDQ,SAAW,WACV,IAAMpF,EAAQM,SAASC,cAAcwI,EAAiBC,KAAKC,SAG3DjJ,EAAM+B,iBAAiB,WAAW,SAASG,GACnB,KAAnBA,EAAO8D,SAAgB+C,EAAiBvE,OAC7C,IAGA,IAAMR,EAAehE,EAAMc,iBAAiBxB,EAAUI,eAChDuE,EAAaD,EAAa,GAC1BE,EAAYF,EAAaA,EAAaG,OAAS,GAGrDF,EAAWlC,iBAAiB,WAAW,SAASG,GACxB,IAAnBA,EAAO8D,SAAiB9D,EAAOkI,UAAYlI,EAAOI,SAAW2B,IAChE/B,EAAOwB,iBACPQ,EAAUxD,QAEZ,IAEAwD,EAAUnC,iBAAiB,WAAW,SAASG,GACvB,IAAnBA,EAAO8D,SAAkB9D,EAAOkI,UAAYlI,EAAOI,SAAW4B,IACjEhC,EAAOwB,iBACPO,EAAWvD,QAEb,GACD,GAEDJ,SAASyB,iBAAiB,oBAAoB,WAC7CgH,EAAiBrH,MAClB,IAGA,IAAM2I,EAAsB,CAE3BrB,KAAO,CACNpE,OAAS,GACTqE,QAAU,eACVC,QAAU,gBAGXxH,KAAO,WACN2I,EAAoBnE,QACpB,EAEDA,OAAS,WACR,IAAMoE,EAAahK,SAASQ,iBAAiB,0BACzCwJ,EAAWnG,SAEdkG,EAAoBE,cAGpBF,EAAoBG,aAAaF,GAElC,EAEDC,YAAc,WACIjK,SAASC,cAAc,UAAUkK,mBAAmB,89BAyBrE,IAAMzK,EAAQM,SAASC,cAAc8J,EAAoBrB,KAAKC,SAC9DxI,EAAcS,OAAOlB,GAGDA,EAAMO,cAAc,oBAC5BwB,iBAAiB,QAASsI,EAAoB7F,MAC1D,EAEDgG,aAAe,SAACE,GACfA,EAAU3J,SAAQ,SAASC,GAE1B,IAAM2J,EAAa3J,EAAMoC,QAAQ,WAC3BwH,EAAa5J,EAAMF,iBAAiB,UAGpC+J,EAAS7J,EAAM6B,aAAa,MAC5B2G,EAAaxI,EAAM6B,aAAa,eAAiB7B,EAAM6B,aAAa,SACpE4G,EAAUzI,EAAM6B,aAAa,mBAC7B6G,EAAepJ,SAASC,kBAAauD,OAAK2F,IAC1CE,EAAaD,EAAeA,EAAaxC,UAAY,KACrD0C,EAAYJ,GAAcG,GAAc,UAGxC9C,EAAYvG,SAASwG,cAAc,UACzCD,EAAUtF,aAAa,OAAQ,UAE3BP,EAAMK,UAAUC,SAAS,gBAC5BuF,EAAUtF,aAAa,QAAS,6BAChCsF,EAAUtF,aAAa,YAAa,IAEpCsF,EAAUtF,aAAa,QAAS,iBAE7BP,EAAMqF,UACTQ,EAAUtF,aAAa,WAAY,IAIpCsF,EAAUtF,aAAa,OAAQ,YAC/BsF,EAAUtF,aAAa,mBAAeuC,OAAK+G,EAAM,WAC7CrB,EACH3C,EAAUtF,aAAa,aAAciI,GAC3BG,EACV9C,EAAUtF,aAAa,kBAAmBkI,GAE1C5C,EAAUtF,aAAa,aAAc,IAEtCsF,EAAUtF,aAAa,gBAAiB,SACxCsF,EAAUtF,aAAa,gBAAiB,WAGxCoJ,EAAW5D,OAAOF,GAGlB,IAAIiE,EAAc,GACZC,EAAgBzK,SAASwG,cAAc,QACzC8D,EAAWzG,OAEdyG,EAAW7J,SAAQ,SAASiK,EAASjF,IACX,IAArBiF,EAAQC,WACXH,EAAcE,EAAQ9D,WACG,IAArB8D,EAAQ3E,UACX0E,EAAcxJ,aAAa,QAAS,kBAGvC,IAGAuJ,EAAclB,EAIfe,EAAWpK,cAAc,kBAAkBwG,OAAOgE,GAClDJ,EAAWpK,cAAc,yBAAyB2G,UAAY4D,EAG9DT,EAAoBa,kBAAkBrE,EACvC,GACA,EAEDqE,kBAAoB,SAACvK,GACfA,EAASU,UAAUC,SAAS,gBAAmBX,EAAS0F,UAC5D1F,EAASoB,iBAAiB,SAAS,WAClCsI,EAAoBjG,KAAKY,KAC1B,GAED,EAEDmG,aAAe,SAACxK,GACf,IAAMyK,EAAWzK,EAASyC,QAAQ,WAAW7C,cAAc,gBACrDqK,EAAaQ,EAAStK,iBAAiB,UAEvC0I,EAAa4B,EAASvI,aAAa,eAAiBuI,EAASvI,aAAa,SAC1E4G,EAAU2B,EAASvI,aAAa,mBAChC6G,EAAepJ,SAASC,kBAAauD,OAAK2F,IAC1CE,EAAaD,EAAeA,EAAaxC,UAAY,KACrD0C,EAAYJ,GAAcG,GAAc,UAExC3J,EAAQM,SAASC,cAAc8J,EAAoBrB,KAAKC,SAG9DjJ,EAAMO,cAAauD,GAAAA,OAAIuG,EAAoBrB,KAAKE,QAAgB,YAAEhC,UAAY0C,EAG9E,IAAMyB,EAAUrL,EAAMO,cAAc,YACpC8K,EAAQ9J,aAAa,QAAIuC,OAAKsH,EAASvI,aAAa,iBACpDwI,EAAQnE,UAAY,GAEhB0D,EAAWzG,QAEdyG,EAAW7J,SAAQ,SAASiK,EAASjF,GACpC,IAAMuF,EAAgBhL,SAASwG,cAAc,MACzCyE,EAAqB,OACrBC,GAAkB,EAClBC,EAAc,GAEO,IAArBT,EAAQC,WACXM,UAAYzH,OAAWxE,EAAUC,aACjCiM,GAAkB,IAEM,IAArBR,EAAQ3E,WACXkF,EAAoC,sBACpCE,GAAe,EACfH,EAAc/J,aAAa,cAAe,SAE3C+J,EAAc/J,aAAa,QAASgK,GACpCD,EAAc/J,aAAa,OAAQ,UACnC+J,EAAc/J,aAAa,gBAAiBiK,GAC5CF,EAAc/J,aAAa,WAAYkK,GACvCJ,EAAQtE,OAAOuE,GACfD,EAAQK,SAAS3F,GAAQmB,UAAY8D,EAAQ9D,SAC9C,GAED,EAED9C,KAAO,SAACzD,GAEP0J,EAAoBc,aAAaxK,GAGjC,IAAMX,EAAQM,SAASC,cAAc8J,EAAoBrB,KAAKC,SAC9D3J,EAAUa,cACVH,EAAMsJ,MAAMC,OAASjK,EAAUa,YAC/BH,EAAMqB,UAAUqB,IAAIpD,EAAUE,WAG9BmB,EAASY,aAAa,iBAAiB,GACvCvB,EAAMuB,aAAa,eAAe,GAGlCd,EAAcI,QAAQb,GACtBwB,EAAqBlC,EAAUc,QAAQC,MAGvCgK,EAAoBrB,KAAKpE,OAASjE,EAGlCrB,EAAUK,SAASI,QAAS,EAGZC,EAAMO,cAAc,YACfO,iBAAiB,SACjCC,SAAQ,SAASC,EAAO+E,GAE5B/E,EAAMe,iBAAiB,QAASsI,EAAoBtK,OACrD,IAGAC,EAAMO,cAAc,4BAA4BG,QAGhD2J,EAAoBjF,UACpB,EAEDZ,MAAQ,WACPlF,EAAUa,cAEV,IAAMH,EAAQM,SAASC,cAAc8J,EAAoBrB,KAAKC,SAC9DjJ,EAAMuB,aAAa,eAAe,GAClCvB,EAAMqB,UAAUsB,OAAOrD,EAAUE,WAGjCiB,EAAcS,OAAOlB,GACrBwB,EAAuBlC,EAAUc,QAAQC,MAGzCf,EAAUK,SAASI,QAAS,EAG5BsK,EAAoBrB,KAAKpE,OAAOlE,QAChC2J,EAAoBrB,KAAKpE,OAAS,EAClC,EAED7E,OAAS,SAACmC,GACT,IAAM9B,EAAU8B,EAAOI,OACjBqJ,EAAatB,EAAoBrB,KAAKpE,OAAOxB,QAAQ,WAGrD2E,EAAYC,EAAI5H,EAAQuD,cAAc+H,UAAUzD,QAAQ7H,GAC3CuL,EAAWpL,cAAc,gBACjCmL,SAAS3D,GAAWkD,UAAW,EAG1C,IAAMW,EAAeD,EAAWpL,cAAc,kBAC9CqL,EAAarK,aAAa,iBAAiB,GAC3CqK,EAAarL,cAAc,QAAQc,UAAUsB,OAAO,kBACpDiJ,EAAarL,cAAc,QAAQ2G,UAAY9G,EAAQ8G,UAGvDmD,EAAoB7F,OACpB,EAEDY,SAAW,WACV,IAAMpF,EAAQM,SAASC,cAAc8J,EAAoBrB,KAAKC,SAG9DjJ,EAAM+B,iBAAiB,UAAWsI,EAAoBwB,YAGzC7L,EAAMc,iBAAiB,oBAC/BC,SAAQ,SAASJ,EAAUoF,GAC/BpF,EAASoB,iBAAiB,UAAWsI,EAAoBxC,aAC1D,GACA,EAEDgE,WAAa,SAAC3J,GACb,IAAM9B,EAAU8B,EAAOI,OACjB0D,EAAU9D,EAAO8D,QACjBoE,EAAWlI,EAAOkI,SAGlB0B,EAFQxL,SAASC,cAAc8J,EAAoBrB,KAAKC,SACxC1I,cAAc,YACfO,iBAAiB,SAGlCiL,EAAa,EACjBD,EAAK/K,SAAQ,SAASC,GACjBA,EAAMK,UAAUC,SAAS,oBAAmByK,EAAa,EAC9D,IAEgB,KAAZ/F,GAAmB5F,EAAQiB,UAAUC,SAAS,UACjDY,EAAOwB,iBACPoI,EAAKC,GAAYrL,SAEF,KAAZsF,GAAmB5F,EAAQiB,UAAUC,SAAS,UACjDY,EAAOwB,iBACPoI,EAAKA,EAAK3H,OAAS,GAAGzD,SAIP,KAAZsF,GAAgBqE,EAAoB7F,SAGtB,IAAZwB,IAAkBoE,GAA0B,IAAZpE,GAAiBoE,IAAchK,EAAQiB,UAAUC,SAAS,oBAAoBY,EAAOwB,gBAC3H,EAEDmE,aAAe,SAAC3F,GACf,IAAM9B,EAAU8B,EAAOI,OACjB0D,EAAU9D,EAAO8D,QACjBhG,EAAQM,SAASC,cAAc8J,EAAoBrB,KAAKC,SAExD6C,EADU9L,EAAMO,cAAc,YACfO,iBAAiB,SAGlCiL,EAAa,EACjBD,EAAK/K,SAAQ,SAASC,GACjBA,EAAMK,UAAUC,SAAS,oBAAmByK,EAAa,EAC9D,IAGA,IAAMhE,EAAYC,EAAI8D,GAAM7D,QAAQ/F,EAAOI,QAG3B,KAAZ0D,GAA8B,KAAZA,IACrB9D,EAAOwB,iBACPtD,EAAQ2E,SAIO,KAAZiB,IACH9D,EAAOwB,iBACHqE,IAAc+D,EAAK3H,OAAS,EAC/B2H,EAAKC,GAAYrL,QAEjBoL,EAAK/D,EAAY,GAAGrH,SAGN,KAAZsF,IACH9D,EAAOwB,iBACHqE,IAAcgE,EACjBD,EAAKA,EAAK3H,OAAS,GAAGzD,QAEtBoL,EAAK/D,EAAY,GAAGrH,UAKL,IAAZsF,GAAiB9D,EAAOkI,UAA0B,IAAZpE,IAAkB9D,EAAOkI,YACnElI,EAAOwB,iBACP1D,EAAMO,cAAc,oBAAoBG,QAE1C,GAED2J,EAAoB3I,OAGpB,IAAMsK,EAAuB,CAE5BhD,KAAO,CACNpE,OAAS,IAGVlD,KAAO,WAEYpB,SAASQ,iBAAiB,kBAClCC,SAAQ,SAASC,GAC1BA,EAAMe,iBAAiB,QAASiK,EAAqB5H,KACtD,IAGmB9D,SAASQ,iBAAiB,mBAClCC,SAAQ,SAASC,GACRA,EAAMF,iBAAiB,mBAC/BC,SAAQ,SAASC,GAC3BA,EAAMe,iBAAiB,QAASiK,EAAqBjM,QACrDiB,EAAMe,iBAAiB,QAASiK,EAAqBC,WACrDjL,EAAMe,iBAAiB,OAAQiK,EAAqBE,SACrD,GACD,GACA,EAED1F,MAAQ,SAAC7F,GACR,IAAMP,EAAUO,EAASyC,QAAQ,mBAC3B+I,EAAW/L,EAAQgM,QAAQC,YAC3BC,EAAUlM,EAAQG,cAAc,oBAAoB2G,UAG1D,GAAIiF,EAAU,MAAO,CAACA,EAAUG,EAChC,EAEDvM,OAAS,SAACmC,GACT,IAAM9B,EAAU8B,EAAOI,OAAOc,QAAQ,mBACrBhD,EAAQgD,QAAQ,mBACxBtC,iBAAiB,mBAAmBC,SAAQ,SAASC,GAC7DA,EAAMO,aAAa,iBAAiB,GACpCP,EAAMK,UAAUsB,OAAOrD,EAAUC,YAClC,IACAa,EAAQmB,aAAa,iBAAiB,GACtCnB,EAAQiB,UAAUqB,IAAIpD,EAAUC,aAElBe,SAASC,cAAcyL,EAAqBhD,KAAKpE,OAAOwH,QAAQnD,SACxEsD,oBAAoB,UAAWP,EAAqBH,YAE1D,IAAMW,EAAYR,EAAqBhD,KAAKpE,OAAOrE,cAAc,oBAC3D4L,EAAWH,EAAqBxF,MAAMpG,GAAS,GAC/CkM,EAAUN,EAAqBxF,MAAMpG,GAAS,GAEpDoM,EAAUnL,UAAUsB,OAAO,kBAC3B6J,EAAUtF,UAAYoF,EACtBE,EAAUJ,QAAQC,YAAcF,EAChCH,EAAqBhD,KAAKpE,OAAS,GAEnC,IAAMqE,EAAU7I,EAAQgD,QAAQ,mCAAmCP,aAAa,MAChF4J,EAAcjI,MAAK,IAAAV,OAAKmF,GACxB,EAED7E,KAAO,SAAClC,GACP,IAAM9B,EAAU8B,EAAOI,OAAOc,QAAQ,kBACtC4I,EAAqBhD,KAAKpE,OAASxE,EAGnC4L,EAAqB5G,UACrB,EAED6G,UAAY,SAAC/J,GAGZ,EAEDgK,SAAW,SAAChK,GAGX,EAEDkD,SAAW,WACV,IAAMpF,EAAQM,SAASC,cAAcyL,EAAqBhD,KAAKpE,OAAOwH,QAAQnD,SAC3EjJ,IAEFA,EAAM+B,iBAAiB,UAAWiK,EAAqBH,YAG1C7L,EAAMc,iBAAiB,qCAC/BC,SAAQ,SAASJ,EAAUoF,GAC/BpF,EAASoB,iBAAiB,UAAWiK,EAAqBnE,aAC3D,IAED,EAEDgE,WAAa,SAAC3J,GACb,IAAM9B,EAAU8B,EAAOI,OACjB0D,EAAU9D,EAAO8D,QACjBoE,EAAWlI,EAAOkI,SAClBpK,EAAQM,SAASC,cAAcyL,EAAqBhD,KAAKpE,OAAOwH,QAAQnD,SAExE6C,EADU9L,EAAMO,cAAc,mBACfO,iBAAiB,mBAGtB,KAAZkF,GAAmB5F,EAAQiB,UAAUC,SAAS,oBACjDY,EAAOwB,iBACPoI,EAAK,GAAGpL,SAEO,KAAZsF,GAAmB5F,EAAQiB,UAAUC,SAAS,oBACjDY,EAAOwB,iBACPoI,EAAKA,EAAK3H,OAAS,GAAGzD,SAIP,KAAZsF,GAAgBhG,EAAMO,cAAc,oBAAoBwE,SAG1C,IAAZiB,IAAkBoE,GAA0B,IAAZpE,GAAiBoE,IAAchK,EAAQiB,UAAUC,SAAS,oBAAoBY,EAAOwB,gBAC3H,EAEDmE,aAAe,SAAC3F,GACf,IAAM9B,EAAU8B,EAAOI,OACjB0D,EAAU9D,EAAO8D,QACjBhG,EAAQM,SAASC,cAAcyL,EAAqBhD,KAAKpE,OAAOwH,QAAQnD,SAExE6C,EADU9L,EAAMO,cAAc,mBACfO,iBAAiB,mBAGhCiH,EAAYC,EAAI8D,GAAM7D,QAAQ/F,EAAOI,QAG3B,KAAZ0D,GAA8B,KAAZA,IACrB9D,EAAOwB,iBACPtD,EAAQ2E,SAIO,KAAZiB,IACH9D,EAAOwB,iBACHqE,IAAc+D,EAAK3H,OAAS,EAC/B2H,EAAK,GAAGpL,QAERoL,EAAK/D,EAAY,GAAGrH,SAGN,KAAZsF,IACH9D,EAAOwB,iBACW,IAAdqE,EACH+D,EAAKA,EAAK3H,OAAS,GAAGzD,QAEtBoL,EAAK/D,EAAY,GAAGrH,UAKL,IAAZsF,GAAiB9D,EAAOkI,UAA0B,IAAZpE,IAAkB9D,EAAOkI,YACnElI,EAAOwB,iBACP1D,EAAMO,cAAc,oBAAoBG,QAE1C,GAEDJ,SAASyB,iBAAiB,oBAAoB,WAC7CiK,EAAqBtK,MACtB,IAGA,IAAMgL,EAAmB,CAExBhL,KAAO,WACNgL,EAAiBC,cACjB,EAEDA,aAAe,WACIrM,SAASQ,iBAAiB,mBAClCC,SAAQ,SAASC,GAC1B,IAAM4L,EAAU5L,EAAMT,cAAc,cAAc2G,UAC5C2F,EAAW7L,EAAMT,cAAc,eAC/BuM,EAAe9L,EAAMoC,QAAQ,aAAa7C,cAAc,kBAC1DwM,EAAgBD,EAAaxG,MAC7B0G,EAAU,EAMd,GAHAA,EAAUN,EAAiBO,QAAQF,GACnCF,EAAS3F,UAAY8F,EAEjBF,EAAa1G,UAAY0G,EAAazG,SACzC,OAAO,EAIRyG,EAAa/K,iBAAiB,SAAS,WACtCgL,EAAgBD,EAAaxG,OAC7B0G,EAAUN,EAAiBO,QAAQF,IAGrBH,IACbE,EAAaxG,MAAQoG,EAAiBQ,gBAAgBH,EAAeH,GACrEI,EAAUJ,EACVO,MAAK,MAAArJ,OAAO8I,EAAQ,EAAC,UAAA9I,OAAS8I,EAAO,oBAGtCC,EAAS3F,UAAY8F,CACtB,GACD,GACA,EAEDE,gBAAkB,SAACE,EAAgBC,GAKlC,IAJA,IAAMN,EAAgBK,EAAe9E,MAAM,IACvC6D,EAAW,GACXa,EAAU,EAELM,EAAI,EAAGA,EAAIP,EAAc5I,OAAQmJ,GAAK,EAAG,CACjD,IAAMC,EAAOR,EAAcO,GACrBE,EAAUD,EAAKE,WAAW,GAC1BC,EAAOhB,EAAiBiB,YAAYH,GAE1C,KAAIR,EAAUU,GAAQL,GAIrB,MAHAL,GAAWU,EACXvB,GAAYoB,CAId,CACA,OAAOpB,CACP,EAEDc,QAAU,SAACW,GACV,OAAOA,EAAKtF,MAAM,IAAIuF,KAAI,SAACC,GAAC,OAAKA,EAAEL,WAAW,EAAE,IAAEM,QAAO,SAACC,EAAMC,GAAmB,OAAKD,EAAOtB,EAAiBiB,YAAYM,EAAoB,GAAE,EAClJ,EAEDN,YAAc,SAACO,GACd,OAAQA,GAAY,GAAO,KAAOA,EAAY,EAAI,CACnD,GAED5N,SAASyB,iBAAiB,oBAAoB,WAC7C2K,EAAiBhL,MAClB,IAGA,IAAMyM,EAAe,CAEpBzM,KAAO,WACWpB,SAASQ,iBAAiB,SAClCC,SAAQ,SAASC,GACzBA,EAAMT,cAAc,cAAcwB,iBAAiB,SAAUoM,EAAaC,QAC1EpN,EAAMT,cAAc,eAAewB,iBAAiB,UAAWoM,EAAa/I,UACvEpE,EAAMK,UAAUC,SAAS,gBAO7BN,EAAMT,cAAc,4BAA4BwB,iBAAiB,SAAS,WACzEiD,KAAK5B,QAAQ,SAAS7C,cAAc,cAAcwE,OACnD,IAPK/D,EAAMT,cAAc,4BAA4Bc,UAAUC,SAAS,kBACvEN,EAAMT,cAAc,4BAA4BwB,iBAAiB,QAASoM,EAAY,OAQzF,GACA,EAED/I,SAAW,SAAClD,GACX,IAAM9B,EAAU8B,EAAOI,OACjB0D,EAAU9D,EAAO8D,QAEP,KAAZA,GAA8B,KAAZA,IACrB9D,EAAOwB,iBACPtD,EAAQG,cAAc,cAAcwE,QAErC,EAEDqJ,OAAS,SAAClM,GACT,IAAM9B,EAAU8B,EAAOI,OACjBkG,EAAYpI,EAAQkG,MAE1B,GAAIkC,EAAW,CACd,IAAM6F,EAAWjO,EAAQgD,QAAQ,SAEjC,GAAKiL,EAAShN,UAAUC,SAAS,gBAG1B,CAEN,IAAMgN,EAAY,IAAIC,WACtBD,EAAUE,OAAS,SAASC,GAC3BJ,EAAS9N,cAAc,qBAAqBgB,aAAa,MAAOkN,EAAEnM,OAAOoM,SAE1EJ,EAAUK,cAAcvO,EAAQwO,MAAM,GACvC,MARCP,EAAS9N,cAAc,qBAAqB2G,UAAYsB,EAAUqG,OAAOrG,EAAUsG,YAAY,MAAQ,EAAGtG,EAAUrE,QASrHkK,EAAShN,UAAUqB,IAAI,aAGvByL,EAAaY,MAAMV,GAAU,EAC9B,CACA,EAEDW,OAAS,SAAC9M,GACT,IACMmM,EADUnM,EAAOI,OACEc,QAAQ,SAEjCiL,EAAS9N,cAAc,cAAc+F,MAAQ,GAC7C+H,EAAS9N,cAAc,qBAAqB2G,UAAY,GACxDmH,EAAShN,UAAUsB,OAAO,aAG1BwL,EAAaY,MAAMV,GAAU,EAC7B,EAEDU,MAAQ,SAACpO,EAAUsO,GAClB,IAAM7O,EAAUO,EACZuO,GAAe,EACfC,EAAiB,EACjBC,GAAgB,EAChBC,GAAmB,EAEnBJ,IACHC,GAAe,EACfC,GAAkB,EAClBC,GAAgB,EAChBC,EAAkB,GAGnBjP,EAAQG,cAAc,cAAcgB,aAAa,cAAe2N,GAC3D9O,EAAQiB,UAAUC,SAAS,gBAK/BlB,EAAQG,cAAc,4BAA4BgB,aAAa,WAAY4N,GAH3E/O,EAAQG,cAAc,4BAA4BgB,aAAa,WAAY4N,GAM5E/O,EAAQG,cAAc,eAAegB,aAAa,cAAe6N,GACjEhP,EAAQG,cAAc,eAAegB,aAAa,WAAY8N,EAC/D,GAED/O,SAASyB,iBAAiB,oBAAoB,WAC7CoM,EAAazM,MACd,IAGA,IAAM4N,EAAoB,CAEzBtG,KAAO,CACNuG,OAAS,EACTC,OAAS,IAGV9N,KAAO,WACWpB,SAASQ,iBAAiB,cAClCC,SAAQ,SAASC,GACRA,EAAMF,iBAAiB,cAC/BC,SAAQ,SAASwE,GACzBA,EAAMhF,cAAc,cAAcwB,iBAAiB,SAAUuN,EAAkBlB,QAC/E7I,EAAMhF,cAAc,eAAewB,iBAAiB,UAAWoM,EAAa/I,UAC5EG,EAAMhF,cAAc,4BAA4BwB,iBAAiB,QAASuN,EAAiB,OAC5F,GACD,GACA,EAED5M,IAAM,SAAC/B,GACN2O,EAAkBtG,KAAKuG,SAEvB,IAAME,EAAW9O,EACX8I,EAAUgG,EAASrD,QAAQ3C,QACjBgG,EAAShF,mBAAmB,YAAW3G,wDAAAA,OAEvC2F,GAAO3F,OAAGwL,EAAkBtG,KAAKuG,OAAM,qGAAAzL,OACnB2F,GAAO3F,OAAGwL,EAAkBtG,KAAKuG,OAAMzL,mNAAAA,OAIjDwL,EAAkBtG,KAAKuG,2KAOjDE,EAAS3O,iBAAiB,cAAcC,SAAQ,SAASC,GACxD,IAAM0O,EAAU1H,EAAIyH,EAAS3O,iBAAiB,eAAemH,QAAQjH,GAC/D2O,EAAWF,EAAS3O,iBAAiB,cAE3C6O,EAASD,GAASnP,cAAc,cAAcwB,iBAAiB,SAAUuN,EAAkBlB,QAC3FuB,EAASD,GAASnP,cAAc,eAAewB,iBAAiB,UAAWoM,EAAa/I,UACxFuK,EAASD,GAASnP,cAAc,4BAA4BwB,iBAAiB,QAASuN,SACvF,GACA,EAED3M,OAAS,SAAChC,GACT,IAAMP,EAAUO,EACV8O,EAAWrP,EAAQgD,QAAQ,cAC3BE,EAAWlD,EAAQgD,QAAQ,cACjCE,EAASsM,WAAWC,YAAYvM,GAGhC,IAAMqM,EAAWF,EAAS3O,iBAAiB,cACnB,IAApB6O,EAASxL,SACZwL,EAAS,GAAGtO,UAAUqB,IAAI,eACrBiN,EAAS,GAAGpP,cAAc,yBAA4BkP,EAASpO,UAAUC,SAAS,kBACtFqO,EAAS,GAAGpP,cAAc,aAAakK,mBAAmB,kFAKxDgF,EAAS3O,iBAAiB,wBAAwBqD,SAAYmL,EAAkBtG,KAAKwG,OAAS,GACjGF,EAAkB5M,IAAI+M,EAEvB,EAEDrB,OAAS,SAAClM,GACT,IAAM9B,EAAU8B,EAAOI,OACjBmN,EAAWrP,EAAQgD,QAAQ,cAC3BoF,EAAYpI,EAAQkG,MAE1B,GAAIkC,EAAW,CACd,IAAM6F,EAAWjO,EAAQgD,QAAQ,cACjCiL,EAAS9N,cAAc,qBAAqB2G,UAAYsB,EAAUqG,OAAOrG,EAAUsG,YAAY,MAAQ,EAAGtG,EAAUrE,QACpHkK,EAAShN,UAAUqB,IAAI,aAGvByL,EAAaY,MAAMV,GAAU,GAGzBoB,EAAS3O,iBAAiB,cAAcqD,OAASmL,EAAkBtG,KAAKwG,QAC3EF,EAAkB5M,IAAI+M,EAExB,CACA,EAEDT,OAAS,SAAC9M,GACT,IAAM9B,EAAU8B,EAAOI,OACvBgN,EAAkB3M,OAAOvC,EAC1B,GAEDE,SAASyB,iBAAiB,oBAAoB,WAC7CuN,EAAkB5N,MACnB,IAGA,IAAMoO,EAAgB,CACrBpO,KAAO,WACapB,SAASQ,iBAAiB,uBAClCC,SAAQ,SAASC,GAC3B,IAAM+O,EAAc/O,EAAMT,cAAc,iBACpCwP,IACHD,EAAclP,IAAImP,GAClBA,EAAYhO,iBAAiB,SAAU+N,EAAcE,QACrDD,EAAYhO,iBAAiB,QAAS+N,EAAcE,QAEtD,GACA,EACDpP,IAAM,SAACD,GACN,IAIIsP,EAJE3I,EAAa3G,EAASyC,QAAQ,uBAC9B8M,EAAUvP,EAASkC,aAAa,OAChCsN,EAAUxP,EAASkC,aAAa,OAChC2F,EAAY7H,EAAS2F,MAAQ6J,EAGnC,OAAQD,GACP,IAAK,IACJD,EAAc,GACd,MACD,IAAK,IACJA,EAAc,MACd,MACD,IAAK,IACJA,EAAc,GACd,MACD,IAAK,IACJA,EAAc,IACd,MACD,QACCA,EAAc,IAAMC,EAEtB5I,EAAW/G,cAAc,gBAAgBgB,aAAa,QAASZ,EAAS2F,OACxEgB,EAAW/G,cAAc,mBAAmB+I,MAAM8G,SAAKtM,OAAM0E,EAAYyH,EAAc,IACvF,EACDD,OAAS,SAAC9N,GACT,IAAM9B,EAAU8B,EAAOI,OACvBwN,EAAclP,IAAIR,EACnB,GAEDE,SAASyB,iBAAiB,oBAAoB,WAC7C+N,EAAcpO,MACf,IAGA,IAAM+K,EAAgB,CAErBzD,KAAO,CACNpE,OAAS,GACTyL,UAAY,GAGb3O,KAAO,WACN+K,EAAc6D,WACd7D,EAAc8D,UACd9D,EAAcpD,WACdoD,EAAc+D,MACd,EAEDF,SAAW,WACMhQ,SAASQ,iBAAiB,eAClCC,SAAQ,SAASC,GACxBP,EAAcS,OAAOF,EACtB,GACA,EAEDoE,SAAW,SAACzE,GACX,IAAMqD,EAAerD,EAASG,iBAAiBxB,EAAUI,eACnDuE,EAAaD,EAAa,GAC1BE,EAAYF,EAAaA,EAAaG,OAAS,GAGrDF,EAAWlC,iBAAiB,UAAW0K,EAAcgE,eAErDvM,EAAUnC,iBAAiB,UAAW0K,EAAciE,aACpD,EAEDD,cAAgB,SAACvO,GAChB,IACM8B,EADU9B,EAAOI,OAAOc,QAAQ,eACTtC,iBAAiBxB,EAAUI,eAClDuE,EAAaD,EAAa,GAC1BE,EAAYF,EAAaA,EAAaG,OAAS,GAE9B,IAAnBjC,EAAO8D,SAAiB9D,EAAOkI,UAAYlI,EAAOI,SAAW2B,IAChE/B,EAAOwB,iBACPQ,EAAUxD,QAEX,EAEDgQ,aAAe,SAACxO,GACf,IACM8B,EADU9B,EAAOI,OAAOc,QAAQ,eACTtC,iBAAiBxB,EAAUI,eAClDuE,EAAaD,EAAa,GAC1BE,EAAYF,EAAaA,EAAaG,OAAS,GAE9B,IAAnBjC,EAAO8D,SAAkB9D,EAAOkI,UAAYlI,EAAOI,SAAW4B,IACjEhC,EAAOwB,iBACPO,EAAWvD,QAEZ,EAED0D,KAAO,SAACjD,GACP,IAAMwP,EAAgBrQ,SAASC,cAAcY,GAC7C,GAAKwP,EAAL,CAyBA,GAvBArR,EAAUa,cACVsM,EAAczD,KAAKqH,YAEnBM,EAAcrH,MAAMC,OAASjK,EAAUa,YACvCwQ,EAActP,UAAUqB,IAAIpD,EAAUE,WAEtCF,EAAUK,SAASK,MAAQyM,EAAczD,KAAKqH,UAG9C5P,EAAcI,QAAQ8P,GAGjBA,EAActP,UAAUC,SAAS,iBACrCE,EAAqBlC,EAAUc,QAAQC,MAIvBsQ,EAAc7P,iBAAiB,4CACvCC,SAAQ,SAASC,GACzBA,EAAMO,aAAa,YAAa,EACjC,IAGIoP,EAActP,UAAUC,SAAS,gBAAiB,CACrD,IAAMsP,EAAgBD,EAAcpQ,cAAc,kBAClDqQ,EAActH,MAAMuH,UAAS,GAAA/M,OAAM8M,EAAcxO,aAAgB,KAClE,CAKA,GAHAqK,EAAcrH,SAASuL,GAGnBA,EAAcpQ,cAAc,QACfoQ,EAAc7P,iBAAiB,uBACvCC,SAAQ,SAASC,GACpBA,EAAMK,UAAUC,SAAShC,EAAUC,cACtC2F,EAAYtE,IAAII,EAElB,IAID8P,EAAmBpP,OACnBoP,EAAmBC,QAGnBxM,EAAaY,OAGbwL,EAAcpP,aAAa,eAAe,GAC1CjB,SAASC,cAAcY,EAAU,iBAAiBT,OAnD9B,CAoDpB,EAED6P,QAAU,WACYjQ,SAASQ,iBAAiB,kBAClCC,SAAQ,SAASC,GAC7BA,EAAMe,iBAAiB,SAAS,WAC/B,IAAMkH,EAAUjI,EAAMoL,QAAQnD,QAC9BwD,EAAcrI,KAAK6E,GAGnBwD,EAAczD,KAAKpE,OAAOoM,KAAKhQ,GAG3BA,EAAMK,UAAUC,SAAS,0BAC5BN,EAAMsI,MAAMC,OAAY,IAE1B,GACD,GACA,EAED/E,MAAQ,SAACrD,GACR7B,EAAUa,cACVsM,EAAczD,KAAKqH,YACnB,IAAMM,EAAgBrQ,SAASC,cAAcY,IAE7CwP,EAActP,UAAUsB,OAAOrD,EAAUE,WACzC8E,YAAW,WACVqM,EAAcM,gBAAgB,QAC/B,GAAG3R,EAAUG,gBAEbH,EAAUK,SAASK,MAAQyM,EAAczD,KAAKqH,UAG9CM,EAAcpP,aAAa,eAAe,GAC1Cd,EAAcS,OAAOyP,GAGhBA,EAActP,UAAUC,SAAS,iBACrCE,EAAuBlC,EAAUc,QAAQC,MAItCsQ,EAActP,UAAUC,SAAS,mBACdqP,EAAcpQ,cAAc,kBACpC+I,MAAMuH,UAAiB,MACrCpE,EAAczD,KAAKpE,OAAO6H,EAAczD,KAAKqH,WAAW/G,MAAMC,OAAa,MAI5EkD,EAAczD,KAAKpE,OAAO6H,EAAczD,KAAKqH,WAAW3P,QACxD+L,EAAczD,KAAKpE,OAAOsM,KAC1B,EAED7H,SAAW,WACY/I,SAASQ,iBAAiB,mBAClCC,SAAQ,SAASC,GAC9BA,EAAMe,iBAAiB,SAAS,WAC/B,IAAMkH,EAAUjI,EAAMoL,QAAQnD,QAC9BwD,EAAcjI,MAAMyE,EACrB,GACD,IAEgB3I,SAASQ,iBAAiB,eAClCC,SAAQ,SAASC,GACxBA,EAAMe,iBAAiB,WAAW,SAASG,GACnB,KAAnBA,EAAO8D,SACVyG,EAAcjI,MAAMxD,EAAMT,cAAc,mBAAmB6L,QAAQnD,QAErE,GACD,GACA,EAEDkI,QAAU,CACTC,eAAYC,EACZC,cAAgB,GAGjBC,UAAY,SAACrP,GAAM,OAAKA,EAAOsP,QAAUtP,EAAOsP,QAAQ,GAAKtP,CAAM,EAEnEuP,cAAgB,SAACC,EAAQvQ,EAASwQ,GACjC,IAAMrK,EAAanG,EAAQiC,QAAQ,gBAC7BwO,EAAYtK,EAAWlE,QAAQ,eAGjCwO,EAAUvQ,UAAUC,SAAS,gBAChCmL,EAAc0E,QAAQG,cAAgBO,KAAKC,IAAI,EAAGD,KAAKE,IAAI,GAAIL,IAC/DpK,EAAWgC,MAAMuH,UAAS/M,yBAAAA,OAA4B2I,EAAc0E,QAAQG,cAAgB,KAEhD,KAAxC7E,EAAc0E,QAAQG,cACzBhK,EAAWjG,UAAUqB,IAAI,WAGrBkP,EAAUvQ,UAAUC,SAAS,gBAChB,aAAZqQ,IACCrK,EAAWjG,UAAUC,SAAS,WACjCgG,EAAWjG,UAAUsB,OAAO,WAE5B2E,EAAW/G,cAAc,mBAAmBwE,SAI9CuC,EAAWjG,UAAUsB,OAAO,YAK1BiP,EAAUvQ,UAAUC,SAAS,iBAChB,aAAZqQ,GAAqC,KAAXD,GAC7BpK,EAAW/G,cAAc,mBAAmBwE,OAI/C,EAEDyL,KAAO,WACelQ,SAASQ,iBAAiB,mBAClCC,SAAQ,SAASC,GAC7B,IAAIgR,EACAC,EACEC,EAAkBlR,EAAMoC,QAAQ,eAAe7C,cAAc,kBACnEkM,EAAc0E,QAAQG,cAAgB,GACtC7E,EAAcgF,cAAchF,EAAc0E,QAAQG,cAAeY,GAGjElR,EAAMe,iBAAiB,cAAc,SAASG,GAC7CuK,EAAc0E,QAAQC,UAAY3E,EAAc8E,UAAUrP,GAAQiQ,MAClEH,EAAYvF,EAAc0E,QAAQC,SACnC,IAGApQ,EAAMe,iBAAiB,aAAa,SAASG,GAC5C,QAAwCmP,IAApC5E,EAAc0E,QAAQC,UAA1B,CACA,IAAMe,EAAQ1F,EAAc8E,UAAUrP,GAAQiQ,MAExCC,GADS3F,EAAc0E,QAAQC,UAAYe,GACxB1K,OAAOC,YAAc,IAC9C+E,EAAcgF,cAAchF,EAAc0E,QAAQG,cAAgBc,EAASF,GAC3EzF,EAAc0E,QAAQC,UAAYe,EAClCF,EAAUE,CANyC,CAQpD,IAGAnR,EAAMe,iBAAiB,YAAY,WAClC0K,EAAc0E,QAAQC,eAAYC,EAClC,IAAMe,EAAWJ,EAAYvK,OAAOC,YAAc,IAAQuK,EAAUxK,OAAOC,YAAc,IACrF0K,EAAU,EACb3F,EAAcgF,cAAc,IAAKS,EAAiB,YACxCE,GAAW,EACrB3F,EAAcgF,cAAc,GAAIS,EAAiB,YAE7CzF,EAAc0E,QAAQG,cAAgB,GACzC7E,EAAcgF,cAAc,IAAKS,EAAiB,YAElDzF,EAAcgF,cAAc,GAAIS,EAAiB,WAGpD,IAGAlR,EAAMe,iBAAiB,SAAS,SAASG,GACjB,KAAnBA,EAAO8D,QACVyG,EAAcgF,cAAc,IAAKS,EAAiB,YAEvB,KAAnBhQ,EAAO8D,SACfyG,EAAcgF,cAAc,GAAIS,EAAiB,WAEnD,GACD,GACD,GAED5R,SAASyB,iBAAiB,oBAAoB,WAC7C0K,EAAc/K,MACf,IAGA,IAAM2Q,EAAkB,CAEvBrJ,KAAO,CACNpE,OAAS,GACT2E,OAAS,IAGV7H,KAAO,WACN2Q,EAAgB/B,WAChB+B,EAAgB9B,UAChB8B,EAAgBhJ,UAChB,EAEDiH,SAAW,WACMhQ,SAASQ,iBAAiB,YAClCC,SAAQ,SAASC,GACxBP,EAAcS,OAAOF,EACtB,GACA,EAEDoD,KAAO,SAACjD,GACeb,SAASQ,iBAAiB,oBAClCC,SAAQ,SAASC,GAC9BqR,EAAgB7N,MAAKV,IAAAA,OAAK9C,EAAMsR,IACjC,IAEAD,EAAgBrJ,KAAKO,SACrB,IAAMoH,EAAgBrQ,SAASC,cAAcY,GACvCoR,EAAe5B,EAAcvN,QAAQ,WAK1B,UADNiP,EAAgBG,SAASD,IAEnCA,EAAalR,UAAUqB,IAAI,gBAG5BiO,EAAcrH,MAAMC,OAAS8I,EAAgBrJ,KAAKO,OAClDoH,EAActP,UAAUqB,IAAIpD,EAAUE,WAEtCF,EAAUK,SAASM,SAAU,EAE7BQ,EAAcI,QAAQ8P,GAGtBA,EAAcpP,aAAa,eAAe,GAC1CjB,SAASC,cAAcY,GAAST,QAGhC+R,EAAsB/Q,KAAKiP,EAAe,OAC1C,EAED6B,SAAW,SAAC7R,GACX,IACI6R,EAAW,GAIf,OALgB7R,EAASJ,cAAc,eAE3BgH,wBAAwBmL,KAAQjL,OAAOkL,WAAa,IAC/DH,EAAW,SAELA,CACP,EAEDjC,QAAU,WACYjQ,SAASQ,iBAAiB,oBAClCC,SAAQ,SAASC,GAC7BA,EAAMe,iBAAiB,SAAS,WAC/B,IAAM6Q,EAAY5R,EAAMoL,QAAQwG,UAChCP,EAAgBjO,KAAKwO,GACrBP,EAAgBrJ,KAAKpE,OAAS5D,CAC/B,GACD,GACA,EAEDwD,MAAQ,SAACrD,GACRkR,EAAgBrJ,KAAKO,SACrB,IAAMoH,EAAgBrQ,SAASC,cAAcY,GACvCoR,EAAe5B,EAAcvN,QAAQ,WAE3CuN,EAActP,UAAUsB,OAAOrD,EAAUE,WAEzC8E,YAAW,WACVqM,EAAcM,gBAAgB,SAC9BsB,EAAalR,UAAUsB,OAAO,eAC/B,GAAGrD,EAAUG,gBAEbH,EAAUK,SAASM,SAAU,EAG7B0Q,EAAcpP,aAAa,eAAe,GAC1C8Q,EAAgBrJ,KAAKpE,OAAOlE,QAC5BD,EAAcS,OAAOyP,GAGrB8B,EAAsB/Q,KAAKiP,EAAe,QAC1C,EAEDtH,SAAW,WACY/I,SAASQ,iBAAiB,qBAClCC,SAAQ,SAASC,GAC9BA,EAAMe,iBAAiB,SAAS,WAC/B,IAAM6Q,EAAY5R,EAAMoL,QAAQwG,UAChCP,EAAgB7N,MAAMoO,EACvB,GACD,GACD,GAEDtS,SAASyB,iBAAiB,oBAAoB,WAC7CsQ,EAAgB3Q,MACjB,IAGA,IAAM+Q,EAAwB,CAE7B/Q,KAAO,SAACmR,EAAUlB,GACjB,IAAMmB,EAAgBL,EAAsBjM,MAAMqM,GAC9CC,GACHL,EAAsB7R,IAAIiS,EAAUC,EAAenB,EAEpD,EAEDnL,MAAQ,SAACqM,GACR,IAAIE,EAKJ,MAJqB,CAAC,+BAAgC,+BAAgC,+BACzEhS,SAAQ,SAASC,GAC7B+R,EAAaA,GAAcF,EAASzP,QAAQpC,EAC7C,IACO+R,CACP,EAEDnS,IAAM,SAACiS,EAAUG,EAAarB,GAC7Bc,EAAsBD,SAASK,EAAUG,GACzB,SAAZrB,EACHqB,EAAYjR,iBAAiB,SAAU0Q,EAAsBtM,QACvC,UAAZwL,GACVqB,EAAYzG,oBAAoB,SAAUkG,EAAsBtM,OAEjE,EAEDA,OAAS,SAACjE,GACT,IAAM6Q,EAAa7Q,EAAOI,OACNyQ,EAAWjS,iBAAiB,oBACpCC,SAAQ,SAASC,GAC5ByR,EAAsBD,SAASxR,EAAO+R,EACvC,GACA,EAEDP,SAAW,SAACK,EAAUG,GACrB,IAAIC,EAAUD,EAAYzP,WACtB2P,EAAUF,EAAYvQ,UACXoQ,EAASzP,QAAQ,WAErB/B,UAAUC,SAAS,gBAC7BuR,EAASvJ,MAAM6J,eAAWrP,OAAMmP,EAAW,MAE3CJ,EAASvJ,MAAM8J,eAAUtP,OAAOmP,EAAW,MAE5CJ,EAASvJ,MAAM+J,cAASvP,OAAOoP,EAAW,KAC3C,GAIKI,EAAkB,CAEvB5R,KAAO,WACN4R,EAAgBnN,QAChB,EAEDA,OAAS,WACR,IAAMoN,EAAQ,oBAAoB9K,KAAK+K,UAAUC,WAClCnT,SAASQ,iBAAiB,gBAClCC,SAAQ,SAASC,GACvBA,EAAMe,kBAA2B,IAAVwR,EAAiB,aAAe,QAASD,EAAgBlP,MAChFpD,EAAMe,kBAA2B,IAAVwR,EAAiB,WAAa,OAAQD,EAAgB9O,MAC9E,GACA,EAEDJ,KAAO,SAAClC,GACP,IACMwR,EADUxR,EAAOI,OACAc,QAAQ,YACzBuQ,EAAIL,EAAgBd,SAASkB,GAAQ,GACrCE,EAAIN,EAAgBd,SAASkB,GAAQ,GACrCG,EAAWP,EAAgBd,SAASkB,GAAQ,GAElDA,EAAOrS,UAAUqB,IAAIpD,EAAUE,UAASsE,GAAAA,OAAK6P,GAAC,GAAA7P,OAAO8P,IACrDF,EAAOnT,cAAc,iBAAiB+I,MAAMwK,SAAQ,GAAAhQ,OAAM+P,EAAY,KACtE,EAEDrP,MAAQ,SAACtC,GACR,IACMwR,EADUxR,EAAOI,OACAc,QAAQ,YAE/BsQ,EAAOrS,UAAUsB,OAAOrD,EAAUE,WAClCkU,EAAOnT,cAAc,iBAAiB+I,MAAMwK,SAAa,GAEzDxP,YAAW,WACVoP,EAAOrS,UAAUsB,OAAO,MAAO,SAAU,OAAQ,QAClD,GAAGrD,EAAUG,eACb,EAED+S,SAAW,SAAC7R,GACX,IAAMoT,EAAUpT,EAASJ,cAAc,gBACjCyT,EAAcvM,OAAOkL,WACvBgB,EAAI,MACJI,EAAQxM,wBAAwBC,IAAOC,OAAOC,YAAc,IAC/DiM,EAAI,UAEL,IAAIC,EAAI,OACJC,EAAWG,EAAcnC,KAAKoC,MAAMF,EAAQxM,wBAAwBmL,MAKxE,OAJIqB,EAAQxM,wBAAwBmL,KAAQjL,OAAOkL,WAAa,IAC/DiB,EAAI,QACJC,EAAWG,GAAeA,EAAcnC,KAAKoC,MAAMF,EAAQxM,wBAAwBmL,QAE7E,CAACiB,EAAGC,EAAGC,EACf,GAEDvT,SAASyB,iBAAiB,oBAAoB,WAC7CuR,EAAgB5R,MACjB,IAGA,IAAMwS,EAAgB,CAErBlL,KAAO,CACNpE,OAAS,IAGVlD,KAAO,WACNwS,EAAc3D,UACd2D,EAAc7K,UACd,EAEDjF,KAAO,SAACjD,GACab,SAASQ,iBAAiB,kBAClCC,SAAQ,SAASC,GAC5BkT,EAAc1P,MAAKV,IAAAA,OAAK9C,EAAMsR,IAC/B,IAEA,IAAM3B,EAAgBrQ,SAASC,cAAcY,GAE7CwP,EAActP,UAAUqB,IAAIpD,EAAUE,WAEtCF,EAAUK,SAASO,OAAQ,EAG3BO,EAAcI,QAAQ8P,GACtBA,EAAcpP,aAAa,eAAe,GAC1CjB,SAASC,cAAcY,GAAST,OAChC,EAED6P,QAAU,WACYjQ,SAASQ,iBAAiB,kBAClCC,SAAQ,SAASC,GAC7BA,EAAMe,iBAAiB,SAAS,WAC/B,IAAMoS,EAAUnT,EAAMoL,QAAQ+H,QAC9BD,EAAc9P,KAAK+P,GACnBD,EAAclL,KAAKpE,OAAS5D,CAC7B,GACD,GACA,EAEDwD,MAAQ,SAACrD,GACR,IAAMwP,EAAgBrQ,SAASC,cAAcY,GAE7CwP,EAActP,UAAUsB,OAAOrD,EAAUE,WAEzCF,EAAUK,SAASO,OAAQ,EAG3ByQ,EAAcpP,aAAa,eAAe,GACtC2S,EAAclL,KAAKpE,QACtBsP,EAAclL,KAAKpE,OAAOlE,QAE3BD,EAAcS,OAAOyP,EACrB,EAEDtH,SAAW,WACY/I,SAASQ,iBAAiB,mBAClCC,SAAQ,SAASC,GAC9BA,EAAMe,iBAAiB,SAAS,WAC/B,IAAMoS,EAAUnT,EAAMoL,QAAQ+H,QAC9BD,EAAc1P,MAAM2P,EACrB,GACD,GACD,GAED7T,SAASyB,iBAAiB,oBAAoB,WAC7CmS,EAAcxS,MACf,IAGApB,SAASyB,iBAAiB,oBAAoB,WAC7CzB,SAASC,cAAc,QAAQwB,iBAAiB,SAAS,SAASG,IAG7D5C,EAAUK,SAASC,gBACjBsC,EAAOI,OAAOqB,cAActC,UAAUC,SAAS,UAAU2E,EAAcU,mBAIzErH,EAAUK,SAASE,cACjBqC,EAAOI,OAAOqB,cAActC,UAAUC,SAAS,kBAAkBiF,EAAeG,YAIlFpH,EAAUK,SAASG,eAClBoC,EAAOI,OAAOjB,UAAUC,SAAS,mBAAqBY,EAAOI,OAAOjB,UAAUC,SAAShC,EAAUE,YACpGuJ,EAAiBvE,QAKflF,EAAUK,SAASI,QAClBmC,EAAOI,OAAOjB,UAAUC,SAAS,iBAAmBY,EAAOI,OAAOjB,UAAUC,SAAShC,EAAUE,YAClG6K,EAAoB7F,QAKlBlF,EAAUK,SAASK,MAAQ,GAC1BkC,EAAOI,OAAOjB,UAAUC,SAAS,eAAiBY,EAAOI,OAAOjB,UAAUC,SAAShC,EAAUE,YAChGiN,EAAcjI,MAAM,IAAMtC,EAAOI,OAAOgQ,IAKtChT,EAAUK,SAASM,WACjBiC,EAAOI,OAAOc,QAAQ,aAAgBlB,EAAOI,OAAOc,QAAQ,qBAC1C9C,SAASQ,iBAAiB,oBAClCC,SAAQ,SAASC,GAC9BqR,EAAgB7N,MAAKV,IAAAA,OAAK9C,EAAMsR,IACjC,KAKEhT,EAAUK,SAASO,QACjBgC,EAAOI,OAAOc,QAAQ,WAAclB,EAAOI,OAAOc,QAAQ,mBAC1C9C,SAASQ,iBAAiB,kBAClCC,SAAQ,SAASC,GAC5BkT,EAAc1P,MAAKV,IAAAA,OAAK9C,EAAMsR,IAC/B,IAGH,GACD,IASA,IAAM/N,EAAe,CAEpB7C,KAAO,WACN6C,EAAaY,OACbZ,EAAa4B,SACb5B,EAAa6P,OACb,EAEDjO,OAAS,WACQ7F,SAASQ,iBAAiB,8BAClCC,SAAQ,SAASC,GACxBA,EAAMe,iBAAiB,QAASwC,EAAa8P,SAC9C,GACA,EAEDA,SAAW,SAACnS,GACX,IAAM9B,EAAU8B,EAAOI,OAEnBgS,GAAS,EADIlU,EAAQgD,QAAQ,iBAEpB/B,UAAUC,SAAShC,EAAUE,aACzC8U,GAAS,GAEV/P,EAAa3D,IAAIR,EAASkU,EAC1B,EAEDF,MAAQ,WACU9T,SAASQ,iBAAiB,+BAClCC,SAAQ,SAASC,GACzBA,EAAMe,iBAAiB,QAASwC,EAAagQ,UAC9C,GACA,EAEDA,UAAY,SAACrS,GACIA,EAAOI,OACfc,QAAQ,iBAAiB7C,cAAc,gBAAgBwE,OAC/D,EAEDI,KAAO,WACW7E,SAASQ,iBAAiB,iBAClCC,SAAQ,SAASC,GACzB,IAAIsT,GAAS,EAGTtT,EAAMK,UAAUC,SAAShC,EAAUE,aACtC8U,GAAS,GAIV/P,EAAa3D,IAAII,EAAMT,cAAc,gBAAiB+T,EACvD,GACA,EAED1T,IAAM,SAACD,EAAU6T,GAChB,IAAMrR,EAAWxC,EAASyC,QAAQ,iBAC5BqR,EAAU9T,EAASJ,cAAc,gBAEnCmU,EAAe,KACfF,GACHrR,EAAS9B,UAAUqB,IAAIpD,EAAUE,WACjCkV,EAAe,MAEfvR,EAAS9B,UAAUsB,OAAOrD,EAAUE,WAEjCiV,IACHA,EAAQvN,UAAYwN,GAIrBnQ,EAAawK,MAAMpO,EAAU6T,EAC7B,EAEDzF,MAAQ,SAACpO,EAAU6T,GAClB,IAAMrR,EAAWxC,EAASyC,QAAQ,iBAC5BuR,EAAYxR,EAASrC,iBAAiB,iBACtC8T,EAAczR,EAASiJ,QAAQyI,UAEjCC,GAAa,EACbC,GAAW,EACXP,IACHM,GAAa,EACbC,GAAW,GAEZpU,EAASY,aAAa,gBAAiBuT,GAEvCH,EAAU5T,SAAQ,SAASC,GAC1BA,EAAMO,aAAa,cAAewT,GAE9BP,EACH/T,EAAcI,QAAQG,GAEtBP,EAAcS,OAAOF,GAGlB4T,GACHrQ,EAAayQ,SAAShU,EAAOwT,EAE/B,GACA,EAEDQ,SAAW,SAACrU,EAAU6T,GACrB,IAAIS,EAAY,EACZT,IACHS,EAAYtU,EAASyB,cAEtBzB,EAAS2I,MAAMuH,aAAS/M,OAAMmR,EAAa,KAC5C,GAED3U,SAASyB,iBAAiB,oBAAoB,WAC7CwC,EAAa7C,MACd,IAMA,IAAMwT,EAAiB,CAEtBxT,KAAO,WACNwT,EAAe/O,QACf,EAEDA,OAAS,WACQ7F,SAASQ,iBAAiB,eAClCC,SAAQ,SAASC,GACxBA,EAAMe,iBAAiB,SAAS,WAC/B,IACIuS,GAAS,EADIhU,SAASC,cAAauD,IAAAA,OAAKkB,KAAKoH,QAAQ+I,aAE5C9T,UAAUC,SAAShC,EAAUE,aACzC8U,GAAS,GAEVY,EAAetU,IAAIoE,KAAMsP,EAC1B,GACD,GACA,EAEDnP,KAAO,WACW7E,SAASQ,iBAAiB,iBAClCC,SAAQ,SAASC,GACzB,IAAIsT,GAAS,EAGTtT,EAAMK,UAAUC,SAAShC,EAAUE,aACtC8U,GAAS,GAIVY,EAAetU,IAAII,EAAMT,cAAc,gBAAiB+T,EACzD,GACA,EAED1T,IAAM,SAACD,EAAU6T,GAChB,IAAMrR,EAAW7C,SAASC,cAAauD,IAAAA,OAAKnD,EAASyL,QAAQ+I,aACzDT,EAAe,KACfF,GACH7T,EAASyC,QAAQ,MAAM/B,UAAUqB,IAAIpD,EAAUC,aAC/C4D,EAAS9B,UAAUqB,IAAIpD,EAAUE,WACjCkV,EAAe,OAEf/T,EAASyC,QAAQ,MAAM/B,UAAUsB,OAAOrD,EAAUC,aAClD4D,EAAS9B,UAAUsB,OAAOrD,EAAUE,YAErCmB,EAASJ,cAAc,gBAAgB2G,UAAYwN,EAGnDQ,EAAenG,MAAMpO,EAAU6T,EAC/B,EAEDzF,MAAQ,SAACpO,EAAU6T,GAClB,IAAMrR,EAAW7C,SAASC,cAAauD,IAAAA,OAAKnD,EAASyL,QAAQ+I,aAEzDL,GAAa,EACbC,GAAW,EACXP,IACHM,GAAa,EACbC,GAAW,GAEZpU,EAASY,aAAa,gBAAiBuT,GACvC3R,EAAS5B,aAAa,cAAewT,GAEjCP,EACH/T,EAAcI,QAAQsC,GAEtB1C,EAAcS,OAAOiC,EAEvB,GAED7C,SAASyB,iBAAiB,oBAAoB,WAC7CmT,EAAexT,MAChB,IAGA,IAAM0T,EAAwB,CAC7B1T,KAAO,WACapB,SAASQ,iBAAiB,0BAClCC,SAAQ,SAASC,GAC3B,IAAMqU,EAAWrU,EAAMoC,QAAQ,SAC/B,GAAIiS,EAEH,GADmBA,EAAS9U,cAAc,2BAEzC6U,EAAsB1S,IAAI2S,OACpB,CAEN,GAAIrU,EAAMoC,QAAQ,aAAc,CAC/B,IAAMkS,EAAQtU,EAAMoC,QAAQ,aAAatC,iBAAiB,UAM1D,YALAwU,EAAMvU,SAAQ,SAASJ,EAAUoF,GAC3BuP,EAAMnR,OAAS,IAAO4B,GAC1BqP,EAAsB1S,IAAI/B,EAE5B,GAED,CACA,IACM4U,EADavU,EAAMoC,QAAQ,YACNtC,iBAAiB,YAC5CyU,EAAQxU,SAAQ,SAASJ,EAAUoF,GAC7BwP,EAAQpR,OAAS,IAAO4B,GAC5BqP,EAAsB1S,IAAI/B,EAE5B,GACD,CAEF,GACA,EACD+B,IAAM,SAAC/B,GACNA,EAASU,UAAUqB,IAAI,YACxB,GAEDpC,SAASyB,iBAAiB,oBAAoB,WAC7CqT,EAAsB1T,MACvB,IAGA,IAAMoP,EAAqB,CAC1BpP,KAAO,WACapB,SAASQ,iBAAiB,iBAClCC,SAAQ,SAASC,GAC3B,IACMuU,GADavU,EAAMoC,QAAQ,aAAepC,EAAMoC,QAAQ,mBACnCtC,iBAAiB,YACtC0U,EAAaxU,EAAMoB,aAEzB0O,EAAmBlQ,IAAI2U,EAASC,EACjC,GACA,EACDzE,MAAQ,WACYzQ,SAASQ,iBAAiB,4BAClCC,SAAQ,SAASC,GAC3B,IAEMuU,EAFavU,EAAMoC,QAAQ,SACL7C,cAAc,SACjBO,iBAAiB,uBACpC0U,EAAaxU,EAAMT,cAAc,eAAe6B,aAEtD0O,EAAmBlQ,IAAI2U,EAASC,EACjC,GACA,EACD5U,IAAM,SAACD,EAAU8U,GAChB,IAAMF,EAAU5U,EAChB4U,EAAQxU,SAAQ,SAASJ,EAAUoF,GAC7BwP,EAAQpR,OAAS,IAAO4B,IAC5BpF,EAASU,UAAUqB,IAAI,yBACvB/B,EAAS2I,MAAMoM,+BAAa5R,OAAoB2R,EAAW,MAE7D,GACD,GAEDnV,SAASyB,iBAAiB,oBAAoB,WAC7C+O,EAAmBpP,OACnBoP,EAAmBC,OACpB,IAGA,IAAM4E,EAAgB,WACrB,IAAMC,EAA0B,IAArBnO,OAAOC,YAClBpH,SAASuV,gBAAgBvM,MAAMwM,YAAY,OAAMhS,GAAAA,OAAK8R,QACvD,EACAtV,SAASyB,iBAAiB,oBAAoB,WAC7C4T,GACD,IACAlO,OAAO1F,iBAAiB,SAAU4T,GAmElC,IAAMI,EACE,WACN,IAAMC,EAAS1V,SAASC,cAAc,iBACtC,GAAIyV,EAAQ,CACX,IAAM3V,EAAOC,SAASC,cAAc,SACpCyV,EAAOjU,iBAAiB,SAAS,WAChC1B,EAAKoC,UAAY,CAClB,GACD,CACD,EAEDnC,SAASyB,iBAAiB,oBAAoB,WAC7CgU,GACD,IAGA,IAAME,EAAwB,CAE7BrV,IAAM,WACUN,SAASQ,iBAAiB,eAClCC,SAAQ,SAASC,GACvB,IAAMkV,EAAUlV,EAAMoL,QAAQ8J,QAC1BC,GAAU,EACVnV,EAAMoL,QAAQ+J,UAASA,EAAUC,QAAQpV,EAAMoL,QAAQ+J,UAE3D,IAAIE,GAAU,EACgB,UAA1BrV,EAAMoL,QAAQiK,UAAqBA,GAAU,GAEjDJ,EAAsB9Q,KAAKnE,EAAOkV,EAASC,EAASE,EACrD,GACA,EAEDlR,KAAO,SAACxE,EAAU2V,EAAOC,EAAOC,GAC/B,IACIC,EAAU,gBACyB,IAFxBhP,OAAOiP,SAASC,KAEpB1O,QAAQ,iBAClBwO,EAAU,UAEX9V,EAASY,aAAa,eAAe,GACrCqV,OAAOC,cAAc,CACpBC,UAAWnW,EACXoW,KAAI,GAAAjT,OAAK2S,4BAAO3S,OAAyBwS,EAAY,SACrDU,SAAU,MACVC,KAAMV,EACNW,SAAUV,EACVW,MAAO,EACPC,KAAMd,GAEP,EAEDe,QAAU,WACT,IAAMC,EAAchX,SAASC,cAAc,gCACvC+W,GACHrB,EAAsB9Q,KAAKmS,EAAa,WAAW,GAAM,EAE3D,GAEDrB,EAAsBrV,MACtBqV,EAAsBoB,UAGtB,IAAME,EAAiB,CACtB3W,IAAM,WACYN,SAASQ,iBAAiB,cAClCC,SAAQ,SAASC,GACzB,IAAImC,EAAW,GACXqU,EAAiB,GACrB,GAAIxW,EAAMoC,QAAQ,SAAU,CAG3B,IAFAD,EAAWnC,EAAMoC,QAAQ,UAEZ/B,UAAUC,SAAS,uBAC/B,OAAO,EAERkW,EAAiBrU,CAClB,CAEInC,EAAMoC,QAAQ,iBAEjBoU,GADArU,EAAWnC,EAAMoC,QAAQ,gBACC7C,cAAc,mBAGrC4C,EAASiJ,QAAQqL,UACpBF,EAAepR,OAAOqR,EAExB,GACA,EACDrR,OAAS,SAACxF,GACTA,EAASoB,iBAAiB,UAAU,WACnC,IAAM0V,EAAWzS,KAAKzE,cAAc,cAC9BmX,EAAgB1S,KAAKvC,UACvBkV,EAAYF,EAASjV,UAAYiV,EAASrV,aAG1CwV,EAAgB,GAChB5S,KAAK5B,QAAQ,WAEhBwU,EADW5S,KAAK5B,QAAQ,SACC7C,cAAc,4BAGpCyE,KAAK5B,QAAQ,iBAEhBwU,EADW5S,KAAK5B,QAAQ,eACC7C,cAAc,8BACvCoX,EAAYF,EAASjV,WAGlBkV,EAAgBC,EACnBC,EAAcvW,UAAUqB,IAAIpD,EAAUC,aAEtCqY,EAAcvW,UAAUsB,OAAOrD,EAAUC,YAE3C,GACD,GAEDgY,EAAe3W,MA6Bf,IAAMiX,EAAY,CACjBnW,KAAO,WAENmW,EAAUC,QACV,EACDA,OAAS,WACSxX,SAASC,cAAc,qBAC/BwB,iBAAiB,SAAS,WAClC,IAAMgW,EAAQzX,SAASQ,iBAAiB,qBACpCkE,KAAKgT,QACRD,EAAMhX,SAAQ,SAASC,GACtBuD,EAAa3D,IAAII,EAAMT,cAAc,cAAc,EACpD,IAEAwX,EAAMhX,SAAQ,SAASC,GACtBuD,EAAa3D,IAAII,EAAMT,cAAc,cAAc,EACpD,GAEF,GACA,EACD6T,MAAQ,WACW9T,SAASQ,iBAAiB,yBAClCC,SAAQ,SAASC,GAC1BA,EAAMe,iBAAiB,SAAS,SAAS0M,GACxCA,EAAE/K,iBACF,IAAMuU,EAAUjT,KAAKnC,aAAa,QAC5BqV,EAAe5X,SAASC,cAAc0X,GACvB,OAAjBC,IACH5X,SAASC,cAAc,SAASkC,UAAYyV,EAAa1V,UAE3D,GACD,GACD,GAEDlC,SAASyB,iBAAiB,oBAAoB,WAC7C8V,EAAUnW,MACX"}